---
title: インクルード ファイル
description: インクルード ファイル
services: iot-suite
author: dominicbetts
ms.service: iot-suite
ms.topic: include
ms.date: 04/25/2018
ms.author: dobett
ms.custom: include file
ms.openlocfilehash: f27dbf20eab5866ac3061d888c17e970a1d197f7
ms.sourcegitcommit: 266fe4c2216c0420e415d733cd3abbf94994533d
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/01/2018
ms.locfileid: "34666757"
---
# <a name="azure-and-the-internet-of-things"></a>Azure とモノのインターネット

Microsoft Azure とモノのインターネット (IoT) にようこそ この記事では、クラウドの IoT ソリューションの一般的な特性について説明します。 IoT ソリューションでは、数百万に達する可能性があるデバイスと、ソリューション バックエンドとの間にセキュリティで保護された双方向通信が必要です。 たとえばソリューションでは、自動化された予測分析を使用して、デバイスとクラウドとの間でやり取りされるイベント ストリームから知見を得ることが考えられます。

## <a name="iot-solution-architecture"></a>IoT ソリューションのアーキテクチャ

次の図は、一般的な IoT ソリューションのアーキテクチャの主な要素を示しています。 この図は、使用されている Azure サービスなどの特定の実装の詳細や、デバイスのオペレーティング システムには依存しません。 このアーキテクチャでは、IoT デバイスはクラウド ゲートウェイに送信するデータを収集します。 クラウド ゲートウェイは、他のバックエンド サービスが処理にデータを使用できるようにします。 こうしたバックエンド サービスのデータの配信先は以下のとおりです。

* 他の基幹業務アプリケーション。
* 人間のオペレーター (ダッシュボードなどの表示デバイスを使用)。

![IoT ソリューションのアーキテクチャ][img-solution-architecture]

> [!NOTE]
> IoT アーキテクチャの詳細については、「[Microsoft Azure IoT Reference Architecture (Microsoft Azure IoT リファレンス アーキテクチャ)][lnk-refarch]」を参照してください。

### <a name="device-connectivity"></a>デバイスの接続性

IoT ソリューション アーキテクチャでは、通常、デバイスがテレメトリをクラウドに送信して格納し処理します。 たとえば、予測メンテナンスのシナリオでは、ソリューション バックエンドでセンサー データのストリームを使用して、特定のポンプのメンテナンスが必要な時期を判断することがあります。 デバイスは、クラウドからデバイスへのメッセージを受信し、クラウド エンドポイントからのメッセージを読み取り、コマンドに応答することもできます。 同じ例では、ソリューション バックエンドでポンプ場のその他のポンプにメッセージを送信して、メンテナンスの開始予定直前にフローの再ルーティングを開始することが考えられます。 そうすればメンテナンス エンジニアが到着してすぐにメンテナンスを開始することが可能です。

多くの場合、デバイスを安全かつ確実に接続することが、IoT ソリューションの最も大きな課題です。 これは、IoT デバイスには、ブラウザーやモバイル アプリなど、他のクライアントとは異なる特性があるためです。 具体的には、IoT デバイスの特性は次のとおりです。

* 多くの場合、人間が操作することのない組み込みシステムです (電話とは異なります)。
* 物理アクセスに大きなコストがかかる離れた場所にデプロイされている場合があります。
* ソリューション バック エンド経由でしか到達できない場合があります。 デバイスとやり取りする他の方法はありません。
* 電源や処理リソースが限られている場合があります。
* ネットワーク接続が断続的に切れたり、遅かったり、高コストである場合があります。
* 専用、カスタム、または業界固有のアプリケーション プロトコルを使用することが必要になる場合があります。
* 一般的なハードウェアおよびソフトウェア プラットフォームを多数使用して作成できます。

上記の制約に加え、IoT ソリューションはスケーラブルで安全かつ信頼できる必要もあります。

通信プロトコルとネットワークの可用性に応じて、デバイスはクラウドと直接通信するか、中間ゲートウェイを介して通信します。 IoT アーキテクチャでは、多くの場合、この 2 つの通信方式が混在しています。

### <a name="data-processing-and-analytics"></a>データ処理と分析

最新の IoT ソリューションでは、データ処理は、クラウドまたはデバイス側で行われます。 デバイス側の処理は、"*エッジ コンピューティング*" と呼ばれます。 どこでデータが処理されるかは、次の要因によって異なります。

* ネットワーク制約。 デバイスとクラウドの間の帯域幅が限られている場合は、エッジ処理が推進されます。
* 応答時間。 ほぼリアルタイムでデバイスを操作する必要があるときは、デバイス自体で応答を処理する方がよい場合があります。 緊急時に停止する必要があるロボット アームなどです。
* 規制環境。 一部のデータは、クラウドに送信できません。

一般的に、エッジとクラウドの両方でデータを処理する場合は、次のように機能を組み合わせます。

* デバイスから大量のテレメトリを受信し、そのデータを処理および格納する方法を決定します。
* テレメトリを分析して、リアルタイムで処理するか結果に基づいて処理するかについて、洞察を提供します。
* クラウドまたはゲートウェイ デバイスから、特定のデバイスにコマンドを送信します。

さらに、IoT クラウド バックエンドは次を提供する必要があります。

* 次を行うためのデバイス登録機能:
    * 新しいデバイスをプロビジョニングする。
    * どのデバイスに対してインフラストラクチャへの接続を許可するかを制御する。
* デバイスの状態を制御し、そのアクティビティを監視するためのデバイス管理。

たとえば、予測メンテナンスのシナリオでは、テレメトリ データ履歴がクラウド バックエンドで保存されます。 ソリューション は、このデータを使用して、特定のポンプにおける潜在的な異常動作を、その動作によって実際に問題が発生する前に特定します。 データ分析を実行すると、予防ソリューションとは、コマンドをデバイスに送信して、是正措置を実行することであるのがわかります。 このプロセスにより、デバイスとクラウドの間に自動フィードバック ループが生成され、ソリューションの効率性が大幅に向上します。

### <a name="presentation-and-business-connectivity"></a>プレゼンテーションおよびビジネスの接続性

プレゼンテーションおよびビジネスの接続性レイヤーでは、エンド ユーザーが IoT ソリューションおよびデバイスとやり取りできます。 このレイヤーによって、ユーザーが、デバイスから収集されたデータを表示して分析することができます。 これらのビューは、履歴データとほぼリアルタイムのデータの両方を表示できる、ダッシュボードまたは BI レポートの形式をとることができます。 たとえば、オペレーターは、特定のポンプ場の状態を確認し、システムによって生成されるアラートを参照できます。 また、このレイヤーによって、IoT ソリューション バックエンドと既存の基幹業務アプリケーションの統合が可能になり、企業のビジネス プロセスやワークフローと結びつけることができます。 たとえば、予測メンテナンス ソリューションアクセレレータは、メンテナンスを必要とするポンプ を特定したときに、エンジニアのポンプ場訪問を予約するスケジューリング システムと統合することができます。

[img-solution-architecture]: ./media/iot-azure-and-iot/iot-reference-architecture.png
[img-dashboard]: ./media/iot-azure-and-iot/iot-suite.png

[lnk-iot-hub]: ../articles/iot-hub/iot-hub-what-is-iot-hub.md
[lnk-iot-suite]: ../articles/iot-accelerators/iot-accelerators-what-are-solution-accelerators.md
[lnk-machinelearning]: http://azure.microsoft.com/documentation/services/machine-learning/
[Azure IoT solution accelerators]: http://azure.microsoft.com/solutions/iot
[lnk-protocol-gateway]:  ../articles/iot-hub/iot-hub-protocol-gateway.md
[lnk-refarch]: http://download.microsoft.com/download/A/4/D/A4DAD253-BC21-41D3-B9D9-87D2AE6F0719/Microsoft_Azure_IoT_Reference_Architecture.pdf
