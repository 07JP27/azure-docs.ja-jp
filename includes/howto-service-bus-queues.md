<a id="what-are-service-bus-queues"></a>
##サービス バス キューとは

サービス バス キューは、**メッセージ通信仲介**モデルをサポートしています。キューを使用すると、分散アプリケーションのコンポーネントが互いに
直接通信することがなくなり、仲介者の役割を果たすキューを介して
メッセージをやり取りすることになります。メッセージ プロデューサー (送信者) は
キューにメッセージを送信した後で、それまでの処理を引き続き実行します。
メッセージ コンシューマー (受信者) は、キューからメッセージを非同期に
受信して処理します。メッセージ プロデューサーは、それ以降のメッセージの
処理と送信を続ける場合、メッセージ コンシューマーからの応答を
待つ必要がありません。キューでは、コンシューマーが競合している場合のメッセージ配信に
**先入先出法 (FIFO)** を使用します。つまり、通常はキューに追加された
順番にメッセージが受信され、処理されます。このとき、メッセージを受信
および処理できるメッセージ コンシューマーは、メッセージ 1 件につき
1 つだけです。

![QueueConcepts](./media/howto-service-bus-queues/sb-queues-08.png)

サービス バス キューは汎用テクノロジであり、幅広いシナリオで
使用できます。

-   多層 Windows Azure アプリケーションでの Web ロールと Worker ロールとの
    間の通信
-   ハイブリッド ソリューションでの内部設置型アプリケーションと Windows Azure によって
    ホストされるアプリケーションとの間の通信
-   複数の組織で実行される分散アプリケーションまたは 1 つの組織内の
    異なる部署で実行される分散アプリケーションのコンポーネント間の
    通信

キューを使用すると、アプリケーションのスケール アウト性および
アーキテクチャの復元性を有効にできます。

<a id="create-a-service-namespace"></a>
<h2>サービス名前空間の作成</h2>

Windows Azure のサービス バス キューを使用するには、最初にサービス
名前空間を作成する必要があります。サービス名前空間は、アプリケーション内で
サービス バス リソースをアドレス指定するためのスコープ コンテナーを提供します。

サービス名前空間を作成するには:

1. [Windows Azure の管理ポータル][]にログオンします。

2. 管理ポータルの左のナビゲーション ウィンドウで、
**[サービス バス]** をクリックします。

3. 管理ポータルの下のウィンドウの **[作成]** をクリックします。
	![](./media/howto-service-bus-queues/sb-queues-03.png)

4. **[新しい名前空間を追加する]** ダイアログで、名前空間の名前を入力します。
    その名前が使用できるかどうかがすぐに自動で確認されます。
	![](./media/howto-service-bus-queues/sb-queues-04.png)

5. 入力した名前が利用できることを確認できたら、名前空間を
    ホストする国またはリージョンを選択します (コンピューティング 
    リソースを展開する国またはリージョンと同じ国またはリージョンを
    必ず使用してください)。

	重要: アプリケーションを展開する予定の国またはリージョンと**同じ国/リージョン**
    を選択してください。そうすることで、パフォーマンスが最高になります。

6.	チェック マークをクリックします。これで、システムによってサービス名前空間が
    作成および有効化されます。システムがアカウントのリソースを準備し
    終わるまでに、数分間かかる場合があります。

	![](./media/howto-service-bus-queues/getting-started-multi-tier-27.png)

作成した名前空間が管理ポータルに表示され、アクティブになります。これには
少し時間がかかります。ステータスが **[アクティブ]** になるのを待ってから、
次に進みます。

<a id="obtain-default-credentials"></a>
<h2>名前空間の既定の管理資格情報の取得</h2>

新しく作成した名前空間に対してキューの作成などの管理操作を実行するには、
名前空間の管理資格情報を取得する必要があります。

1. 左側のナビゲーション ウィンドウで **[サービス バス]** ノードをクリック
    して、利用可能な名前空間の一覧を表示します。
	![](./media/howto-service-bus-queues/sb-queues-13.png)

2. 表示された一覧から先ほど作成した名前空間を選択します。
	![](./media/howto-service-bus-queues/sb-queues-09.png)

3. **[接続情報]** をクリックします。
	![](./media/howto-service-bus-queues/sb-queues-06.png)

4. **[接続情報へのアクセス]** ダイアログで、**[既定の発行者]** と **[既定のキー]** のエントリを探します。その値を書き留めておきます。この情報は、この後に名前空間に対して操作を実行するときに使用します。

  [Windows Azure の管理ポータル]: http://manage.windowsazure.com
  [Windows Azure の管理ポータル]: http://manage.windowsazure.com



