

次のステップでは、Azure で新しいモバイル サービスを作成し、この新しいサービスへのアクセスを可能にするコードをプロジェクトに追加します。モバイル サービスを作成する前に、Visual Studio で Azure サブスクリプションから .publishsettings ファイルをインポートする必要があります。これにより、Visual Studio は Azure に自動的に接続することができます。新しいモバイル サービスを作成するとき、アプリケーション データを格納するためにモバイル サービスで使用される Azure SQL データベースを指定する必要があります。


1. Visual Studio 2013 で、ソリューション エクスプローラーを開き、プロジェクトを右クリックして、**[追加]**、**[接続済みサービス]** の順にクリックします。

	![接続済みサービスの追加](./media/mobile-services-create-new-service-vs2013/mobile-add-connected-service.png)

2. [サービス マネージャー] ダイアログで **[サービスの作成]** をクリックし、[モバイル サービスの作成] ダイアログの **[サブスクリプション]** で [**&lt;インポート&gt;**] をクリックします。

	![VS 2013 からの新しいモバイル サービスの作成](./media/mobile-services-create-new-service-vs2013/mobile-create-service-from-vs2013.png)

3. [Azure サブスクリプションのインポート] で、**[サブスクリプション ファイルのダウンロード]** をクリックし、必要であれば Azure アカウントにログインします。ブラウザーがファイルの保存を要求した場合は、**[保存]** をクリックします。

	![VS でのサブスクリプション ファイルのダウンロード](./media/mobile-services-create-new-service-vs2013/mobile-import-azure-subscription.png)

	<div class="dev-callout"><strong>注</strong> <p>ログイン ウィンドウはブラウザーに表示されます。このウィンドウは、Visual Studio のウィンドウの後ろに表示されている場合があります。ダウンロードした .publishsettings ファイルの保存場所を書き留めておいてください。プロジェクトが Azure サブスクリプションに既に接続している場合は、この手順をスキップできます。</p></div>

4. **[参照]** をクリックし、.publishsettings ファイルを保存した場所に移動して、そのファイルを選択します。次に、**[開く]** をクリックして **[インポート]** をクリックします。

	![VS でのサブスクリプションのインポート](./media/mobile-services-create-new-service-vs2013/mobile-import-azure-subscription-2.png)

	Visual Studio によって、Azure サブスクリプションへの接続に必要なデータがインポートされます。サブスクリプションに 1 つ以上の既存のモバイル サービスが含まれている場合、サービス名が表示されます。

	<div class="dev-callout"><strong>セキュリティ上の注意</strong> <p>発行設定をインポートした後、ダウンロードした .publishsettings ファイルには他のユーザーがアカウントにアクセスするために使用できる情報が含まれているので、削除することを検討してください。接続されている他のアプリケーション プロジェクトで使用するためにこのファイルを保持する場合は、セキュリティで保護してください。</p></div>

5. **[モバイル サービスの作成]** ダイアログに戻り、**[サブスクリプション]** とモバイル サービスの目的の **[リージョン]** を選択して、モバイル サービス名を **[名前]** に入力します。

	<div class="dev-callout"><strong>注</strong> <p>モバイル サービスの名前は一意の名前であることが必要です。指定した名前が利用できない場合は、<strong>[名前]</strong> の横に赤い X が表示されます。</p></div>		

6. **[データベース]** で、[**&lt;無料の SQL データベースの作成&gt;**] を選択し、**[サーバーのユーザー名]**、**[サーバーのパスワード]**、**[サーバーのパスワードの確認入力]** を入力して、**[作成]** をクリックします。

  	![VS 2013 からのサービスの作成 (パート 2)](./media/mobile-services-create-new-service-vs2013/mobile-create-service-from-vs2013-2.png)


	> [WACOM.NOTE]
	> このチュートリアルの一環として、新しい無料の SQL データベース インスタンスと SQL データベース サーバーを作成します。この新しいデータベースは、再利用したり、その他の SQL データベース インスタンスと同様に管理したりすることができます。作成できる無料のデータベース インスタンスは 1 つだけです。新しいモバイル サービスと同じリージョンにデータベースを既に所有している場合は、代わりに既存のデータベースを選択できます。既存のデータベースを選択するときは、正しいログイン資格情報を指定してください。誤った資格情報を指定すると、異常な状態のモバイル サービスが作成されます。

   	モバイル サービスが作成されると、モバイル サービス クライアント ライブラリへの参照がプロジェクトに追加され、プロジェクトのソース コードが更新されます。


