## <a name="load-balancer-differences"></a>ロード バランサーの相違点

Microsoft Azure を使用してネットワーク トラフィックを分散するさまざまなオプションがあります。 これらのオプション動作が異なります、その他の設定し、さまざまなシナリオをサポートするさまざまな機能が含まれています。 各ことができます、単独で使用するか、それらを組み合わせています。

* **Azure ロード バランサー**はトランスポート層 (OSI ネットワーク参照スタックでレイヤー 4) で機能します。 同じ Azure データ センターで実行するアプリケーションのインスタンス間でのトラフィックのネットワーク レベルの分散を提供します。
* **Application Gateway**はアプリケーション層 (OSI ネットワーク参照スタック内のレイヤー 7) で機能します。 リバース プロキシ サービスは、クライアント接続を終了し、バックエンド エンドポイントへの要求の転送として機能します。
* **Traffic Manager** DNS レベルで機能します。  世界各地に分散エンドポイントにトラフィックをエンドユーザーをダイレクトするのに DNS 応答を使用します。 クライアントし、それらのエンドポイントに直接接続します。

次の表には、各サービスによって提供される機能をまとめたものです。

| サービス | Azure ロード バランサー | アプリケーション ゲートウェイ | Traffic Manager |
| --- | --- | --- | --- |
| テクノロジ |トランスポート レベル (レイヤー 4) |アプリケーション レベル (Layer 7) |DNS レベル |
| サポートされるアプリケーション プロトコル |Any |HTTP、HTTPS、および Websocket |いずれか (HTTP エンドポイントがエンドポイントの監視に必要) |
| エンドポイント |Azure Vm とクラウド サービスのロール インスタンス |どの Azure 内部 IP アドレス、パブリック インターネット IP アドレス、Azure の仮想マシン、または Azure クラウド サービス |Azure Vm、クラウド サービス、Azure Web Apps、および外部エンドポイント |
| Vnet のサポート |両方のインターネットに公開されたおよび内部の (Vnet) アプリケーションのために使用します。 |両方のインターネットに公開されたおよび内部の (Vnet) アプリケーションのために使用します。 |インターネットに接続されたアプリケーションのみをサポートします。 |
| エンドポイントの監視 |プローブを使用してサポート |プローブを使用してサポート |HTTP または HTTPS GET 経由でサポートされています。 |

Azure ロード バランサーとアプリケーション ゲートウェイのルートのネットワーク エンドポイントにトラフィックしますが、どのトラフィックを処理するさまざまな使用シナリオです。 次の表では、2 つのロード バランサーの違いを理解することを支援します。

| 型 | Azure ロード バランサー | アプリケーション ゲートウェイ |
| --- | --- | --- |
| プロトコル |UDP/TCP |HTTP、HTTPS、および Websocket |
| IP の予約 |サポート |サポートされていません |
| 負荷分散モード |5 tuple(source IP, source port, destination IP, destination port, protocol type) |ラウンド ロビン<br>URL に基づくルーティング |
| 負荷分散モード (ソース IP/スティッキー セッション) |2 タプル (発信元 ip アドレスと送信先 ip アドレス) は、3 タプル (発信元 IP、宛先 IP とポート)。 スケール アップまたはをスケール ダウンの仮想マシンの数に基づいて |Cookie ベースのアフィニティ<br>URL に基づくルーティング |
| 正常性プローブ |既定値: プローブの期間に 15 秒です。 ローテーションから除外: 2 つの連続失敗します。 ユーザー定義のプローブをサポートしています |アイドル状態のプローブ間隔は 30 秒です。 5 つの連続するライブ トラフィック障害またはアイドル状態のモードで単一のプローブの障害の後に実行します。 ユーザー定義のプローブをサポートしています |
| SSL オフロード |サポートされていません |サポート |
| Url ベースのルーティング | サポートされていません | サポート|
| SSL ポリシー | サポートされていません | サポート|
