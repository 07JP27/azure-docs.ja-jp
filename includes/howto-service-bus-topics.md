<h2><a name="what-are-service-bus-topics"></a>サービス バス トピックとサブスクリプションとは</h2>

サービス バスのトピックとサブスクリプションは、**メッセージ通信の発行/
サブスクライブ** モデルをサポートします。トピックとサブスクリプションを使用すると、
分散アプリケーションのコンポーネントが互いに直接通信することがなくなり、
仲介者の役割を果たすトピックを介してメッセージをやり取りすることに
なります。

![TopicConcepts](./media/howto-service-bus-topics/sb-topics-01.png)

すべてのメッセージが 1 つのコンシューマーによって処理される サービス バス
キューとは異なり、トピックとサブスクリプションでは発行/サブスクライブ パターンを
使用した **1 対多**形式の通信を行います。複数のサブスクリプションを
1 つのトピックに登録することができます。トピックに送信されたメッセージは
サブスクリプションに渡され、各サブスクリプションで独立して処理することが
できます。

トピック サブスクリプションは、トピックに送信されたメッセージのコピーを受け取る
仮想キューのようなものです。トピックに対するフィルター ルールを
サブスクリプション単位で登録することもできます。これを使用すると、トピックに
送信されるどのメッセージをどのトピック サブスクリプションで受信するかをフィルター
処理したり、制限したりできます。

サービス バスのトピックとサブスクリプションを使用することで、多数のユーザー
およびアプリケーションの間でやり取りされる膨大な数のメッセージを処理することも
できます。

<h2><a name="create-a-service-namespace"></a>サービス名前空間の作成</h2>

Windows Azure のサービス バスのトピックとサブスクリプションを使用するには、
最初にサービス名前空間を作成する必要があります。サービス名前空間は、アプリケーション内で
サービス バス リソースをアドレス指定するためのスコープ コンテナーを
提供します。

サービス名前空間を作成するには:

1. [Windows Azure の管理ポータル][]にログオンします。

2. 管理ポータルの左のナビゲーション ウィンドウで、
**[サービス バス]** をクリックします。

3. 管理ポータルの下のウィンドウの **[作成]** をクリックします。
    ![][0]

4. **[新しい名前空間を追加する]** ダイアログで、名前空間の名前を入力します。
    その名前が使用できるかどうかがすぐに自動で確認されます。
    ![][2]

5. 入力した名前が利用できることを確認できたら、名前空間を
    ホストする国またはリージョンを選択します (コンピューティング 
    リソースを展開する国またはリージョンと同じ国またはリージョンを
    必ず使用してください)。

	重要: アプリケーションを展開する予定の国またはリージョンと**同じ国/リージョン**
    を選択してください。そうすることで、パフォーマンスが最高になります。

6.	チェック マークをクリックします。これで、システムによってサービス名前空間が
    作成および有効化されます。システムがアカウントのリソースを準備し
    終わるまでに、数分間かかる場合があります。

	![][6]


<h2><a name="obtain-default-credentials"></a>名前空間の既定の管理資格情報の取得</h2>

新規作成した名前空間に対してトピックやサブスクリプションの作成などの
管理操作を実行するには、名前空間の管理資格情報を取得する必要が
あります。

1. 左側のナビゲーション ウィンドウで **[サービス バス]** ノードを
    クリックして、利用可能な名前空間の一覧を表示します。   
    ![][0]

2. 表示された一覧から先ほど作成した名前空間を選択します。
    ![][3]

3. **[接続情報]** をクリックします。
    ![][4]

4. **[接続情報へのアクセス]** ダイアログで、**[既定の発行者]** と **[既定のキー]** のエントリを探します。その値を書き留めておきます。この情報は、この後に名前空間に対して操作を実行するときに使用します。

 
  [Windows Azure の管理ポータル]: http://manage.windowsazure.com
  [0]: ./media/howto-service-bus-topics/sb-queues-13.png
  [2]: ./media/howto-service-bus-topics/sb-queues-04.png
  [3]: ./media/howto-service-bus-topics/sb-queues-09.png
  [4]: ./media/howto-service-bus-topics/sb-queues-06.png
  
  [6]: ./media/howto-service-bus-topics/getting-started-multi-tier-27.png

