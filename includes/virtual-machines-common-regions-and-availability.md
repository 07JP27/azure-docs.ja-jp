# リージョンと可用性の概要
Azure は、世界中の複数のデータセンターで動作しています。これらのデータセンターは、地理的なリージョンにグループ化されていて、アプリケーションの作成場所を選択するときの柔軟性を与えています。ストレージのレプリケーションや可用性セットなど、Azure プラットフォームの冗長性と可用性の機能を活用することで、アプリケーションに高可用性を実現するビルドもできます。

## Azure リージョンとは?
Azure では、'米国西部'、'北ヨーロッパ'、'東南アジア' のように定義された地理的リージョンで、VM などのリソースを作成することができます。現在、世界中で 26 の Azure リージョンがあります。[リージョンとその場所の一覧](https://azure.microsoft.com/regions/)をご確認ください。各リージョンには、冗長性と可用性を提供するために複数のデータ センターが存在します。こうすることで、アプリケーションを構築する際の柔軟性が提供され、ユーザーに最も近い仮想マシン (VM) を作成して、法律、コンプライアンス、税金などの各種の目的に合致させることができます。

## 特殊な Azure リージョン
コンプライアンスまたは法的な目的を果たすための特殊な Azure リージョンがいくつかあり、アプリケーションを構築するときに利用することができます。

既存の特殊なリージョンは次のとおりです。

- **米国政府バージニア**および**米国政府アイオワ**
    - 物理的および論理的にネットワークが分離された Azure インスタンス。米国の政府機関やパートナー (選別された米国の担当者が運営する) 向け。[FedRAMP](https://www.microsoft.com/ja-JP/TrustCenter/Compliance/FedRAMP)、[DISA](https://www.microsoft.com/ja-JP/TrustCenter/Compliance/DISA) などのその他のコンプライアンス証明書が含まれます。詳細については「[Azure Government](https://azure.microsoft.com/features/gov/)」をご覧ください。
- **オーストラリア東部**および**オーストラリア南東部**
    - これらのリージョンをご利用いただけるのは、オーストラリアまたはニュージーランドに事業の活動場所を持つお客様のみです。
- **インド中部**、**インド南部**、および**インド西部**
    - これらのリージョンは現在、ボリューム ライセンス契約をされているお客様と、インドでローカル登録しているパートナーがご利用可能です。2016 年中には、ダイレクト オンライン サブスクリプションにアクセスがオープンされる予定です。
- **中国東部**および**中国北部**
    - これらのリージョンは、Microsoft と 21Vianet 間の特異なパートナーシップを通じてご利用いただけます。この契約により、Microsoft はデータ センターを直接管理しません。詳細については、[中国での Microsoft Azure のページ](http://www.windowsazure.cn/)をご覧ください。

発表済みの特殊なリージョンは次のとおりです。

- **ドイツ中部**および**ドイツ北東部**
    - 新しいデータ トラスティ モデルを通して、Azure をご利用いただけます。お客様のデータは、ドイツのデータ トラスティを務める Deutsche Telekom 傘下の T-Systems の管理の下、ドイツ国内で保管されます。

## リージョンのペア
各 Azure リージョンは、同じ Geo 内 (米国、ヨーロッパ、アジアなど) の別のリージョンと組み合わせて使用します。こうすることで、1 つの Geo のリソース (VM ストレージなど) のレプリケーションを考慮し、自然災害、暴動、停電、または両方のリージョンに同時に影響を与える物理的なネットワーク障害が発生する可能性を小さくします。リージョンのペアには他にも次の利点があります。

- Azure の障害の規模が大きい場合に、各ペアの一方のリージョンを優先することで、アプリケーションの復元時間短縮を図ることができます。
- 計画的な Azure の更新をペアになっているリージョンの 1 つずつにロールアウトすることで、ダウンタイムとアプリケーション停止のリスクを最小限に抑えことができます。
- 税および法の執行を目的として、同じ Geo に常にペアとしてデータが存在します (ブラジル南部を除く)。

リージョンのペアの例は次のとおりです。

| プライマリ | セカンダリ |
|:---------------|:------------|
| 米国西部 | 米国東部 |
| 北ヨーロッパ | 西ヨーロッパ |
| 東南アジア | 東アジア |

リージョンのペアの完全な一覧は[こちら](../articles/best-practices-availability-paired-regions.md#what-are-paired-regions)で確認できます。

## 使用可能な機能
特定の VM サイズやストレージ タイプなど、一部のサービスや VM 機能は特定のリージョンのみでご利用いただけます。[Azure Active Directory](../articles/active-directory/active-directory-whatis.md)、[Traffic Manager](../articles/traffic-manager/traffic-manager-overview.md)、[Azure DNS](../articles/dns/dns-overview.md) など、特定のリージョンを選択する必要がないグローバル Azure サービスもあります。アプリケーション環境の設計をスムーズにするために、[各リージョンの Azure サービスの可用性のページ](https://azure.microsoft.com/regions/#services)をご確認ください。


## ストレージの可用性
Azure のリージョンと Geo を理解することは、使用可能な Azure Storage のレプリケーション オプションを検討する際に重要になります。ストレージ アカウントを作成するときは、次のレプリケーション オプションのいずれかを選択する必要があります。

- ローカル冗長ストレージ (LRS)
    - ストレージ アカウントが作成されたリージョン内のデータを 3 回レプリケートします。
- ゾーン冗長ストレージ (ZRS)
    - 1 つのリージョン内または 2 つのリージョンまたがって、2 ～ 3 つの施設でデータを 3 回レプリケートします。
- geo 冗長ストレージ (GRS)
    - プライマリ リージョンから数百マイル離れたセカンダリ リージョンにデータをレプリケートします。
- 読み取りアクセス geo 冗長ストレージ (RA-GRS)
    - GRS と同様にセカンダリ リージョンにデータをレプリケートしますが、2 次拠点のデータに対する読み取り専用アクセスも提供します。

次の表に、ストレージ レプリケーションの種類の違いの簡単な概要を示します。

| レプリケーションの方法 | LRS | ZRS | GRS | RA-GRS |
|:-----------------------------------------------------------------------------------|:----|:----|:----|:-------|
| 複数施設にわたってのデータのレプリケート | いいえ | はい | はい | はい |
| 1 次拠点に加えて 2 次拠点からもデータの読み取り可能 | いいえ | いいえ | いいえ | はい |
| 個別のノードで保持されるデータ コピーの数 | 3 | 3 | 6 | 6 |

詳細については、[Azure ストレージのレプリケーション オプションのページ](../articles/storage/storage-redundancy.md)を参照してください。

### ストレージ コスト
価格は、ストレージの種類と選択した可用性によって異なります。

- Standard ストレージは通常のスピニング ディスクにバックアップされ、使用中の容量と希望するストレージの可用性に基づいて課金されます。
    - RA-GRS では、別の Azure リージョンへのデータのレプリケーションにかかる帯域幅に対して、Geo レプリケーション データ転送料金がかかります。
- Premium ストレージはソリッド ステート ドライブ (SSD) にバックアップされ、ディスクの容量に基づいて課金されます。

さまざまなストレージの種類と可用性オプションの料金情報については、「[Azure Storage 料金](https://azure.microsoft.com/pricing/details/storage/)」をご覧ください。


## Azure のイメージ
Azure では、イメージから VM を作成します。通常は、これは、パートナーが構成済みの完全な OS またはアプリケーションのイメージを提供することができる [Azure Marketplace](https://azure.microsoft.com/marketplace/) から作成されたイメージになります。

Azure Marketplace のイメージから VM を作成するときは、実際にはテンプレートを使用します。Azure Resource Manager のテンプレートは、宣言型の JavaScript Object Notation (JSON) ファイルで、VM、ストレージ、仮想ネットワークなどで構成される複雑なアプリケーション環境を作成するために使用できます。[独自のテンプレートを作成する](../articles/resource-group-authoring-templates.md)方法など、[Azure Resource Manager のテンプレート](../articles/resource-group-overview.md)を使用する方法については、詳細をお読みください。

独自のカスタム イメージを作成し、[Azure CLI](../articles/virtual-machines/virtual-machines-linux-upload-vhd.md) または [Azure PowerShell](../articles/virtual-machines/virtual-machines-windows-upload-image.md) を使用してアップロードし、特定のビルド要件を満たすカスタム VM をすばやく作成することもできます。カスタム イメージを使用する場合、VM は、イメージ自体と同じストレージ アカウントに格納されている必要があります。1 つのリージョンにイメージをアップロードし、そこから他の Azure リージョンにまたがって VM を作成することはできません。


## 可用性セット
可用性セットは VM の論理グループで、これによって Azure は、冗長性と可用性を提供するために、アプリケーションが構築された方法を理解することができます。高可用性アプリケーションを提供し、[99\.95% Azure SLA](https://azure.microsoft.com/support/legal/sla/virtual-machines/) に適合するために、1 つの可用性セット内に 2 つ以上の VM を作成することをお勧めします。可用性セットは、ハードウェアの障害から保護する障害ドメイン (FD) と、更新の安全な適用を可能にする更新ドメイン (UD) という 2 つの追加グループによって機能します。

![更新ドメインと障害ドメインの構成の概念図](./media/virtual-machines-common-regions-and-availability/ud-fd-configuration.png)

[Linux VM](../articles/virtual-machines/virtual-machines-linux-manage-availability.md) または [Windows VM](../articles/virtual-machines/virtual-machines-linux-manage-availability.md) の可用性を管理する方法については、詳細をお読みください。

### 障害ドメイン
障害ドメインは、オンプレミスのデータ センター内のラックのように、共通の電源やネットワーク スイッチを共有する基盤となるハードウェアの論理グループです。可用性セット内に VM を作成すると、Azure プラットフォームは、潜在的な物理ハードウェア障害やネットワーク障害、電源中断の影響を限定的なものにするために、障害ドメインに VM を自動的に分散します。

### 更新ドメイン
更新ドメインは、メンテナンスや再起動が同時に行われる可能性のある、基盤となるハードウェアの論理グループです。可用性セット内に VM を作成すると、Azure プラットフォームは、Azure プラットフォームの定期的なメンテナンス実施時にも、アプリケーションのインスタンスが少なくとも 1 つは常に実行され続けるように、更新ドメインに VM を自動的に分散します。計画済みメンテナンス中、更新ドメインの再起動順は連続では処理されない場合がありますが、一度に再起動される更新ドメインは 1 つのみであることに、ご注意ください。


## 次のステップ
[Azure の可用性のベスト プラクティス](../articles/best-practices-availability-checklist.md)については、詳細をお読みください。

<!---HONumber=AcomDC_0803_2016-->