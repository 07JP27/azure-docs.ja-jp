<properties 
	pageTitle="クラウド サービスの管理方法 - Azure" 
	description="Azure プレビュー ポータルでクラウド サービスを管理する方法について説明します。" 
	services="cloud-services" 
	documentationCenter="" 
	authors="Thraka" 
	manager="timlt" 
	editor=""/>

<tags 
	ms.service="cloud-services" 
	ms.workload="tbd" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="07/01/2015"
	ms.author="adegeo"/>


# クラウド サービスの管理方法

> [AZURE.SELECTOR]
- [Azure Portal](cloud-services-how-to-manage.md)
- [Azure Preview Portal](cloud-services-how-to-manage-portal.md)

Azure プレビュー ポータルの **[クラウド サービス]** 領域では、サービス ロールまたはデプロイメントの更新、ステージングされたデプロイメントの運用環境への昇格、クラウド サービスに対するリソースのリンク (リソースの依存関係を把握してリソースの規模をまとめて設定するため)、およびクラウド サービスまたはデプロイメントの削除ができます。


## 方法: クラウド サービス ロールまたは展開の更新

クラウド サービスのアプリケーション コードを更新する必要がある場合は、クラウド サービス ブレードの **[更新]** を使用します。1 つのロールを更新することも、すべてのロールを更新することもできます。新しいサービス パッケージとサービス構成ファイルをアップロードする必要があります。

1. [Azure プレビュー ポータル][]で、更新するクラウド サービスを選択します。クラウド サービス インスタンス ブレードが開きます。

2. ブレードで、**[更新]** ボタンをクリックします。

    ![[更新] ボタン](./media/cloud-services-how-to-manage-portal/update-button.png)

3. デプロイを新しいサービス パッケージ ファイル (.cspkg) およびサービス構成ファイル (.cscfg) で更新します。

    ![UpdateDeployment](./media/cloud-services-how-to-manage-portal/update-blade.png)

4. **必要に応じて**、デプロイメント ラベルとストレージ アカウントを更新します。

5. 更新によってロールの数またはロールのサイズが変わる場合は、**[ロールのサイズまたは数が変更された場合に更新を許可する]** チェック ボックスをオンにしないと更新を続行できません。

	>[AZURE.WARNING]ロールのサイズ (つまり、ロール インスタンスをホスティングする仮想マシンのサイズ) またはロールの数を変更した場合、各ロール インスタンス (仮想マシン) にイメージを再適用する必要があり、ローカル データがすべて失われることに注意してください。

6. ロール インスタンスが 1 つしかないサービス ロールがある場合は、**[1 つ以上のロールに単一のインスタンスが含まれている場合でも更新する]** チェック ボックスをオンにして、アップグレードを続行できるようにします。

	Azure でクラウド サービスの更新中に 99.95% の可用性を保証できるのは、各ロールに少なくとも 2 つのロール インスタンス (仮想マシン) がある場合だけです。この場合、1 台の仮想マシンでクライアントからの要求を処理し、もう 1 台で更新を行うことができます。

8. **[OK]** をクリックして、サービスの更新を開始します。



## 方法: 展開をスワップしてステージングされた展開を運用環境に昇格

**[スワップ]** を使用して、クラウド サービスのステージング展開を運用環境に昇格します。クラウド サービスの新しいリリースを展開するときは、顧客が運用環境で現在のリリースを使用しながら、クラウド サービスのステージング環境で新しいリリースをステージングしテストできます。新しいリリースを運用環境に昇格する準備ができたら、**[スワップ]** を使用して 2 つの展開のアドレスである URL を切り替えることができます。

展開のスワップは、**[クラウド サービス]** ページまたはダッシュボードから実行できます。

1. [Azure プレビュー ポータル][]で、更新するクラウド サービスを選択します。クラウド サービス インスタンス ブレードが開きます。

2. ブレードで、**[スワップ]** ボタンをクリックします。

    ![クラウド サービスのスワップ](./media/cloud-services-how-to-manage-portal/swap-button.png)

3. 次のような確認ダイアログが表示されます。

	![クラウド サービスのスワップ](./media/cloud-services-how-to-manage-portal/swap-prompt.png)

4. デプロイメント情報を確認した後、**[OK]** をクリックしてデプロイメントをスワップします。

	変更されるのは展開の仮想 IP アドレス (VIP) だけであるため、展開のスワップは直ちに実行されます。

	コンピューティング費用を節約するために、新しい運用展開が予想どおりに動作することが確認できたら、ステージング環境の展開を削除することができます。

## 方法: クラウド サービスに対するリソースのリンク

Azure プレビュー ポータルでは、現在の Azure ポータルとは異なり、リソースが一緒にリンクされません。代わりに、追加のリソースを、クラウド サービスで使用されている同じリソース グループにデプロイする必要があります。

## 方法: 展開とクラウド サービスの削除

クラウド サービスを削除する前に、既存の展開をそれぞれ削除する必要があります。

コンピューティング費用を節約するために、運用展開が予想どおりに動作することが確認できたら、ステージング環境の展開を削除することができます。クラウド サービスが実行中でない場合でも、ロール インスタンスのコンピューティング費用は請求されます。

以下の手順を使用して、展開またはクラウド サービスを削除します。

1. [Azure プレビュー ポータル][]で、を削除するクラウド サービスを選択します。クラウド サービス インスタンス ブレードが開きます。

2. ブレードで、**[削除] **ボタンをクリックします。

    ![クラウド サービスのスワップ](./media/cloud-services-how-to-manage-portal/delete-button.png)

3. クラウド サービス全体を削除するには、**[クラウド サービスとそのデプロイ]** をオンにするか、または **[運用環境のデプロイ]** と **[ステージング環境のデプロイ]** のいずれかを選択します。

    ![クラウド サービスのスワップ](./media/cloud-services-how-to-manage-portal/delete-blade.png)

4. 下部にある **[削除] **ボタンをクリックします。

5. クラウド サービスを削除するには、**[クラウド サービスの削除]** をクリックします。次に、確認ダイアログで **[はい]** をクリックします。

> [AZURE.NOTE]Azure でクラウド サービスに詳細監視が構成されている場合、クラウド サービスを削除しても、ストレージ アカウントから監視データは削除されません。データは手作業で削除する必要があります。メトリック テーブルのある場所については、[この](cloud-services-how-to-monitor.md)記事を参照してください。

[Azure プレビュー ポータル]: https://portal.azure.com

<!---HONumber=July15_HO5-->