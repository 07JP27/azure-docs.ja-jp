<properties linkid="manage-services-how-to-scale-a-sqldb" urlDisplayName="規模の設定方法" pageTitle="SQL データベースの規模の設定方法 - Azure" metaKeywords="" description="Azure の SQL データベースの規模変更の選択肢について説明します。" metaCanonical="" services="sql-database" documentationCenter="" title="SQL データベース ソリューションの規模の設定方法" authors="" solutions="" manager="" editor="" />





<h1 id="scale">SQL データベース ソリューションの規模の設定方法</h1>


Azure の場合、データベースの拡張性はスケール アウトと同義です。データ センターにある複数のコモディティ サーバーにワークロードが再配分されます。スケール アウトは、データ容量またはパフォーマンスの問題に対処する戦略の 1 つです。急成長している大規模なデータベースには、アクセスするユーザー数の多少にかかわらず、いずれ、スケール アウト戦略が必要になります。

Azure 上でのスケール アウトは、フェデレーションによって実現するのが最善です。SQL データベースのフェデレーションは、水平的シャーディングに基づいています。つまり、1 つ以上のテーブルを行単位で分割し、複数のフェデレーション メンバーに分配します。

フェデレーションは、あらゆる拡張性の問題に対する唯一の回答ではありません。データまたはアプリケーションの要件の特徴によっては、もっと単純な手法が適していることもあります。以下に、簡単なものから順番に、ソリューション候補を挙げます。

##データベースのサイズを拡大する

データベースは固定サイズで作成され、エディションごとに最大サイズが決まっています。Web Edition の場合、データベースのサイズは最大 5 GB に拡大できます。Business Edition の場合、データベースの最大サイズは 150 GB です。データ容量を増やす最も明瞭な方法は、エディションおよび最大サイズの変更です。

     ALTER DATABASE school MODIFY (EDITION = 'Business', MAXSIZE=10GB);

##データベースを複数使用してユーザーを配分する

利用できる状況は限られますが、データベースのコピーを作成し、各データベースにログインとユーザーを配分することもできます。フェデレーションという選択肢が登場する前は、これが負荷を分散する一般的な手法でした。この手法は、データベースを短期的に使用し、後で内部設置型のプライマリ データベースにマージする場合、および、読み取り専用データを提供するソリューションの場合に有効です。

##フェデレーションを使用する

SQL データベースのフェデレーションは、拡張性とパフォーマンスを高めるために使用されます。データベース内の 1 つ以上のテーブルを行単位で分割し、複数のデータベース (フェデレーション メンバー) に分配します。この種の水平的パーティション分割は、しばしば "シャーディング" と呼ばれます。これが便利なのは、主として、拡張性とパフォーマンスを実現する必要がある場合、または容量を管理する必要がある場合です。

フェデレーションは Business Edition でサポートされています。詳細については、[Azure SQL データベースでのフェデレーション][Azure SQL データベースでのフェデレーション]」および「[SQL Database Federations のチュートリアル - DBA][SQL Database Federations のチュートリアル - DBA]」を参照してください。

##その他の形態のストレージを検討する

Azure では、テーブル ストレージや BLOB ストレージも含めて、複数の形態のデータ ストレージがサポートされていることを思い出してください。リレーショナル機能が必要でない場合は、テーブルまたは BLOB ストレージの方が経済的なこともあります。

[Azure SQL データベースでのフェデレーション]: http://msdn.microsoft.com/ja-jp/library/windowsazure/hh597452.aspx
[SQL Database Federations のチュートリアル - DBA]: http://msdn.microsoft.com/ja-jp/library/windowsazure/hh778416.aspx

