<properties
   pageTitle="Service Fabric の用語の概要 | Microsoft Azure"
   description="Service Fabric の用語の概要です。重要な用語の概念と、ドキュメントの他の部分で使用される用語について説明します。"
   services="service-fabric"
   documentationCenter=".net"
   authors="rwike77"
   manager="timlt"
   editor="chackdan;subramar"/>

<tags
   ms.service="service-fabric"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="NA"
   ms.date="07/01/2016"
   ms.author="ryanwi"/>

# Service Fabric の用語の概要

Service Fabric は、拡張性と信頼性に優れたマイクロサービスのパッケージ化とデプロイ、管理を簡単に行うことができる分散システム プラットフォームです。このトピックでは、Service Fabric で用いられる用語について詳しく説明し、Service Fabric 関連ドキュメントで頻繁に用いられる言葉の意味を理解するうえでの参考としてください。

## インフラストラクチャの概念
**クラスター**: ネットワークで接続された一連の仮想マシンまたは物理マシン。マイクロサービスは、クラスターにデプロイして管理することになります。クラスターは多数のマシンにスケールできます。

**ノード**: クラスターに属しているコンピューターまたは VM を "ノード" といいます。それぞれのノードには、ノード名 (文字列) が割り当てられます。ノードには、配置プロパティなどの特性があります。それぞれのコンピューターまたは VM には、自動的に開始される Windows サービス (`FabricHost.exe`) が存在します。このサービスがコンピューターまたは VM の起動時に開始され、`Fabric.exe` と `FabricGateway.exe` の 2 つの実行可能ファイルを起動します。ノードは、この 2 つの実行可能ファイルから成ります。テストのシナリオでは、`Fabric.exe` と `FabricGateway.exe` の複数のインスタンスを実行することによって、1 台のコンピューターまたは VM で複数のノードをホストできます。

## アプリケーションの概念
**アプリケーションの種類**: 一連のサービスの種類に割り当てられる名前/バージョン。この情報は `ApplicationManifest.xml` ファイルで定義されます。このファイルがアプリケーション パッケージ ディレクトリに組み込まれて、Service Fabric クラスターのイメージ ストアにコピーされます。このアプリケーションの種類に基づいて、特定の名前のアプリケーションをクラスター内で作成することができます。

詳細については、「[Service Fabric でのアプリケーションのモデル化](service-fabric-application-model.md)」の記事を参照してください。

**アプリケーション パッケージ**: アプリケーションの種類を定義した `ApplicationManifest.xml` ファイルが格納されるディスク上のディレクトリ。アプリケーションの種類を構成するサービスの種類ごとに、対応するサービス パッケージがこのファイルから参照されます。アプリケーション パッケージ ディレクトリ内のファイルは、Service Fabric クラスターのイメージ ストアにコピーされます。たとえば電子メール アプリケーション タイプのアプリケーション パッケージであれば、Queue サービス パッケージやフロントエンド サービス パッケージ、データベース サービス パッケージへの参照が含まれることが考えられます。

**名前付きアプリケーション**: アプリケーション パッケージがイメージ ストアにコピーされた後、アプリケーション パッケージのアプリケーションの種類を (その名前/バージョンで) 指定することにより、そのアプリケーションのインスタンスをクラスター内に作成することができます。アプリケーションの種類のインスタンスにはそれぞれ、URI 名が割り当てられます (例: `"fabric:/MyNamedApp"`)。1 つのアプリケーションの種類から複数の名前付きアプリケーションをクラスター内で作成することが可能です。異なるアプリケーションの種類から名前付きアプリケーションを作成することもできます。個々の名前付きアプリケーションは別々に管理され、バージョニングされます。

**サービスの種類**: サービスのコード パッケージとデータ パッケージ、構成パッケージに割り当てられる名前/バージョン。この情報は、`ServiceManifest.xml` ファイルで定義されます。このファイルがサービス パッケージ ディレクトリに組み込まれ、さらに、このサービス パッケージ ディレクトリがアプリケーション パッケージの `ApplicationManifest.xml` ファイルから参照されます。クラスターには、名前付きアプリケーションを作成した後、そのアプリケーションの種類を構成するいずれかのサービスの種類から名前付きサービスを作成することができます。サービスは、そのサービスの種類に対応する `ServiceManifest.xml` ファイルによって記述されます。

詳細については、「[Service Fabric でのアプリケーションのモデル化](service-fabric-application-model.md)」の記事を参照してください。

サービスには、次の 2 種類があります。

- **ステートレス:** サービスの永続的な状態を外部ストレージ サービス (Azure Storage、Azure SQL Database、Azure DocumentDB など) に保存する場合はステートレス サービスを使用します。永続的なストレージがサービスにまったく存在しない場合は、ステートレス サービスを使用する必要があります。たとえば電卓サービスに値を渡すと、それらの値を使って計算が実行され、結果が返されます。

- **ステートフル: **Service Fabric の Reliable Collection や Reliable Actors のプログラミング モデルを介してサービスの状態を管理する場合は、ステートフル サービスを使用します。状態を分散するパーティションの数 (スケーラビリティ) とノードに対して状態をレプリケートする回数 (信頼性) は、名前付きサービスを作成するときに指定します。それぞれの名前付きサービスは、1 つのプライマリ レプリカと複数のセカンダリ レプリカを持ちます。プライマリ レプリカに書き込むことによって名前付きサービスの状態を変更します。その状態が Service Fabric によってすべてのセカンダリ レプリカに複製されることで、状態が同期されます。Service Fabric は、プライマリ レプリカで障害が発生すると自動的に検出し、既存のセカンダリ レプリカをプライマリ レプリカに昇格させた後、新しいセカンダリ レプリカを作成します。

**サービス パッケージ**: サービスの種類を定義した `ServiceManifest.xml` ファイルが格納されるディスク上のディレクトリ。このファイルは、特定の種類のサービスに必要なコード、静的データ、構成パッケージを参照します。サービス パッケージ ディレクトリ内のファイルは、アプリケーションの種類を定義した `ApplicationManifest.xml` ファイルから参照されます。たとえばサービス パッケージは、データベース サービスを構成するコードや静的データ、構成パッケージを参照します。

**名前付きサービス**: 名前付きアプリケーションを作成した後、そのいずれかのサービスの種類を (対応する名前/バージョンで) 指定することによって、特定の種類のサービスのインスタンスをクラスターに作成できます。サービスの種類のインスタンスにはそれぞれ、対応する名前付きアプリケーションの URI に従属する URI 名が割り当てられます。たとえば名前付きサービス "MyDatabase" を名前付きアプリケーション "MyNamedApp" 内に作成した場合、`"fabric:/MyNamedApp/MyDatabase"` のような URI が割り当てられます。1 つの名前付きアプリケーションに複数の名前付きサービスを作成することができます。名前付きサービスにはそれぞれ固有のパーティション構成とインスタンス/レプリカ数を割り当てることができます。

**コード パッケージ**: 特定の種類のサービスで使用される実行可能ファイル (通常、EXE/DLL ファイル) が格納されるディスク上のディレクトリ。コード パッケージ ディレクトリ内のファイルは、サービスの種類を定義した `ServiceManifest.xml` ファイルから参照されます。名前付きサービスを作成すると、そのサービスの実行場所として Service Fabric が選んだノードにコード パッケージ内のファイルがコピーされ、コードの実行が開始されます。コード パッケージの実行可能ファイルには次の 2 種類があります。

- **ゲスト実行可能ファイル**: ホスト オペレーティング システム (Windows または Linux) 上において単体で動作する実行可能ファイル。つまりこれらの実行可能ファイルは、Service Fabric のランタイム ファイルと連動したりそれらのファイルを参照したりすることはせず、Service Fabric のプログラミング モデルを一切使用しません。これらの実行可能ファイルでは、Service Fabric の一部の機能 (エンドポイントの探索に使用されるネーム サービスなど) が利用できず、個々のサービス インスタンスに固有の負荷メトリックを報告できません。

- **サービス ホスト実行可能ファイル**: Service Fabric のランタイム ファイルと連動することによって Service Fabric のプログラミング モデルを使用する実行可能ファイルです。実行可能ファイルのコードの一部が Service Fabric に結び付くことで、単体では得られない機能が実現します。たとえば名前付きサービスのインスタンスが、Service Fabric のネーム サービスにエンドポイントを登録できるほか、負荷のメトリックを報告することもできます。

**データ パッケージ**: 特定の種類のサービスで使用される読み取り専用の静的なデータ ファイル (通常、写真、サウンド、ビデオ ファイル) が格納されるディスク上のディレクトリ。データ パッケージ ディレクトリ内のファイルは、サービスの種類を定義した `ServiceManifest.xml` ファイルから参照されます。名前付きサービスを作成すると、そのサービスの実行場所として Service Fabric が選んだノードにデータ パッケージ内のファイルがコピーされ、コードの実行が開始されて、そのコードからデータ ファイルにアクセスできるようになります。

**構成パッケージ**: 特定の種類のサービスで使用される読み取り専用の静的な構成ファイル (通常、テキスト ファイル) が格納されるディスク上のディレクトリ。構成パッケージ ディレクトリ内のファイルは、サービスの種類を定義した `ServiceManifest.xml` ファイルから参照されます。名前付きサービスを作成すると、そのサービスの実行場所として Service Fabric が選んだノードに構成パッケージ内のファイルがコピーされ、コードの実行が開始されて、そのコードから構成ファイルにアクセスできるようになります。

**パーティション構成**: パーティション構成は、名前付きサービスを作成するときに指定します。さまざまな状態を伴うサービスでは、データが複数のパーティションに分割されてクラスターのノードに分散されます。これによって名前付きサービスの状態を拡張することができます。パーティションには、ステートレスの名前付きサービスの場合はインスタンスが、ステートフルの名前付きサービスの場合はレプリカが格納されます。通常、ステートレスの名前付きサービスは内部的な状態を持たないため、割り当てられるパーティションは 1 つだけです。パーティションのインスタンスによってもたらされるのは可用性です。つまり 1 つのインスタンスで障害が発生しても他のインスタンスは正常動作を保ち、Service Fabric によって新しいインスタンスが作成されます。ステートフルの名前付きサービスでは、その状態がレプリカ内で管理されます。それぞれのパーティションが固有のレプリカ セットを持ち、すべての状態が同期されます。万一レプリカに障害が発生した場合は、Service Fabric が既存のレプリカから新しいレプリカを構築します。

詳細については、「[Service Fabric Reliable Services のパーティション分割](service-fabric-concepts-partitioning.md)」をご覧ください。

## システム サービス
すべてのクラスターには、Service Fabric のプラットフォーム機能を提供するシステム サービスが作成されています。

**ネーム サービス**: 各 Service Fabric クラスターには、サービス名をクラスター内の場所に解決し、サービス名とプロパティの管理を可能にするネーム サービスがあります。これは、クラスターのインターネット ドメイン ネーム サービス (DNS) と同様です。ネーム サービスを使用すると、クライアントは、クラスター内の任意のノードと安全に通信して、サービスの名前と場所を解決できます (つまり、コンピューターの実際の IP アドレスとそのコンピューターが現在実行されているポートを入手できます)。通信クライアント API を使用すると、障害、リソース分散、クラスターのサイズ変更などに起因してアプリケーションがクラスター内で移動されても、現在のネットワークの場所を解決可能なサービスやクライアントを開発できます。

ネーム サービスと連動して動作するクライアントおよびサービス通信 API の使用方法の詳細については、「[サービスとの通信](service-fabric-connect-and-communicate-with-services.md)」をご覧ください。

**イメージ ストア サービス**: 各 Service Fabric クラスターには、デプロイおよびバージョン管理されたアプリケーション パッケージが保持されるイメージ ストア サービスがあります。アプリケーション パッケージの内容をイメージ ストア サービスにコピーし、そのアプリケーション パッケージに含まれているアプリケーションの種類を登録する必要があります。その後、アプリケーションの種類がプロビジョニングされたら、その種類の名前付きアプリケーションを作成できます。イメージ ストア サービスから特定のアプリケーションの種類の登録を解除するには、あらかじめ、そのすべての名前付きアプリケーションを削除しておく必要があります。

イメージ ストア サービスへのアプリケーションのデプロイの詳細については、「[アプリケーションをデプロイする](service-fabric-deploy-remove-applications.md)」をご覧ください。

## 組み込みのプログラミング モデル
Service Fabric のサービスを構築するにあたっては、次の .NET Framework プログラミング モデルが用意されています。

**Reliable Services**: ステートレス サービスとステートフル サービスを構築するための API。ステートフル サービスの状態は、Reliable Collection (ディクショナリ、キューなど) に格納されます。他にも、Web API や Windows Communication Foundation (WCF) など、さまざまな通信スタックを組み込むことができます。

**Reliable Actors**: 仮想アクター プログラミング モデルを使用してステートレス オブジェクトとステートフル オブジェクトを構築するための API。このモデルは、独立した計算/状態の単位が多数存在するときに適しています。このモデルは、順番に基づくスレッド モデルを採用しているため、他のアクターやサービスを呼び出すコードは避けた方が賢明です。それぞれのアクターは、すべての送信要求が完了するまで他の受信要求を処理できません。

詳細については、「[サービスのフレームワークを選択する](service-fabric-choose-framework.md)」をご覧ください。

<!--Every topic should have next steps and links to the next logical set of content to keep the customer engaged-->
## 次のステップ
Service Fabric の詳細については、以下の情報を参照してください。

- [Service Fabric の概要](service-fabric-overview.md)
- [マイクロサービスの手法でアプリケーションを構築する理由は何ですか。](service-fabric-overview-microservices.md)
- [アプリケーションのシナリオ](service-fabric-application-scenarios.md)

<!---HONumber=AcomDC_0706_2016-->