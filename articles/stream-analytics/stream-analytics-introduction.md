<properties 
	pageTitle="Stream Analytics の概要 |Azure" 
	description="Azure Stream Analytics について" 
	services="stream-analytics" 
	documentationCenter="" 
	authors="jeffstokes72" 
	manager="paulettm" 
	editor="cgronlun"/>

<tags 
	ms.service="stream-analytics" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.tgt_pltfrm="na" 
	ms.workload="data-services" 
	ms.date="05/06/2015" 
	ms.author="jeffstok"/>


# Azure Stream Analytics の概要

Azure Stream Analytics は、待機時間の短縮、高可用性、クラウド内のデータのストリーミング データに対する拡張性の高い複雑なイベント処理を実現する、十分に管理されたサービスです。


## Azure Stream Analytics の概要 (ビデオ)

この[ビデオ](http://azure.microsoft.com/documentation/videos/introduction-to-azure-stream-analytics-with-santosh-balasubramanian/)では、Santosh Balasubramanian と Scott Hanselman が、Azure Stream Analytics について説明します。(時間: 11:22)

> [AZURE.VIDEO introduction-to-azure-stream-analytics-with-santosh-balasubramanian]

## サービスの背景と概要

今日のネットワークには大量のデータが高速で流れています。これらのデータをリアルタイムで処理し、行動の基礎にすることができれば、組織の効率を大幅に向上し、市場での差別化を図ることができます。リアルタイムのストリーム分析を活用するシナリオは、あらゆる業界に見ることができます。たとえば、金融サービス会社が提供する個人向けリアルタイム株式取引の分析と通知、リアルタイムの不正検出、データと ID の保護サービス、モノに埋め込まれたセンサーやアクチュエータで生成されたデータの安全な取り込みと分析 (モノのインターネット (IoT))、Web クリック ストリーム分析、一定期間におけるカスタマー エクスペリエンスが低下した場合にアラートを発行する CRM アプリケーションなどが挙げられます。企業は、競争の激しい現代のビジネス環境で成功を収めるために、このようなリアルタイムのイベント ストリーム データ分析を実行できる最も柔軟性、信頼性、コスト効率の高い方法を探し求めています。

ストリーム処理システムの構築は、複雑な作業です。関連付けや集計などのストリーミング操作は、効率的に実装する必要があるだけでなく、拡張性とフォールト トレランスをも備える必要があります。さらに、デプロイメント、デバッグ、監視などの運用上の課題もあります。このようなソリューションの構築と保守に関するコストは、あっという間に跳ね上がります。大規模な企業はソリューションのカスタム ビルドに伴う高いコストに妥協していますが、小規模な企業は導入への高い障壁と多額のコストにはばまれて、チャンスを逃しているケースが少なくありません。Azure Stream Analytics はこれらの課題に対処します。

Azure Stream Analytics は、Microsoft Azure でホストされ、完全に管理されたリアルタイム ストリーム処理サービスで、ストリーミング データに対する、待機時間の短い、回復力と拡張性に優れた複雑なイベント処理を提供します。開発者は Azure Stream Analytics を使用して、データのストリームを履歴レコードや参照データと組み合わせ、ビジネスの洞察をすばやく簡単に導き出すことができます。

お客様は、Azure ポータルで数回クリックするだけで、SQL に似た言語でストリーミング ジョブを作成し、変換を指定したり、ストリーミング パイプライン全体の規模と速度を監視したりできます。1 秒間に処理するイベント数を、数 KB から 1 GB 以上へ簡単に拡張できます。現在利用できる他のストリーミング ソリューションでは、ほとんどの場合、複雑なカスタム コードを記述する必要がありますが、Azure Stream Analytics を使用すれば、お客様はシンプルな宣言型の使い慣れた SQL でコードを記述できます。

Azure Stream Analytics には、シンプルなフィルターから複雑な関連付けに至るまで、さまざまな演算子が用意されています。ウィンドウ表示の集計関数などの時間ベースのウィンドウ表示操作の定義や、シーケンスなどのパターンを検出するための複数のストリームの関連付け、現状と履歴の値やモデルとの比較も、SQL に似た Stream Analytics クエリ言語のシンプルな演算子セットを使用して数分で実行できます。ストリーミング パイプラインの指定は、入力と出力を構成し、SQL に似たクエリを使用して目的の変換を記述するだけで可能です。ほとんどのシンプルなケースにはこれで十分ですが、さらに規模が大きく複雑なシナリオでは Stream Analytics が構成可能であるという特性からメリットが得られます。ユーザーは、理想のピーク スループットを達成するためにパイプラインの各ステップ用に確保する必要があるコンピューティング能力の容量を指定できます。

Azure Stream Analytics は現在、Azure Event Hub に直接接続してストリームを取り込み、Azure BLOB サービスに直接接続して履歴データを取り込みます。Azure Event Hub の各種入出力インターフェイスを使用すると、計算処理のストリーミングの性質を失うことなく、Azure Stream Analytics を他のデータ ソースや処理エンジンに簡単に統合できます。データは Stream Analytics から Azure Storage に書き込むことができ、後から Azure Storage で一連のイベントとして再度処理したり、Azure HDInsight を使用した他の形式の一括分析に使用したりできます。Azure Stream Analytics で活用されている、時間が重要となる処理向けに高度にチューニングされたストリーミング エンジンの開発と、直感的な仕様記述を実現するための言語の統合は、Microsoft Research が長年にわたって取り組んできた成果です。また、Azure Stream Analytics は、Hadoop、YARN、および REEF のオープン ソース コミュニティを活用してスケール アウトを処理できるように構築されます。


## 主な機能

### 使いやすさ
Stream Analytics は、変換を記述するための単純な宣言型のクエリのモデルをサポートします。使いやすさを最大限に高めるために、ドメイン固有言語 (DSL) として SQL に似た言語が選択されており、お客様はストリーミング システムのベースにある技術的な複雑さに煩わされることはありません。Stream Analytics クエリ言語を使用することで、結合、集計、射影、フィルターなどの一般的な操作はもちろん、時間ベース結合、ウィンドウ表示の集計関数、および時間的フィルターの時間的関数も短時間で簡単に実装できます。

SQL ユーザーにとって直感的な方法で SQL のセマンティクスを拡張している一方で、実装やツールの使用を円滑に行えるように構文は標準の SQL 構文を引き継いでいます。Stream Analytics クエリ言語の詳細については、「次のステップ」セクションを参照してください。

### 拡張性
Stream Analytics は、最大 1 GB/秒の高いイベント スループットを処理できます。Azure Event Hubs と統合することで、接続されたデバイス、クリック ストリーム、およびログ ファイルから 1 秒間に数百万ものイベントを取り込むことができます。これを実現するために、Event Hubs のパーティション分割機能を使用しています。この機能により、パーティションごとに 1 MB/秒の処理が可能になります。Stream Analytics は、パーティション分割のサポートを提供する一方で、取り込んだイベントを水平と垂直の両方向に処理します。ユーザーは、計算処理をクエリ定義内で複数の論理的なステップにパーティション分割でき、各ステップをさらにデータ並列実行要素に分割できます。Stream Analytics は将来的に、イベントの取り込み率、処理の複雑さ、および予測される待機時間に基づいて自動的にスケールし、ユーザーがワークロードを適切にカスタマイズできるようになる予定です。スケールの実装の詳細については、「次のステップ」セクションにあるリンクを参照してください。

### 高い信頼性、反復可能性、および迅速な回復
Stream Analytics は、データ損失を防止するのに役立ち、ノード障害が生じた場合でも組み込みの回復とチェックポイントの機能を通じてビジネス継続性を提供します。これらの機能は、Stream Analytics でクライアント アンカー モデル アーキテクチャを採用することにより実現されています。Stream Analytics は、状態を保持し、ノード障害からの再開、再計算処理、およびキャッシュ出力を最適化して、ダウンストリーム障害に効率的に対処するように構築されています。

また、内部に状態を保持できる特性を通じて、繰り返し可能な処理結果を提供できます。これを利用して、イベントをアーカイブしておき、後で処理に再適用して同じ結果を取得することが可能です。お客様は、根本原因の分析や what if 分析などのシナリオで、この機能を使用して時間をさかのぼり、計算処理を調査できます。これらの機能を組み合わせることで、ノード障害の処理から迅速に回復し、失われた状態をすばやく再処理できます。

### 低待機時間
Stream Analytics は、1 秒未満の待機時間をエンド ツー エンドで監視できるように最適化されています。このため、システムは高スループットで継続的に処理することができます。通信モデルには、構成されているタイムアウトとサイズ制限に基づいて運用されるプル ベースの適応型バッチ処理モデルが採用されています。これにより、イベントやその他のレコードは制限に達するまでバッチで処理されます。高スループットが要求される場合でも、システムは低待機時間で処理することができます。

### 参照データ
Stream Analytics では、参照データを指定して使用することができます。参照データには、履歴データか、時間の経過に伴う変化が頻繁にはないデータを指定できます。参照データは、システムにより、他の受信イベント ストリームと同様に扱われ、リアルタイムで取り込まれる他のイベント ストリームと結合されて変換が実行されるので、簡単に使用できます。参照データの構成と使用の詳細については、「次のステップ」セクションを参照してください。



## Azure Stream Analytics が選択されるビジネス上の理由

### 低コスト
Stream Analytics サービスは、リアルタイム分析ソリューションを低コストで実装し、保守できるように最適化されています。料金は、使用量に基づく従量課金制です。使用量は、処理されたイベントのボリュームと、そのストリーミング ジョブを処理するためにクラスター内にプロビジョニングされたコンピューティング能力の量に基づいて算出されます。

### 短時間での実装
Stream Analytics では、拡張性の高いリアルタイム イベント処理ソリューションを獲得するのに、ハードウェアなどの初期コストを投じたり、インストールやセットアップに時間を費やしたりする必要がありません。Azure がお客様に代わってすべてを用意します。Azure ポータルでサービスにサブスクライブするだけで、数分でサービスの稼働を開始できます。ポータルのわかりやすいユーザー インターフェイスのクイック スタート ガイドで説明されている手順に従うことによって、入力ソースの構成とテスト、出力ストアの構成とテストを簡単に行うことができます。オート コンプリートと入力候補の機能を備えた使いやすいクエリ エディターも用意されています。

### 迅速な開発
Stream Analytics を使用すると、分散型スケールアウト システム向けの分析関数を開発する際の手間と複雑さを低減できます。開発者は SQL ベースのクエリ言語で目的の変換を記述するだけで、システムがスケーラビリティ、パフォーマンス、および回復性を考慮して自動的にワークロードを分散します。大多数のストリーム処理ソリューションで必要となる手続き型プログラミングは不要です。上級の開発者も、Stream Analytics の組み込み機能とユーザー フレンドリなポータルを使用して、インフラストラクチャの調達や継続的なメンテナンスと拡張などを懸念せずに、リアルタイム処理を短時間で簡単に実行できます。

## シナリオとユース ケース

### モノのインターネット (IoT) のリアルタイム分析
デバイスの小型化が進み、通信機能を備えるデバイスが増えるにつれて、これらのデバイスで生成、収集されるデータでできることに対する期待が、ビジネスとコンシューマー両方の領域で膨らみ続けています。入手した大量のデータを相互に結合して処理することで、ユーザー環境や日々使用するデバイスについての洞察を獲得できると期待されています。標準的な IoT シナリオは、自動販売機の例を通して説明できます。

自動販売機は、商品の在庫、状態、および温度のデータをシステムへの取り込み用として定期的にフィールド ゲートウェイ (自動販売機が IP 未対応の場合) またはクラウド ゲートウェイ (IP 対応の場合) に送信します。受信データ ストリームはゲートウェイで処理、変換されます。計算処理された出力はすぐにデバイスにフィードバックされ、適切な措置が講じられます。たとえば、自動販売機の温度が過剰に高くなると、デバイスは人間の介入なしに自動で再起動やファームウェアの更新を実行する必要があります。また、処理された出力によってアラートや通知がトリガーされ、イベントに応じて技術者のスケジュールが自動的に設定される場合もあります。

収集および処理されるデータが増えるに伴い、開発や、システムが示すパターンの学習に、機械学習も使用できるようになっています。たとえば、リアルタイムのイベント ストリームに基づいて機械がサービスを提供する必要が生じるタイミングを予測したり、問題が生じそうなときに技術者の巡回に予防的なメンテナンスをスケジュール設定したりできます。

このようにデバイスが処理システムに情報を送信し、リアルタイム処理の結果に基づいてアクションを実行できるというパターンは、IoT のユース ケース全体で一般的になっています。同様のシナリオとしては他に、コネクテッド カー、クリック ストリーム分析、および施設管理が挙げられます。このようなフィードバック ループを最適化して低待機時間と高スループットを実現するために、Stream Analytics を使用して、Azure Event Hub からデータを取り込み、処理した後、Event Hub にデータを戻し、登録された各デバイスで適切な措置を講じることができます。


![モノのインターネット (IoT) 用の Azure Stream Analytics リアルタイム分析][img.stream.analytics.scenario1]


### ダッシュボードを使用したテレメトリとログ分析
デバイス、機械、アプリケーションの増大に伴い、企業におけるビジネス運営の一般的なユース ケースでは、ビジネス ニーズの変化を監視し、対応できるように、充実した分析をほぼリアルタイムで作成することが必要になっています。標準的なテレメトリ/ログ分析のシナリオは、オンライン サービスやオンライン アプリケーションの例を用いて説明できます。このパターンは、アプリケーションやデバイスのテレメトリ データを収集し、レポートするビジネス全般で一般的に見られます。

アプリケーションまたはサービスが正常性データを収集します。収集されるデータには、特定の時点におけるアプリケーションやインフラストラクチャの状態を表すデータや、アプリケーション内で実行されたアクションや活動を表すユーザー要求ログなどのデータがあります。データは、後で処理できるように BLOB などのデータ ストアに時系列順に保存されます。

リアルタイム ダッシュボードに関する最新のトレンドでは、お客様は、データを BLOB などのデータ ストアに時系列順に保存するだけでなく、受信データのストリームを直接処理、変換し、アクションが必要になったときにダッシュボードや通知の形式ですぐにエンド ユーザーに提供できるようにすることを望んでいます。たとえば、サービス サイトがダウンしたときに運用担当者に通知すれば、迅速に調査を開始し、問題を解決できます。このようなユース ケースの一部では、通常、Stream Analytics によって取り込まれたデータの処理後は、更新されたデータ セットに基づいて構築されたリアルタイム ダッシュボードを人間が監視します。
 
![ダッシュ ボード経由の Azure Stream Analytics のテレメトリおよびログの分析][img.stream.analytics.scenario2]

### 今後の処理のためのイベントのアーカイブ
ビジネスの迅速かつアジャイルな遂行への期待も膨らみ続けています。企業や開発者は現在、アジリティ向上の需要に対処するために使いやすいクラウド ベースのプラットフォームを選択しようとしており、システムで生成されたデータの継続的なストリームをほぼリアルタイムに取り込み、処理できるプラットフォームを求めています。このようなお客様は現時点では、データ ストアへの低待機時間の書き込みに最適化されたサービスを利用できておらず、それが原因で、ビジネスに対する有益な洞察を導き出せる可能性を秘めた重要なデータ セットを逃しています。標準的なイベントアーカイブのシナリオは、次のように説明できます。

世界各地に分散したさまざまなデバイスやプラットフォームから、データが一元的なデータ コレクターにプッシュされます。中央の 1 か所に集まったデータに対して、個人の身元を特定する情報 (PII) の削除、ジオタグの追加、IP 検索の実行などのステートレスな変換が実行されます。変換されたデータは、HDInsight などのツールでオフライン処理にすぐに使用できる形式で BLOB ストレージにアーカイブされます。

![今後の処理のための Azure Stream Analytics イベント アーカイブ][img.stream.analytics.scenario3]
 
## 問い合わせ
さらにサポートが必要な場合は、[Azure Stream Analytics フォーラム](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics)を参照してください。

## 次のステップ

- [Azure Stream Analytics の概要](stream-analytics-introduction.md)
- [Azure Stream Analytics の使用](stream-analytics-get-started.md)
- [Azure Stream Analytics ジョブのスケーリング](stream-analytics-scale-jobs.md)
- [Stream Analytics Query Language Reference (Stream Analytics クエリ言語リファレンス)](https://msdn.microsoft.com/library/azure/dn834998.aspx)
- [Azure Stream Analytics management REST API reference (Azure ストリーム分析の管理 REST API リファレンス)](https://msdn.microsoft.com/library/azure/dn835031.aspx)


<!--Image references-->
[img.stream.analytics.scenario1]: ./media/stream-analytics-introduction/Introduction-to-Azure-Stream-Analytics_01.png
[img.stream.analytics.scenario2]: ./media/stream-analytics-introduction/Introduction-to-Azure-Stream-Analytics_02.png
[img.stream.analytics.scenario3]: ./media/stream-analytics-introduction/Introduction-to-Azure-Stream-Analytics_03.png


<!--Link references-->
[stream.analytics.developer.guide]: ../stream-analytics-developer-guide.md
[stream.analytics.scale.jobs]: stream-analytics-scale-jobs.md
[stream.analytics.limitations]: ../stream-analytics-limitations.md
[stream.analytics.introduction]: stream-analytics-introduction.md
[stream.analytics.get.started]: stream-analytics-get-started.md
[stream.analytics.query.language.reference]: http://go.microsoft.com/fwlink/?LinkID=513299
[stream.analytics.rest.api.reference]: http://go.microsoft.com/fwlink/?LinkId=517301

<!--HONumber=54--> 