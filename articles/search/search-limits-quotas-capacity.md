---
title: "Azure Search サービスの制限 | Microsoft Docs"
description: "容量計画で使用されるサービス上限と、Azure Search の要求および応答の上限について説明します。"
services: search
documentationcenter: 
author: HeidiSteen
manager: jhubbard
editor: 
tags: azure-portal
ms.assetid: 857a8606-c1bf-48f1-8758-8032bbe220ad
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 11/09/2017
ms.author: heidist
ms.openlocfilehash: 3deb0ff81114c840798c5927ad7311d7e603813d
ms.sourcegitcommit: bc8d39fa83b3c4a66457fba007d215bccd8be985
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/10/2017
---
# <a name="service-limits-in-azure-search"></a>Azure Search サービスの制限
インデックス、ドキュメント、およびその他のオブジェクトのストレージ、ワークロード、数量の上限は、[Azure Search](search-create-service-portal.md) を **Free**、**Basic**、または **Standard** の価格レベルのいずれでプロビジョニングするかによって異なります。

* **Free** は、Azure サブスクリプションに付属しているマルチテナント共有サービスです。 
* **Basic** は、小規模の運用環境のワークロード専用のコンピューティング リソースを提供します。
* **Standard** は、すべてのレベルでさらに多くのストレージや処理能力を持つ専用マシン上で実行されます。 Standard には 4 つのレベル (S1、S2、S3、S3 High Density (S3 HD)) があります。

> [!NOTE]
> サービスは特定のレベルでプロビジョニングされます。 レベルを移動して容量を増やすには、新しいサービスをプロビジョニングする必要があります (インプレース アップグレードはありません)。 詳細については、[SKU または価格レベルの選択](search-sku-tier.md)に関するページをご覧ください。 プロビジョニングしたサービス内での容量調整の詳細については、[クエリとインデックスのワークロードに応じたリソース レベルのスケール](search-capacity-planning.md)に関するページをご覧ください。
>

## <a name="per-subscription-limits"></a>各サブスクリプションの制限
[!INCLUDE [azure-search-limits-per-subscription](../../includes/azure-search-limits-per-subscription.md)]

## <a name="per-service-limits"></a>各サービスの制限
[!INCLUDE [azure-search-limits-per-service](../../includes/azure-search-limits-per-service.md)]

## <a name="per-index-limits"></a>各インデックスの制限
インデックスの制限とインデクサーの制限の間には 1 対 1 の関係があります。 インデックスの上限が 200 の場合、同じサービスのインデクサーの最大数も 200 になります。

| リソース | 無料 | 基本 | S1 | S2 | S3 | S3 HD |
| --- | --- | --- | --- | --- | --- | --- |
| インデックス: インデックスあたりの最大フィールド |1,000 |100 <sup>1</sup> |1,000 |1,000 |1,000 |1,000 |
| インデックス: インデックスあたりの最大スコアリング プロファイル |100 |100 |100 |100 |100 |100 |
| インデックス: プロファイルあたりの最大関数 |8 |8 |8 |8 |8 |8 |
| インデクサー: 呼び出しあたりの最大インデックス作成負荷 |10,000 ドキュメント |最大ドキュメントによってのみ制限 |最大ドキュメントによってのみ制限 |最大ドキュメントによってのみ制限 |最大ドキュメントによってのみ制限 |該当なし <sup>2</sup> |
| インデクサー: 最大実行時間 | 1 ～ 3 分 <sup>3</sup> |24 時間 |24 時間 |24 時間 |24 時間 |該当なし <sup>2</sup> |
| BLOB インデクサー: BLOB の最大サイズ、MB |16 |16 |128 |256 |256 |該当なし <sup>2</sup> |
| BLOB インデクサー: BLOB から抽出されたコンテンツの最大文字数 |32,000 |64,000 |400 万 |400 万 |400 万 |該当なし <sup>2</sup> |

<sup>1</sup> Basic レベルにのみ下限（インデックスあたり 100 フィールド）があります。

<sup>2</sup> S3 HD では現在、インデクサーはサポートされていません。 この機能がすぐに必要な場合は、Azure サポートにご連絡ください。

<sup>3</sup> インデクサーの Free レベルでの最大実行時間は、BLOB ソースの場合は 3 分、その他のすべてのデータ ソースの場合は 1 分です。

## <a name="document-size-limits"></a>ドキュメント サイズの制限
| リソース | 無料 | 基本 | S1 | S2 | S3 | S3 HD |
| --- | --- | --- | --- | --- | --- | --- |
| インデックス API ごとの各ドキュメント サイズ |<16 MB |<16 MB |<16 MB |<16 MB |<16 MB |<16 MB |

インデックス API を呼び出す場合は、最大ドキュメント サイズを参照します。 ドキュメント サイズとは、実際にはインデックス API の要求本文のサイズに対する制限を意味します。 複数のドキュメントのバッチを一度にインデックス API に渡すことができるため、このサイズの制限は、実際にバッチ内のドキュメント数に左右されます。 バッチ内のドキュメントが 1 つの場合、最大ドキュメント サイズは JSON 形式で 16 MB です。

ドキュメント サイズを抑えるには、クエリ不可能なデータを要求から忘れずに除外してください。 イメージとその他のバイナリ データは直接クエリできないため、インデックスには格納しないでください。 クエリ不可能なデータを検索結果に含めるには、リソースの URL 参照を格納する検索不可能なフィールドを定義してください。

## <a name="queries-per-second-qps"></a>秒間クエリ (QPS)

QPS の見積もりは、すべての顧客ごとに個別に開発する必要があります。 インデックスのサイズと複雑さ、クエリのサイズと複雑さ、およびトラフィックの量が QPS を決定する主な要因です。 このような要因が不明な場合は、意義のある見積もりを用意する方法はありません。

見積もりは、専用リソース (Basic および Standard レベル) 上で実行されるサービスに基づいて計算される場合、予測可能性がより高くなります。 より多くのパラメーターを制御できるため、さらに厳密に QPS を見積もることができます。 見積もりを行う方法のガイダンスについては、[Azure Search のパフォーマンスと最適化](search-performance-optimization.md)に関する記事を参照してください。

## <a name="api-request-limits"></a>API 要求の制限
* 要求あたりの最大値: 16 MB<sup>1</sup>
* URL の最大長: 8 KB
* インデックスののアップロード、マージ、または削除のバッチあたりの最大ドキュメント数: 1,000
* $orderby 句の最大フィールド数: 32
* 検索用語の最大サイズ: UTF-8 でエンコードされたテキストの 32,766 バイト (32 KB - 2 バイト)

<sup>1</sup> Azure Search では、要求の本文は上限 16 MB に左右され、それ以外では理論的制限によって制約されない個々のフィールドまたはコレクションのコンテンツに実際的な制限が課せられます (フィールドの構成と制約の詳細については、[サポートされているデータ型](https://msdn.microsoft.com/library/azure/dn798938.aspx)に関するページをご覧ください)。

## <a name="api-response-limits"></a>API 応答の制限
* 検索結果のページごとに返される最大ドキュメント数: 1,000
* 検索候補 API 要求ごとに返される最大検索候補数: 100

## <a name="api-key-limits"></a>API キーの制限
Api キーは、サービスの認証に使用されます。 次の 2 つの種類があります。 管理者キーは、要求ヘッダーで指定され、サービスに完全な読み取り/書き込みアクセス権を付与します。 クエリ キーは、読み取り専用で、URL で指定され、通常はクライアント アプリケーションに配布されます。

* サービスあたりの最大管理キー数: 2
* サービスあたりの最大クエリ キー数: 50
