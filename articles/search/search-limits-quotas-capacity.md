<properties
	pageTitle="Azure Search サービスの制限 | Microsoft Azure"
	description="容量計画で使用されるサービス上限と、Azure Search の要求および応答の上限。"
	services="search"
	documentationCenter=""
	authors="HeidiSteen"
	manager="paulettm"
	editor=""
    tags="azure-portal"/>

<tags
	ms.service="search"
	ms.devlang="NA"
	ms.workload="search"
	ms.topic="article"
	ms.tgt_pltfrm="na"
	ms.date="08/03/2016"
	ms.author="heidist"/>

# Azure Search サービスの制限

インデックス、ドキュメント、およびその他のオブジェクトのストレージ、ワークロード、数量の上限は、Azure Search を **Free**、**Basic**、または **Standard** の価格レベルのいずれかで追加するかによって異なります。

- **Free** は、Azure サブスクリプションに付属しているマルチテナント共有サービスです。これは、サブスクライバーであれば専用リソースにサインアップする前にサービスを体験できる、追加コストなしのオプションです。
- **Basic** は、小規模の運用環境のワークロード専用のコンピューティング リソースを提供します。
- **Standard** は専用マシンで実行されます。最小構成を含むあらゆるレベルにおいて、さらに多くのストレージや処理能力を利用できます。Standard には 4 つのレベル (S1、S2、S3、S3 High Density (S3 HD)) があります。S3 と S3 HD は現在プレビュー段階であり、プレビュー期間中は 50% の割引料金で提供されます。

すべてのレベルが[ポータルでプロビジョニング](search-create-service-portal.md)できます。サービスには最初に 1 つのパーティションと 1 つのレプリカが割り当てられますが、サービスが作成されたらリソース割り当ての変更ができます。詳細については、「[Azure Search の容量計画](search-capacity-planning.md)」を参照してください。

## 各サブスクリプションの制限

[AZURE.INCLUDE [azure-search-limits-per-subscription](../../includes/azure-search-limits-per-subscription.md)]

## 各サービスの制限 ##

[AZURE.INCLUDE [azure-search-limits-per-service](../../includes/azure-search-limits-per-service.md)]

## 各インデックスの制限 ##

インデックスの制限とインデクサーの制限の間には 1 対 1 の関係があります。S2 サービスあたりのインデックスの上限が 200 の場合、同じサービスのインデクサーとインデクサー データソースの最大数も 200 になります。

リソース|無料|基本 |S1|S2|S3 (プレビュー)|S3 HD (プレビュー) 
---|---|---|---|---- |---|----
インデックス: インデックスあたりの最大フィールド|1,000|100 <sup>1</sup>|1,000|1,000|1,000|1,000 
インデックス: インデックスあたりの最大スコアリング プロファイル|16|16|16|16|16|16 
インデックス: プロファイルあたりの最大関数|8|8|8|8|8|8 
インデクサー: 呼び出しあたりの最大インデックス作成負荷|10,000 ドキュメント|最大ドキュメントによってのみ制限|最大ドキュメントによってのみ制限|最大ドキュメントによってのみ制限|最大ドキュメントによってのみ制限|該当なし <sup>2</sup> 
インデクサー: 最大実行時間|3 分|24 時間|24 時間|24 時間|24 時間|該当なし <sup>2</sup> 
BLOB インデクサー: BLOB の最大サイズ、MB|16|16|128|256|256|該当なし <sup>2</sup> 
BLOB インデクサー: BLOB から抽出されたコンテンツの最大文字数|32,000|64,000|400 万|400 万|400 万|該当なし <sup>2</sup> 

<sup>1</sup> Basic レベルにのみ下限（インデックスあたり 100 フィールド）があります。

<sup>2</sup> S3 HD では現在、インデクサーまたはインデクサー データソースはサポートされていません。この機能がすぐに必要な場合は、Azure サポートにご連絡ください。

## ドキュメント サイズの制限 ##

リソース|無料|基本 |S1|S2|S3 (プレビュー)|S3 HD (プレビュー) 
---|---|---|---|---- |---|----
インデックス API ごとの各ドキュメント サイズ|<16 MB|<16 MB|<16 MB |<16 MB|<16 MB|<16 MB

インデックス API を呼び出す場合は、最大ドキュメント サイズを参照します。ドキュメント サイズとは、実際にはインデックス API の要求本文のサイズに対する制限を意味します。複数のドキュメントのバッチを一度にインデックス API に渡すことができるため、このサイズの制限は、実際にバッチ内のドキュメント数に左右されます。バッチ内のドキュメントが 1 つの場合、最大ドキュメント サイズは JSON 形式で 16 MB になります。

ドキュメント サイズを抑えるには、クエリ不可能なデータを要求から忘れずに除外してください。イメージとその他のバイナリ データは直接クエリできないため、インデックスには格納しないでください。クエリ不可能なデータを検索結果に含めるには、リソースの URL 参照を格納する検索不可能なフィールドを定義してください。　

## ワークロードの制限 (1 秒あたりのクエリ数) ##

リソース|無料|基本|S1|S2|S3 (プレビュー)|S3 HD (プレビュー)
---|---|---|---|----|---|----
QPS|該当なし|レプリカあたり最大 3|レプリカあたり最大 15|レプリカあたり最大 60|レプリカあたり 60 以上|レプリカあたり >60

1 秒あたりのクエリ数 (QPS) は、シミュレーションされたワークロードと実際の顧客のワークロードを推定値の取得のために使用した、ヒューリスティックに基づく概数です。正確な QPS スループットはデータとクエリの性質によって異なります。

上記に概算がありますが、実際にレートを決定するのは難しくなります。特に、利用できる帯域幅とシステム リソースの競合にスループットが依存する無料の共有サービスの場合にそれが当てはまります。Free レベルでは、コンピューティング リソースとストレージ リソースは複数のサブスクライバーにより共有されます。そのため、お使いのソリューションの QPS は常に、同時に実行されるその他のワークロードの数によって変わります。

Standard レベルでは、より多くのパラメーターを制御できるため、さらに厳密に QPS を見積もることができます。ワークロードの QPS を計算する方法のガイダンスについては、「[Microsoft Azure で検索サービスを管理する](search-manage.md)」のベスト プラクティス セクションをご覧ください。

## API 要求の制限

- 要求あたりの最大値: 16 MB<sup>1</sup>
- URL の最大長: 8 KB
- インデックスののアップロード、マージ、または削除のバッチあたりの最大ドキュメント数: 1,000
- $orderby 句の最大フィールド数: 32
- 検索用語の最大サイズ: UTF-8 でエンコードされたテキストの 32,766 バイト (32 KB - 2 バイト)

<sup>1</sup> Azure Search では、要求の本文は上限 16 MB に左右され、それ以外では理論的制限によって制約されない個々のフィールドまたはコレクションのコンテンツに実際的な制限が課せられます (フィールドの構成と制約の詳細については、「[Supported data types (サポートされているデータ型)](https://msdn.microsoft.com/library/azure/dn798938.aspx)」を参照してください)。

## API 応答の制限

- 検索結果のページごとに返される最大ドキュメント数: 1,000
- 検索候補 API 要求ごとに返される最大検索候補数: 100

## API キーの制限

Api キーは、サービスの認証に使用されます。次の 2 つの種類があります。管理者キーは、要求ヘッダーで指定され、サービスに完全な読み取り/書き込みアクセス権を付与します。クエリ キーは、読み取り専用で、URL で指定され、通常はクライアント アプリケーションに配布されます。

- サービスあたりの最大管理キー数: 2
- サービスあたりの最大クエリ キー数: 50

<!---HONumber=AcomDC_0907_2016-->