<properties 
	pageTitle="エラスティック データベースを利用して激増に対応する" 
	description="Azure SQL Database エラスティック データベース プールは、エラスティック データベースのグループで共有される使用可能なリソースのコレクションです。" 
	services="sql-database" 
	documentationCenter="" 
	authors="stevestein" 
	manager="jeffreyg" 
	editor=""/>

<tags 
	ms.service="sql-database"
	ms.devlang="NA"
	ms.date="08/14/2015" 
	ms.author="sstein" 
	ms.workload="data-management" 
	ms.topic="article" 
	ms.tgt_pltfrm="NA"/>


# エラスティック データベースを利用して激増に対応する

数十台、数百台、さらには何千ものデータベースを持つ SaaS 開発者がエラスティック データベース プールを使用すれば、管理するコスト内で、プロセスの作成、保守、パフォーマンスの管理など、データベースのグループ全体にわたる管理の簡素化を実現できます。

SaaS アプリケーションの一般的なパターンでは、各データベースがそれぞれ異なる顧客を持ち、それぞれが多様で予期できないリソース (CPU、IO、DTU を使用して集計したメモリ) を消費します。各データベースの負荷の浮き沈みは、予測が困難であり、そのためのリソースのプロビジョニングも困難です。2 つのオプションがあります。ピーク時の使用量に基づいた過剰プロビジョニング -- コスト過剰になります。コスト削減のための過小プロビジョニング -- ピーク時のパフォーマンスと顧客満足度が犠牲になります。

Microsoft はこの問題を解決するために、エラスティック データベース プールを作成しました。

> [AZURE.VIDEO elastic-databases-helps-saas-developers-tame-explosive-growth]


エラスティック データベース プールは、データベースに必要なパフォーマンス リソースを必要なときに確実に確保する必要がある顧客のためのソリューションに加え、シンプルなリソース割り当てメカニズムと予測可能な予算を提供します。個々のデータベースのオンデマンド パフォーマンス スケーリングをエラスティック データベース プール内で実行できます。これは、プール内の各データベースでそのプールに関連する共有セットの eDTU が使用されるためです。これにより、負荷が大きいデータベースでは需要に対応するために消費量を増やし、負荷の少ないデータベースでは消費量を抑え、負荷がまったくないデータベースでは eDTU を消費しないように設定できます。Single Database ではなくプールに対してリソースをプロビジョニングすることにより、複数のデータベースの管理が簡素化されるだけでなく、通常は予測不可能なワークロードの予算が予測可能になります。

プールの需要に合わせて eDTU を増やす必要がある場合 (データベースがさらにプールに追加されるか、既存のデータベースがより多くの eDTU の使用を開始します)、追加の eDTU を既存のプールに追加できます。このとき、データベースのダウンタイムや、データベースへのマイナスの影響はありません。同様に、余分な eDTU が不要になった場合は、いつでも既存のプールから削除できます。

![eDTU を共有するデータベース][1]

エラスティック データベース プールの候補として最適であるデータベースには通常、決まった期間のアクティビティがあり、その他の期間はアイドル状態です。上図は、1 つのデータベース、4 つのデータベース、20 のデータベースによるエラスティック データベース プールのアクティビティをそれぞれ示しています。これらのデータベースは時間の経過と共にさまざまなアクティビティを行いますが、同時にアクティブにならず、eDTU を共有できるため、エラスティック データベース プールの候補として最適です。すべてのデータベースが、このパターンに適合するわけではありません。リソースに常に一定の負荷があるデータベースでは、リソースが個別に割り当てられる Basic、Standard、Premium サービス階層に適しています。お使いのデータベースで、エラスティック データベース プールが役立つかどうかを判断する際の参考として、「[Price and performance considerations for an elastic database pool (エラスティック データベース プールの価格とパフォーマンスの考慮事項)](sql-database-elastic-pool-guidance.md)」をご覧ください。

Microsoft Azure ポータル、PowerShell、C# を使用すると、数分でエラスティック データベース プールを作成できます。詳細については、「[エラスティック データベース プールの作成と管理](sql-database-elastic-pool-portal.md)」をご覧ください。API とエラーの詳細や、エラスティック データベース プールの詳細については、「[エラスティック データベース プールのリファレンス](sql-database-elastic-pool-reference.md)」をご覧ください。


> [AZURE.NOTE]エラスティック データベース プールは現在プレビュー段階であり、SQL Database V12 サーバーでのみ使用できます。

## エラスティック データベース ツールを使用して大量のデータベースを簡単に管理する

効率的なリソースの使用と予測可能なパフォーマンスを提供するだけでなく、エラスティック データベース プールはデータ層の構築と管理を簡略化するツールを使用して SaaS アプリケーション開発を容易にします。メンテナンス タスクと大規模なデータベースのセット間での変更を実行することにより、これまで時間がかかり、複雑だったプロセスが弾力性ジョブのスクリプトの実行で軽減されます。エラスティック データベース ジョブを作成して実行することによって、数百、何千ものデータベースの管理に関連する複雑な作業のほとんどすべてが排除されます。プール内のすべてのエラスティック データベース間で Transact-SQL スクリプトを実行できるようにするエラスティック データベース ジョブ サービスの概要については、「[エラスティック データベース ジョブの概要](sql-database-elastic-jobs-overview.md)」をご覧ください。

弾力性データベース アプリケーションのパターンを実装するための豊富で強力な開発者ツール セットも使用できます。シャード化されたデータベースの場合、分割マージ ツールなどの他のツールを使用して、データを 1 つのシャードから分割し、別のシャードにマージすることができます。これにより、シャード化された大規模なデータベースの管理の作業が大幅に軽減されます。詳細については、「[弾力性データベース ツールのトピック マップ](sql-database-elastic-scale-documentation-map.md)」をご覧ください。

## プール内のデータベースのビジネス継続性機能

現在のプレビューでは、エラスティック データベースは、V12 サーバーの Single Database で使用できるほとんどの[ビジネス継続性機能](https://msdn.microsoft.com/library/azure/hh852669.aspx)をサポートしています。

### データベースのバックアップと復元 ([ポイントインタイム リストア](https://msdn.microsoft.com/library/azure/hh852669.aspx#BKMK_PITR))

エラスティック データベース プール内のデータベースは、システムによって自動的にバックアップされており、バックアップの保有ポリシーは Single Database の対応するサービス階層と同じです。具体的には、Basic プール内のエラスティック データベースは過去 7 日間の任意の復元ポイントに復元でき、Standard プール内のエラスティック データベースは過去 14 日間の任意の復元ポイントに復元でき、Premium プール内のエラスティック データベースは過去 35 日間の任意の復元ポイントに復元できます。プレビュー期間中は、プール内のデータベースは同じプールの新しいデータベースに復元されます。削除されたデータベースは常に、そのサービス階層でパフォーマンス レベルの最も低いスタンドアロン データベースとしてプール外に復元されます。たとえば、Standard プール内の削除されたエラスティック データベースは、S0 データベースとして復元されます。Azure ポータルか REST API を使用したプログラムでデータベースの復元操作を実行できます。PowerShell コマンドレットのサポートは間もなく提供されます。

### [地理リストア](https://msdn.microsoft.com/library/azure/hh852669.aspx#BKMK_GEO)

地理リストアでは、プール内のデータベースを別のリージョン内のサーバーに回復することができます。プレビュー中は、別のサーバーのプール内にデータベースを復元するためには、対象サーバーに、ソース プールと同じ名前のプールが存在する必要があります。必要な場合は、対象サーバーで新しいプールを作成し、データベースを復元する前に同じ名前を付けます。対象サーバーに同じ名前を持つプールが存在しない場合は、地理リストアの操作は失敗します。Azure ポータルか REST API を使用して、地理リストアの操作を実行できます。PowerShell コマンドレットのサポートは間もなく提供されます。


### [geo レプリケーション](https://msdn.microsoft.com/library/azure/dn783447.aspx)

geo レプリケーションが既に有効になっているデータベースは、エラスティック データベース プール内外に移動することができます。レプリケーションは、引き続き、通常通り機能します。指定するターゲット サーバーにソース プールと同じ名前のプールがある場合、そのプールに既にあるデータベースの geo レプリケーションを有効にできます。

### インポートとエクスポート

プール内からのデータベースのエクスポートはサポートされています。現在、プールへのデータベースの直接インポートはサポートされていませんが、Single Database にインポートしてからプールにデータベースを移動できます。


<!--Image references-->
[1]: ./media/sql-database-elastic-pool/databases.png

<!---HONumber=August15_HO8-->