<properties
	pageTitle="SQL データベースのエラスティック データベース プール | Microsoft Azure"
	description="プールを使用して数百または数千のデータベースを管理します。一連のパフォーマンス ユニットの単一価格をプール上で配布できます。データベースは自由に内外に移動できます。"
	keywords="エラスティック データベース、SQL データベース"
	services="sql-database"
	documentationCenter=""
	authors="sidneyh"
	manager="jhubbard"
	editor="cgronlun"/>

<tags
	ms.service="sql-database"
	ms.devlang="NA"
	ms.date="04/04/2016"
	ms.author="sidneyh"
	ms.workload="data-management"
	ms.topic="article"
	ms.tgt_pltfrm="NA"/>


# Azure エラスティック データベース プールの概要

SaaS 開発者は、数十、数百、または数千の SQL データベースを作成し管理する必要があります。エラスティック データベース プールを使用すると、多くのデータベース間で作成、保守、およびパフォーマンス管理が簡略化されます。プールに対するデータベースの追加または削除を自由自在に行うことができます。[Azure ポータルでの SQL Database のスケーラブルなエラスティック データベース プールの作成に関する記事](sql-database-elastic-pool-create-portal.md)、[PowerShell の使用に関する記事](sql-database-elastic-pool-create-powershell.md)、または [C# に関する記事](sql-database-elastic-pool-csharp.md)を参照してください。

API およびエラーの詳細については、「[エラスティック データベース プールのリファレンス](sql-database-elastic-pool-reference.md)」をご覧ください。

## 動作のしくみ

SaaS アプリケーションの一般的なパターンは、シングル テナント データベース モデルであり、顧客ごとにそれぞれ異なるデータベースが割り当てられます。各顧客 (データベース) のメモリ、IO、CPU のリソース要件は予測することができません。このように需要の浮き沈みがある中で、リソースをどのように割り当てますか? 従来、(1) ピーク時の使用量に基づくリソースの過剰プロビジョニングと、(2) ピーク時のパフォーマンスと顧客満足度を犠牲にしてコストを削減する過小プロビジョニングの 2 つの選択肢がありました。エラスティック データベース プールは、データベースに必要なパフォーマンス リソースを必要なときに確保し、予測可能な予算の範囲内でシンプルなリソース割り当てメカニズムを提供することで、この問題を解決します。

> [AZURE.VIDEO elastic-databases-helps-saas-developers-tame-explosive-growth]

SQL Database では、リソースの需要に対処するデータベースの能力の相対尺度は、単一のデータベースのデータベース トランザクション ユニット (DTU) とエラスティック データベース プールのエラスティック DTU (eDTU) で表されます。DTU と eDTU の詳細については、「[SQL Database とは SQL Database の概要、技術の詳細、DTU の説明](sql-database-technical-overview.md#understand-dtus)」をご覧ください。

プールには、設定価格に合わせて、設定された eDTU 数が与えられます。プール内で、個々のデータベースには、設定されたパラメーターの範囲内で自動的にスケーリングを行う柔軟性が与えられます。データベースは負荷が大きい場合、eDTU の使用量を増やして需要に対応します。負荷が小さい場合、データベースは eDTU の使用量を減らし、負荷がなくなると eDTU を使用しません。Single Database ではなく、プール全体に対してリソースをプロビジョニングすることで、管理タスクの簡略化を実現します。さらに、プールにかかる予算を予測することができます。

データベースを停止することなく、またはデータベースに悪影響を及ぼすことなく、既存のプールに eDTU をさらに追加できます。同様に、余分な eDTU が不要になった場合は、いつでも既存のプールから削除できます。

プールへのデータベースの追加、またはプールからの削除ができます。データベースのリソース使用率が低いと予測できる場合は、プールから削除します。

## どのデータベースをプールに移動しますか?

![エラスティック データベース プール内で eDTU を共有する SQL データベース][1]

エラスティック データベース プールの候補として最適であるデータベースには通常、決まった期間のアクティビティがあり、その他の期間はアイドル状態です。上図は、1 つのデータベース、4 つのデータベース、20 のデータベースによるエラスティック データベース プールのアクティビティをそれぞれ示しています。これらのデータベースは時間の経過と共にさまざまなアクティビティを行いますが、同時にアクティブにならず、eDTU を共有できるため、エラスティック プールの候補として最適です。すべてのデータベースが、このパターンに適合するわけではありません。リソースに常に一定の負荷があるデータベースは、リソースが個別に割り当てられる Basic、Standard、Premium サービス階層に適しています。

[エラスティック データベース プールの価格およびパフォーマンスに関する考慮事項](sql-database-elastic-pool-guidance.md)。


> [AZURE.NOTE] エラスティック データベース プールは現在プレビュー段階であり、SQL Database V12 サーバーでのみ使用できます。

## エラスティック データベース プールのプロパティ
エラスティック プールとエラスティック データベースの上限

| プロパティ | 説明 |
| :-- | :-- |
| サービス階層 | Basic、Standard、Premium を選択できます。サービス レベルにより、構成可能なパフォーマンス範囲とストレージ制限のほか、ビジネス継続性の選択肢が決定されます。プール内の各データベースは、プールと同じサービス レベルになります。"サービス レベル" は "エディション" とも呼ばれます。|
| プールごとの eDtu | プール内のデータベースで共有できる eDTU の最大数。プール内のデータベースで同時に使用する eDTU の合計数がこの制限を超えることはできません。 |
| プールごとのストレージ | プール内のデータベースで共有できる最大ストレージ容量。プール内のデータベースで使用するストレージの合計がこの制限を超えることはできません。この制限は、プールごとの eDTU によって決定されます。この制限を超えた場合、すべてのデータベースは読み取り専用になります。 |
| データベースごとの最大 eDTU | プール内のすべてのデータベースに適用され、プール内の任意のデータベースが使用できる eDTU の最大数。データベースごとの最大 eDTU は保証されたリソースではありません。 |
| データベースごとの最小 eDTU | プール内のすべてのデータベースに適用され、プール内の任意のデータベースに保証されている eDTU の最小数。データベースごとの最小 eDTU は 0 に設定される場合があります。プール内のデータベースの数とデータベースごとの最小 eDTU の積がプールごとの eDTU の値を超えることはできません。 |


## エラスティック プールとエラスティック データベースの eDTU と記憶域の上限


[AZURE.INCLUDE [エラスティック データベースの SQL DB サービス階層を示す表](../../includes/sql-database-service-tiers-table-elastic-db-pools.md)]

## エラスティック データベース ジョブ

プールでは、**[エラスティック ジョブ](sql-database-elastic-jobs-overview.md)**のスクリプトを実行して管理タスクを簡素化します。エラスティック データベース ジョブを使用すると、大量のデータベースに関連する面倒な作業のほとんどが不要になります。まず、「[Elastic Database ジョブの概要](sql-database-elastic-jobs-getting-started.md)」をご覧ください。

他のツールの詳細については、[エラスティック データベース ツールの学習マップに関する記事](https://azure.microsoft.com/documentation/learning-paths/sql-database-elastic-scale/)をご覧ください。

## プール内のデータベースのビジネス継続性機能

現在のプレビューでは、エラスティック データベースは、V12 サーバーの Single Database で使用できるほとんどの[ビジネス継続性機能](sql-database-business-continuity.md)をサポートしています。

### ポイントインタイム リストア

エラスティック データベース プール内のデータベースは、システムによって自動的にバックアップされており、バックアップの保有ポリシーは Single Database の対応するサービス階層と同じです。つまり、各階層内のデータベースの復元範囲はそれぞれ異なります。

* **Basic プール**: 過去 7 日間の任意のポイントに復元できます。
* **Standard プール**: 過去 14 日間の任意のポイントに復元できます。
* **Premium プール**: 過去 35 日間の任意のポイントに復元できます。

プレビュー期間中は、プール内のデータベースは同じプールの新しいデータベースに復元されます。削除されたデータベースは常に、そのサービス階層でパフォーマンス レベルの最も低いスタンドアロン データベースとしてプール外に復元されます。たとえば、Standard プール内の削除されたエラスティック データベースは、S0 データベースとして復元されます。Azure ポータルか REST API を使用したプログラムでデータベースの復元操作を実行できます。PowerShell コマンドレットのサポートは間もなく提供されます。

### geo リストア

geo リストアでは、プール内のデータベースを別のリージョン内のサーバーに回復することができます。プレビュー中は、別のサーバーのプール内にデータベースを復元するためには、対象サーバーに、ソース プールと同じ名前のプールが存在する必要があります。必要な場合は、対象サーバーで新しいプールを作成し、データベースを復元する前に同じ名前を付けます。対象サーバーに同じ名前を持つプールが存在しない場合は、geo リストアの操作は失敗します。詳細については、「[geo リストアを使用した復旧](sql-database-disaster-recovery.md#recover-using-geo-restore)」をご覧ください。


### geo レプリケーション

geo レプリケーションは、Standard エラスティック データベース プール内または Premium エラスティック データベース プール内の任意のデータベースで使用できます。サービス層が同じ場合に限り、geo レプリケーション パートナーシップに含まれる 1 つまたはすべてのデータベースを、エラスティック データベース プール内に含めることができます。 [Azure ポータル](sql-database-geo-replication-portal.md)、[PowerShell](sql-database-geo-replication-powershell.md)、または [TRANSACT-SQL](sql-database-geo-replication-transact-sql.md) を使用して、エラスティック データベース プールの geo レプリケーションを構成することができます。

### インポートとエクスポート

プール内からのデータベースのエクスポートはサポートされています。現在、プールへのデータベースの直接インポートはサポートされていませんが、Single Database にインポートしてからプールにデータベースを移動できます。


<!--Image references-->
[1]: ./media/sql-database-elastic-pool/databases.png

<!---HONumber=AcomDC_0413_2016-->