<properties linkid="manage-services-how-to-monitor-websites" urlDisplayName="How to monitor" pageTitle="How to monitor websites - Azure service management" metaKeywords="Azure monitoring web sites, Azure Management Portal Monitor, Azure monitoring" description="Learn how to monitor Azure websites by using the Monitor page in the Management Portal." metaCanonical="" services="web-sites" documentationCenter="" title="How to Monitor Websites" authors="cephalin" solutions="" manager="wpickett" editor="mollybos" />

<tags ms.service="web-sites" ms.workload="web" ms.tgt_pltfrm="na" ms.devlang="na" ms.topic="article" ms.date="01/01/1900" ms.author="cephalin" />

# <a name="howtomonitor"></a>Web サイトの監視方法

Web サイトの監視は、[監視] 管理ページを使用して行うことができます。以下に示すように、[監視] 管理ページでは、Web サイトのパフォーマンス統計を確認できます。

## 目次

-   [方法: Web サイト メトリックの追加][方法: Web サイト メトリックの追加]
-   [方法: Web サイトのメトリックからアラートを受信][方法: Web サイトのメトリックからアラートを受信]
-   [方法: Web サイトの使用量のクォータの表示][方法: Web サイトの使用量のクォータの表示]
-   [方法: リソース使用量の削減][方法: リソース使用量の削減]
-   [リソース使用量クォータを超過した場合の処理][リソース使用量クォータを超過した場合の処理]
-   [方法: Web サイトの診断の構成とログのダウンロード][方法: Web サイトの診断の構成とログのダウンロード]
-   [方法: Web エンドポイントの状態の監視][方法: Web エンドポイントの状態の監視]

## <a name="websitemetrics"></a>方法: Web サイト メトリックの追加

1.  [Azure の管理ポータル][Azure の管理ポータル]で、Web サイトの管理ページから **[監視]** タブをクリックして、**[監視]** 管理ページを表示します。既定では、**[監視]** ページのグラフには、**[ダッシュボード]** ページのグラフと同じメトリックが表示されます。

2.  Web サイトのメトリックを追加するには、ページの下部にある **[メトリックの追加]** をクリックして、**[メトリックの選択]** ダイアログ ボックスを表示します。

3.  **[監視]** ページに表示する追加のメトリックをクリックして選択します。

4.  **[監視]** ページに追加するメトリックを選択したら、**[OK]** をクリックします。

5.  **[監視]** ページにメトリックを追加した後、各メトリックの横にあるオプション ボックスをクリックして有効または無効にすることにより、ページの上部にあるグラフに対してメトリックを追加または削除することができます。

6.  **[監視]** ページからメトリックを削除するには、削除対象のメトリックを選択し、ページの下部にある **[メトリックの削除]** アイコンをクリックします。

以下の一覧は、**[監視]** ページのグラフに表示できるメトリックを示しています。

-   **[CPU 時間]** - Web サイトの CPU 使用率の測定値。
-   **[要求]** - Web サイトに対するクライアント要求の数。
-   **[送信データ]** – Web サイトからクライアントに送信されたデータの量。
-   **[受信データ]** – Web サイトがクライアントから受信したデータの量。
-   **[HTTP クライアント エラー]** - 送信された HTTP "4xx クライアント エラー" メッセージの数。
-   **[HTTP サーバー エラー]** - 送信された HTTP "5xx サーバー エラー" メッセージの数。
-   **[HTTP 成功]** - 送信された HTTP "2xx 成功" メッセージの数。
-   **[HTTP リダイレクト]** - 送信された HTTP "3xx リダイレクト" メッセージの数。
-   **[HTTP 401 エラー]** - 送信された HTTP "401 認証エラー" メッセージの数。
-   **[HTTP 403 エラー]** - 送信された "403 アクセス不可" メッセージの数。
-   **[HTTP 404 エラー]** - 送信された HTTP "404 未検出" メッセージの数。
-   **[HTTP 406 エラー]** - 送信された HTTP "406 受信不可" メッセージの数。

## <a name="howtoreceivealerts"></a>方法: Web サイトのメトリックからアラートを受信

Web サイトの**標準**モードでは、Web サイトの監視メトリックに基づいてアラートを受け取ることができます。アラート機能では、まず監視する Web エンドポイントを構成する必要があります。これは **[構成]** ページの **[監視]** セクションで行うことができます。Azure の管理ポータルの **[設定]** ページで、選択したメトリックが指定した値に達したときにアラートをトリガーするルールを作成できます。アラートがトリガーされたときに電子メールが送信されるように指定することもできます。詳細については、「[方法: Receive Alert Notifications and Manage Alert Rules in Azure (Azure でアラート通知を受け取り、アラート ルールを管理する)][方法: Receive Alert Notifications and Manage Alert Rules in Azure (Azure でアラート通知を受け取り、アラート ルールを管理する)]」を参照してください。

## <a name="howtoviewusage"></a>方法: Web サイトの使用量のクォータの表示

Web サイトの **[スケール]** 管理ページでは、Web サイトが**共有**モードまたは**標準**モードで実行されるように構成できます。各 Azure サブスクリプションは、リージョンごとに最大 100 個の Web サイトを**共有** Web サイト モードで実行することを目的として提供されるリソース プールにアクセスできます。この目的で各 Web サイト サブスクリプションが使用できるリソース プールは、**共有**モードで実行するように構成されている同じ Geo リージョン内の他の Web サイトと共有されます。これらのリソースは他の Web サイトが使用できるように共有されるため、すべてのサブスクリプションで使用が制限されます。サブスクリプションによるこれらのリソースの使用に適用される制限は、各 Web サイトの **[ダッシュボード]** 管理ページの [使用状況の概要] セクションに、使用量のクォータとして表示されます。

**注**<br/>
Web サイトが**標準**モードで実行するように構成されている場合は、専用のリソースが割り当てられます。リソースのサイズは、[Azure での仮想マシンとクラウド サービスのサイズに関するページ][Azure での仮想マシンとクラウド サービスのサイズに関するページ]の表に示されている仮想マシン サイズ **S** (既定)、**M**、または **L** と同等です。サブスクリプションが**標準**モードで Web サイトを実行するときに使用できるリソースに制限はありません。ただし、リージョンごとに作成できる**標準**モードの Web サイトの数は 500 個です。

### 共有 Web サイト モードに構成されている Web サイトの使用量クォータを表示する

Web サイトがリソースの使用量クォータをどの程度消費しているか確認するには、次のステップに従います。

1.  Web サイトの **[ダッシュボード]** 管理ページを開きます。
2.  **[使用状況の概要]** セクションに、**[送信データ]**、**[CPU 時間]**、および **[ファイル システム ストレージ]** の使用量のクォータが表示されます。各リソースに対して表示される棒グラフの緑色の部分は、サブスクリプションのリソースの使用量クォータが現在の Web サイトでどの程度消費されているかを示します。各リソースに対して表示されるグレーの部分は、サブスクリプションのリソースの使用量クォータが、Web サイト サブスクリプションに関連付けられている共有モードの他のすべての Web サイトでどの程度消費されているかを示します。

リソースに使用量クォータが設定されていることで、以下のリソースに関する過剰使用の回避に役立ちます。

-   **[送信データ]** – **共有**モードで実行中の Web サイトから、現在のクォータ期間 (24 時間) 内にクライアントに送信されたデータの量。
-   **[CPU 時間]** – **共有**モードで実行中の Web サイトによって、現在のクォータ期間に使用された CPU 時間。
-   **[ファイル システム ストレージ]** – **共有**モードで実行中の Web サイトによって使用されているファイル システム ストレージの量。

サブスクリプションの使用量クォータを超過すると、Azure はリソースの過剰使用を止めるための措置を講じます。これは、サブスクライバーによってリソースが枯渇することで他のサブスクライバーに生じる不利益を回避するためです。

## <a name="resourceusage"></a>方法: リソース使用量の削減

Azure は、サブスクリプションの共有モードの Web サイトによって 24 時間のクォータ期間に使用されたリソースを測定することで、リソースの使用量クォータを計算します。次の点を検討してください。

-   共有モードで実行するように構成されている Web サイトの数が増加すると、共有モードのリソースの使用量クォータを超過する可能性も高くなります。
    このため、リソースの使用量クォータを超過した場合は、共有モードで実行するように構成されている Web サイトの数を減らすことを検討してください。
-   同様に、共有モードで実行している Web サイトのインスタンス数が増加すると、共有モードのリソースの使用量クォータを超過する可能性も高くなります。
    このため、リソースの使用量クォータを超過した場合は、共有モードの Web サイトのインスタンス数を減らすことを検討してください。

## <a name="exceeded"></a>リソース使用量クォータを超過した場合の処理

クォータ期間 (24 時間) 内にサブスクリプションのリソースの使用量クォータを超過すると、Azure は次の措置を講じます。

-   **[送信データ]** – このクォータを超過すると、Azure は、現在のクォータ期間が終わるまで、**共有**モードで実行するように構成されているサブスクリプションの Web サイトをすべて停止します。これらの Web サイトは、次のクォータ期間の先頭から開始されます。

-   **[CPU 時間]** – このクォータを超過すると、Azure は、現在のクォータ期間が終わるまで、**共有**モードで実行するように構成されているサブスクリプションの Web サイトをすべて停止します。これらの Web サイトは、次のクォータ期間の先頭から開始されます。

-   **[ファイル システム ストレージ]** - 展開によってファイル システム ストレージの使用量クォータが超過する場合、Azure は、共有モードで実行するように構成されているサブスクリプションのすべての Web サイトについて、展開を阻止します。ファイル システム ストレージのリソースがクォータの最大許容サイズまで増加した場合、読み取り操作では引き続きファイル システム ストレージにアクセスできますが、通常の Web サイト アクティビティに必要な操作も含めて、すべての書き込み操作がブロックされます。この状況が発生した場合は、共有 Web サイト モードで実行中の 1 つ以上の Web サイトを標準 Web サイト モードで実行するように構成するか、ファイル システム ストレージ使用量クォータを下回るように、ファイル システム ストレージの使用量を削減することができます。

## <a name="howtoconfigdiagnostics"></a>方法: Web サイトの診断の構成とログのダウンロード

診断は、Web サイトの **[構成]** 管理ページで有効にします。診断には**アプリケーション診断**と**サイト診断**があります。

#### アプリケーション診断

**[構成]** 管理ページの **[アプリケーション診断]** セクションで、アプリケーションの生成する情報のログ記録をコントロールします。これはアプリケーション内で発生するイベントのログを作成する場合に便利です。たとえば、アプリケーションでエラーが発生したとき、ユーザーにはわかりやすいエラー メッセージを表示する一方で、分析に役立つ詳細なエラー情報をログに書き出すことができます。

次のアプリケーション診断を有効または無効にできます。

-   **[アプリケーション ログ記録 (ファイル システム)]** - アプリケーションによって生成される情報をログに記録します。**[ログ レベル]** フィールドで [エラー]、[警告]、または [情報] レベルの情報をログに記録するかどうかを指定します。[詳細] を選択することもできます。この場合、アプリケーションが生成するすべての情報がログに記録されます。

    この設定によって生成されるログは、Web サイトのファイル システムに格納され、下記の 「**Web サイトのファイルをダウンロードする**」セクションで説明された手順を使用してダウンロードすることができます。

-   **[アプリケーション ログ記録 (テーブル ストレージ)]** - [アプリケーション ログ記録 (ファイル システム)] オプションを選択した場合と同様、アプリケーションによって生成された情報をログに記録します。ただし、この場合、Azure のストレージ アカウントのテーブルにログ情報が保存されます。

    Azure のストレージ アカウントとテーブルを指定するには、このオプションを **[オン]** に設定して **[ログ レベル]** を指定し、**[テーブル ストレージの管理]** を選択します。使用するストレージ アカウントとテーブルを指定するか、新しいテーブルを作成します。

    テーブルに保存されたログ情報は、Azure のストレージ クライアントからアクセスできます。

-   **[アプリケーション ログ記録 (BLOB ストレージ)** - [アプリケーション ログ記録 (テーブル ストレージ)] オプションと同様、アプリケーションによって生成された情報をログに記録します。ただし、この場合、Azure のストレージ アカウントの BLOB にログ情報が保存されます。

    Azure のストレージ アカウントと BLOB を指定するには、このオプションを **[オン]** に設定して **[ログ レベル]** を指定し、**[BLOB ストレージの管理]** を選択します。使用する既存のストレージ アカウント、BLOB コンテナー、BLOB 名を指定するか、新しいコンテナーと BLOB を作成します。

Azure のストレージ アカウントの詳細については、「[ストレージ アカウントの管理方法][ストレージ アカウントの管理方法]」を参照してください。

<div class="dev-callout">

<b>注</b>
<p>テーブルまたは BLOB ストレージに保存できるのは、.NET アプリケーションによって生成されたログ情報のみです。</p> </div>

アプリケーションのログ情報をストレージに記録した場合、ストレージ クライアントを使用してログ データを表示する必要があります。したがって、この方法は、Azure のテーブルや BLOB ストレージからデータを直接読み込んで処理するサービスまたはアプリケーションに適しています。ファイル システムにログを記録するとファイルが生成され、そのファイルを、このセクションで後述する FTP などのユーティリティを使用してローカル コンピューターにダウンロードできます。

<div class="dev-callout">

	<b>注</b>
	<p><b>アプリケーション診断 (ファイル システム)</b>、<b>アプリケーション診断 (テーブル ストレージ)</b>、および<b>アプリケーション診断 (BLOB ストレージ)</b> は同時に有効にできます。また、それぞれ個別にログ レベルを設定できます。たとえば、エラーと警告をストレージに長期間保存すると同時に、アプリケーション コードを実装した後、問題解決に役立つ詳細ログをファイル システムに記録できます。</p></div>

<div class="dev-callout">

	<b>注</b>
	<p>診断を有効にするには、Azure PowerShell から <b>Set-AzureWebsite</b> コマンドレットを使用する方法もあります。</p>
    <p>Azure PowerShell をインストールしていない場合や、Azure サブスクリプションを使用するように構成していない場合は、「[Azure PowerShell の使用方法][Azure PowerShell の使用方法]」を参照してください。</p></div>

<div class="dev-callout">

<b>注</b>
<p>アプリケーション ログ記録は、アプリケーションが生成するログ情報に依存しています。ログ情報を生成する方法およびログ情報の形式は、アプリケーションの開発言語によって異なります。各言語でのアプリケーション ログ記録の使用方法については、次の記事を参照してください。</p>

<ul>
<li><b>.NET</b> - <a href="/ja-jp/develop/net/common-tasks/diagnostics-logging-and-instrumentation/">Enable diagnostic logging for Azure Websites (Azure Web サイトの診断ログを有効にする)</a></li>
<li><b>Node.js</b> - <a href="/ja-jp/develop/nodejs/how-to-guides/Debug-Website/">How to debug a Node.js application in Azure Websites (Azure Web サイトでの Node.js アプリケーションのデバッグ方法)</a></li>
</ul>
<p>テーブルまたは BLOB ストレージに保存できるのは、.NET アプリケーションによって生成されたログ情報のみです。</p>
</div>

#### サイト診断

**[構成]** 管理ページの **[サイト診断]** セクションでは、Web 要求、ページ処理の失敗、ページ処理にかかった時間のログ記録など、Web サーバーで実行するログ記録をコントロールします。次のオプションを有効または無効にできます。

-   **[Web サーバーのログ記録]** - Web サーバーのログ記録を有効にして、W3C 拡張ログ ファイル形式で Web サイトのログを保存します。Web サーバーのログ記録では、Web サイトが受け取ったすべての要求を記録します。記録される情報は、クライアントの IP アドレス、要求された URI、応答の HTTP ステータス コード、クライアントのユーザー エージェント文字列などです。これらのログは、Azure のストレージ アカウントまたはファイル システムに保存できます。

Web サーバーのログを Azure のストレージ アカウントに保存するには、**[ストレージ]**、**[ストレージの管理]** の順に選択し、ログを保存するストレージ アカウントと Azure BLOB コンテナーを指定します。Azure のストレージ アカウントの詳細については、「[ストレージ アカウントの管理方法][ストレージ アカウントの管理方法]」を参照してください。

Web サーバーのログをファイル システムに保存するには、**[ファイル システム]** を選択します。**[クォータ]** ボックスに、ログ ファイルに割り当てる最大ディスク容量を設定できるようになります。指定可能な最小容量は 25 MB、最大容量は 100 MB。既定のサイズは 35 MB です。

既定では、Web サーバーのログは一切削除されません。ログが自動的に削除されるまでの期間を指定するには、**[保有期間の設定]** を選択し、ログを保持する日数を **[保有期間]** ボックスに入力します。Azure のストレージとファイル システム両方について、ログの保有期間を設定できます。

-    **[詳細なエラー メッセージ]** - 詳細なエラー ログを有効にすると、HTTP エラーに関する追加情報 (400 を超える状態コード) がログに記録されます。

-   **[失敗した要求トレース]** - 失敗した要求トレースを有効にして、HTTP ステータス コードが 400 番台の要求など、失敗したクライアント要求に関する情報を取得します。失敗した要求トレースでは、XML ドキュメントが生成され、IIS で要求が渡されたモジュールのトレース、モジュールの返した値の詳細、モジュールが呼び出された時刻が記録されます。この情報を参照して、障害が発生したコンポーネントを突き止めることができます。

Web サイトの診断を有効にしたら、**[構成]** 管理ページの下部にある **[保存]** アイコンをクリックして、設定したオプションを適用します。

<div class="dev-callout">

<b>重要</b><br/>
<br/>
ログ記録やトレースを行うと、Web サイトに対する負荷が大幅に増加します。トラブルシューティングを行っている対象の問題を再現した後は、ログ記録およびトレースをオフにしておくことをお勧めします。

</div>

### 詳細な構成

診断内容をさらに変更するには、**[構成]** 管理ページの **[アプリケーション設定]** セクションにキーと値のペアを追加します。**[アプリケーション設定]** で構成できる内容は次のとおりです。

**DIAGNOSTICS\_TEXTTRACELOGDIRECTORY**

-   アプリケーション ログを保存する場所。Web ルートを基準にして指定します。

-   既定値: ..\\..\\LogFiles\\Application

**DIAGNOSTICS\_TEXTTRACEMAXBUFFERSIZEBYTES**

-   アプリケーション ログの収集時に使用する最大バッファー サイズ。ログ情報はまずバッファーに書き込まれ、その後でファイルまたはストレージに保存されます。バッファー内の情報がファイルやストレージに保存される前に新しい情報が書き込まれると、既存のログ情報が失われる可能性があります。アプリケーションで大量のログ情報が生成される場合は、バッファー サイズを大きくしてください。

-   既定値: 10MB

**DIAGNOSTICS\_TEXTTRACEMAXLOGFOLDERSIZEBYTES**

-   ファイルに書き込まれたアプリケーション診断を保存する **Application** フォルダーの最大サイズ。

-   既定値: 1 MB

### Web サイトのログ ファイルをダウンロードする

ログ ファイルは、FTP、Azure PowerShell、または Azure コマンド ライン ツールを使用してダウンロードすることができます。

**FTP**

1.  Web サイトの **[ダッシュボード]** 管理ページを開き、**[診断ログ]** に表示されている FTP サイトと **[展開ユーザー]** に表示されているアカウントを書き留めます。この FTP サイトはログ ファイルが保存される場所であり、[展開ユーザー] に表示されるアカウントは FTP サイトに対する認証に使用されます。
2.  展開資格情報をまだ作成していない場合、**[展開ユーザー]** のアカウントは **[未設定]** として表示されます。ログ ファイルが保存される FTP サイトに対する認証には展開資格情報が使用されるため、この場合は、[ダッシュボード] の [展開資格情報のリセット] セクションに記載されている説明に従って展開資格情報を作成する必要があります。Live ID 資格情報の使用によるこの FTP サイトへの認証は、サポートされていません。
3.  FTP サイトへの接続には、[FileZilla][FileZilla] などの FTP クライアントの使用を検討します。一般的に、FTP クライアントを使用すると、ブラウザーを使用する場合よりも、資格情報の指定や FTP サイトにあるフォルダーの表示を容易に行うことができます。
4.  ログ ファイルを FTP サイトからローカル コンピューターにコピーします。

**Azure PowerShell**

1.  **スタート画面**または **[スタート] メニュー**で、「**Azure PowerShell**」を検索します。**[Azure PowerShell]** を右クリックし、**[管理者として実行]** を選択します。

    <div class="dev-callout">

    <b>注</b>
<br/>
    <p><b>Azure PowerShell</b> がインストールされていない場合は、「<a href="http://msdn.microsoft.com/ja-jp/library/windowsazure/jj554332.aspx">Azure コマンドレットの概要</a>」を参照して、インストールと構成を実行してください。</p> 


    </div>

2.  Azure PowerShell プロンプトで次のコマンドを使用して、ログ ファイルをダウンロードします。

        Save-AzureWebSiteLog -Name websitename

    これにより、**websitename** で指定された Web サイトのログ ファイルがダウンロードされ、現在のディレクトリにある **log.zip** ファイルに保存されます。

    次のコマンドを使用してログ イベントのライブ ストリームを表示することもできます。

        Get-AzureWebSiteLog -Name websitename -Tail

    これは Azure PowerShell プロンプトに、発生したログ情報を順次表示します。

**Azure コマンド ライン ツール**

新しいコマンド プロンプト、PowerShell、bash、またはターミナル セッションを開き、次のコマンドを使用してログ ファイルをダウンロードします。

    azure site log download websitename

これにより、**websitename** で指定された Web サイトのログ ファイルがダウンロードされ、現在のディレクトリにある **log.zip** ファイルに保存されます。

次のコマンドを使用してログ イベントのライブ ストリームを表示することもできます。

    azure site log tail websitename

これは、コマンドが実行されたコマンド プロンプト、PowerShell、bash、またはターミナル セッションにログ情報を表示します。

<div class="dev-callout">

<b>注</b> 
<p><b>azure</b> コマンドがインストールされていない場合は、「<a href="http://www.windowsazure.com/ja-jp/develop/nodejs/how-to-guides/command-line-tools/">How to use the Azure Command-Line Tools (Azure コマンド ライン ツールの使用方法)</a>」を参照して、インストールと構成を実行してください。</p>


</div>

### ログ ファイルの読み込み

Web サイトに対するログ記録またはトレース、あるいはその両方を有効にした後に生成されるログ ファイルの内容は、Web サイトの [構成] 管理ページで設定したログ記録/トレースのレベルによって異なります。ログ ファイルの場所と分析方法を以下に示します。

**ログ ファイルの種類: アプリケーション ログ記録**

-   場所: /LogFiles/Application/。このフォルダーには、アプリケーション ログによって生成された情報を含む 1 つ以上のテキスト ファイルが格納されます。ログに記録される情報には、日時、アプリケーションのプロセス ID (PID)、およびアプリケーションのインストルメンテーションによって生成された値が含まれます。

-   ファイルの閲覧に使用するツール: テキスト エディター、または、アプリケーションの生成した値を理解できるパーサー。

**ログ ファイルの種類: 失敗した要求トレース**

-   場所: /LogFiles/W3SVC\#\#\#\#\#\#\#\#\#/。このフォルダーには、1 つの XSL ファイルと 1 つ以上の XML ファイルが格納されます。この XSL ファイルは、XML ファイルが Internet Explorer で表示されるときに、コンテンツの書式設定とフィルター処理を行う役割を果たすため、必ず XML ファイルと同じディレクトリにダウンロードしてください。

-   ファイルの閲覧に使用するツール: Internet Explorer

**ログ ファイルの種類: 詳細なエラー ログ記録**

-   場所: /LogFiles/DetailedErrors/。/LogFiles/DetailedErrors/ フォルダーには、発生した HTTP エラーに関する詳細な情報を記録した 1 つ以上の .htm ファイルが格納されます。

-   ファイルの閲覧に使用するツール: Web ブラウザー

.htm ファイルには以下のセクションが含まれています。

-   **[エラー情報の詳細]:** *モジュール*、*ハンドラー*、*エラー コード*、*要求された URL*などのエラーに関する情報が含まれています。

-   **[可能性のある原因]:** エラーについて考えられる原因が一覧表示されます。

-   **[対処方法]:** エラーによって報告された問題を解決するために考えられるソリューションが一覧表示されます。

-   **[リンクと詳細]**: エラーに関する追加の概要情報が示されます。Microsoft サポート技術情報の記事など、他のリソースへのリンクが含まれていることもあります。

**ログ ファイルの種類: Web サーバーのログ記録**

-   場所: /LogFiles/http/RawLogs。このファイルに保存される情報は、[W3C 拡張ログ形式][W3C 拡張ログ形式]でフォーマットされます。Azure Web サイトでは、s-computername、s-ip、cs-version の各フィールドを使用しません。

-   ファイルの閲覧に使用するツール: Log Parser。このツールは、IIS ログ ファイルの解析と照会に使用されるものです。Log Parser 2.2 は、Microsoft ダウンロード センター (<http://go.microsoft.com/fwlink/?LinkId=246619>) から入手できます。

## <a name="webendpointstatus"></a>方法: Web エンドポイントの状態の監視

この機能は、**標準**モードで使用でき、最大 3 か所にある最大 2 個のエンドポイントを監視できます。

エンドポイント監視では、地理的に分散した場所から Web URL の応答時間とアップタイムをテストする Web テストを構成します。このテストでは、Web URL に対して HTTP get 操作を実行し、各リージョンから応答時間とアップタイムを測定します。構成された各場所では、テストを 5 分ごとに実行します。

アップタイムは HTTP 応答コードを使用して監視され、応答時間はミリ秒単位で測定されます。応答時間が 30 秒未満で HTTP 状態コードが 400 未満である場合、アップタイムは 100% と見なされます。応答時間が 30 秒以上で HTTP 状態コードが 400 以上である場合、アップタイムは 0% です。

エンドポイント監視を構成した後、各テスト場所から個々のエンドポイントにドリルダウンして、監視期間内の応答時間とアップタイム状態の詳細を確認することができます。

**エンドポイント監視を構成するには**

1.  **Web サイト**を開きます。構成する Web サイトの名前をクリックします。
2.  **[構成]** タブをクリックします。
3.  **[監視]** セクションに移動して、エンドポイント設定を入力します。
4.  エンドポイントの名前を入力します。
5.  監視するサービスの URL を入力します。たとえば、「[][]<http://contoso.cloudapp.net></a>」のように入力します。
6.  1 つ以上の場所を一覧から選択します。
7.  2 つ目のエンドポイントを構成する場合は、これまでの手順を繰り返します。
8.  **[保存]** をクリックします。Web エンドポイントの監視データが **[ダッシュボード]** と **[監視]** タブに表示されるまでに、時間がかかることがあります。

Web サイトのエンドポイントの監視の詳細については、次のビデオを参照してください。

-   [Scott Guthrie introduces Azure Web Sites and sets up Endpoint Monitoring (Scott Guthrie による Azure の Web サイトの紹介とエンドポイント監視の設定)][Scott Guthrie introduces Azure Web Sites and sets up Endpoint Monitoring (Scott Guthrie による Azure の Web サイトの紹介とエンドポイント監視の設定)]

-   [Keeping Azure Web Sites up plus Endpoint Monitoring with Stefan Schackow (Azure の Web サイトの保持とエンドポイントの監視 - Stefan Schackow 共演)][Keeping Azure Web Sites up plus Endpoint Monitoring with Stefan Schackow (Azure の Web サイトの保持とエンドポイントの監視 - Stefan Schackow 共演)]

  [方法: Web サイト メトリックの追加]: #websitemetrics
  [方法: Web サイトのメトリックからアラートを受信]: #howtoreceivealerts
  [方法: Web サイトの使用量のクォータの表示]: #howtoviewusage
  [方法: リソース使用量の削減]: #resourceusage
  [リソース使用量クォータを超過した場合の処理]: #exceeded
  [方法: Web サイトの診断の構成とログのダウンロード]: #howtoconfigdiagnostics
  [方法: Web エンドポイントの状態の監視]: #webendpointstatus
  [Azure の管理ポータル]: http://manage.windowsazure.com/
  [Azure での仮想マシンとクラウド サービスのサイズに関するページ]: http://go.microsoft.com/fwlink/?LinkID=309169
  [ストレージ アカウントの管理方法]: https://www.windowsazure.com/ja-jp/manage/services/storage/how-to-manage-a-storage-account/
  [Azure PowerShell の使用方法]: http://www.windowsazure.com/ja-jp/develop/nodejs/how-to-guides/powershell-cmdlets/
  [FileZilla]: http://go.microsoft.com/fwlink/?LinkId=247914
  [W3C 拡張ログ形式]: http://go.microsoft.com/fwlink/?LinkID=90561
  []: http://contoso.cloudapp.net
