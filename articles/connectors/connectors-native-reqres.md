<properties
	pageTitle="要求アクションと応答アクションの使用 |Microsoft Azure"
	description="Azure ロジック アプリの要求および応答のトリガーとアクションの概要"
	services=""
	documentationCenter="" 
	authors="jeffhollan"
	manager="erikre"
	editor=""
	tags="connectors"/>

<tags
   ms.service="app-service-logic"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na" 
   ms.date="07/18/2016"
   ms.author="jehollan"/>

# 要求コンポーネントと応答コンポーネントの概要

ロジック アプリで要求コンポーネントと応答コンポーネントを使用すると、次のようにリアルタイムでイベントに応答できます。

- ロジック アプリから、オンプレミスのデータベースのデータを使用して HTTP 要求に応答します。
- 外部の webhook イベントからロジック アプリをトリガーします。
- 他のロジック アプリ内からの要求アクションと応答アクションを使用してロジック アプリを呼び出します。

ロジック アプリでの要求アクションと応答アクションの使用を開始するには、[ロジック アプリの作成](../app-service-logic/app-service-logic-create-a-logic-app.md)に関する記事を参照してください。

---

## HTTP 要求トリガーの使用

トリガーとは、ロジック アプリで定義されたワークフローの開始に使用できるイベントです。[トリガーの詳細についてはこちらを参照してください](connectors-overview.md)。

ロジック アプリ デザイナーで HTTP 要求をセットアップする方法の例を次に示します。

1. ロジック アプリに **[Request - When an HTTP request is received (要求 - HTTP 要求を受信したとき)]** トリガーを追加します。
	- 必要に応じて、要求本文に JSON スキーマを指定できます ([jsonschema.net](http://jsonschema.net) などのツールを使用します)。これにより、デザイナーでは HTTP 要求のプロパティのトークンを生成できます。
1. ロジック アプリを保存できるように別のアクションを追加します。
1. 保存後、要求カードから HTTP 要求の URL を取得できます。
1. URL への HTTP POST ([Postman](https://www.getpostman.com/) などのツールを使用できます) はロジック アプリをトリガーします。

>[AZURE.NOTE] 応答アクションを定義していない場合、`202 ACCEPTED` 応答がすぐに呼び出し元に返されます。応答アクションを使用すると、応答をカスタマイズできます。

![Response Trigger](./media/connectors-native-reqres/using-trigger.png)

## HTTP 応答アクションの使用
	
HTTP 応答アクションは、HTTP 要求によってトリガーされたワークフローで使用した場合のみ有効です。応答アクションを定義していない場合、`202 ACCEPTED` 応答がすぐに呼び出し元に返されます。応答アクションは、ワークフロー内のどのステップでも追加できます。ロジック アプリは、応答のために受信要求を 1 分間だけオープンしたままにします。ワークフローから応答が送信されなかった場合は、(応答アクションが定義内に存在していても) 1 分後に `504 GATEWAY TIMEOUT` が呼び出し元に返されます。HTTP 応答アクションの追加方法を次に示します。

1. **[New Step (新しいステップ)]** ボタンを選択します。
1. **[Add an action (アクションの追加)]** を選択します。
1. アクションの検索ボックスに「応答」と入力して、応答アクションの一覧を表示します。

	![Select response action](./media/connectors-native-reqres/using-action-1.png)

1. HTTP 応答メッセージに必要なすべてのパラメーターを追加します。

	![Complete response action](./media/connectors-native-reqres/using-action-2.png)

1. ツール バーの左上隅にある [保存] をクリックすると、ロジック アプリが保存および発行 (アクティブ化) されます。

---

## 技術的な詳細

このコネクタでサポートされているトリガーとアクションの詳細を次に示します。

## 要求トリガー

トリガーとは、ロジック アプリで定義されたワークフローの開始に使用できるイベントです。[トリガーの詳細についてはこちらを参照してください](connectors-overview.md)。 1 つの要求トリガーがあります。

|トリガー|説明|
|---|---|
|Request|HTTP 要求を受信したとき|

## 応答アクション

アクションとは、ロジック アプリで定義されたワークフローによって実行される操作です。[アクションの詳細についてはこちらを参照してください](connectors-overview.md)。 要求トリガーに伴う場合にのみ使用可能な応答アクションが 1 つあります。

|アクション|説明|
|---|---|
|Response|関連する HTTP 要求に応答を返します|

### アクションの詳細

各アクションの情報、必須および任意の入力フィールド、アクションの使用に関連した対応する出力の詳細を次に示します。

#### 要求トリガー
受信 HTTP 要求からのトリガー。* は必須フィールドを意味します。

|表示名|プロパティ名|説明|
|---|---|---|
|JSON スキーマ|schema|HTTP 要求本文の JSON スキーマ|
<br>

**出力の詳細**

Request

|プロパティ名|データ型|説明|
|---|---|---|
|ヘッダー|オブジェクト|要求ヘッダー|
|本文|オブジェクト|要求オブジェクト|

#### 応答アクション

HTTP 応答。* は必須フィールドを意味します。

|表示名|プロパティ名|説明|
|---|---|---|
|状態コード*|StatusCode|HTTP 状態コード|
|ヘッダー|headers|含める任意の応答ヘッダーの JSON オブジェクト|
|本文|body|応答本文|

## 次のステップ

ロジック アプリに取り組む方法とコミュニティの詳細を次に示します。

## ロジック アプリを作成します

ここで、プラットフォームと、[ロジック アプリの作成](../app-service-logic/app-service-logic-create-a-logic-app.md)を試してみましょう。[API の一覧](apis-list.md)を参照すると、ロジック アプリで使用可能な他のコネクタが見つかります。

<!---HONumber=AcomDC_0720_2016-->