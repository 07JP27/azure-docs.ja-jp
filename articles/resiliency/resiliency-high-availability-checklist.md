<properties
   pageTitle="高可用性のチェック リスト |Microsoft Azure"
   description="Azure でアプリケーションの可用性を確実に向上させるための設定と操作の簡単なチェック リスト。"
   services=""
   documentationCenter="na"
   authors="adamglick"
   manager="hongfeig"
   editor=""/>

<tags
   ms.service="resiliency"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="06/15/2016"
   ms.author="aglick"/>

#高可用性のチェック リスト
Azure を使用する大きな利点の 1 つは、クラウドを利用して、アプリケーションの可用性 (およびスケーラビリティ) を向上させることができることです。これらのオプションを確実に最大限に活用するには、以下のチェック リストが役立ちます。このチェック リストには、アプリケーションの回復性を確保するうえで重要なインフラストラクチャの基本事項がいくつか記載されています。

>[AZURE.NOTE] 以下の提案事項のほとんどは、いつでもアプリケーションに実装できます。そのため、"すばやく修正する方法" として最適です。多くの場合、長期的にベストなソリューションには、クラウド向けのアプリケーション設計が必要です。これら (設計関連) のチェック リストについては、「[可用性のチェックリスト](../best-practices-availability-checklist.md)」を参照してください。

###リソースの手前で Traffic Manager を使用していますか。
Traffic Manager を使用すると、Azure のリージョン間や Azure とオンプレミスの場所の間でインターネット トラフィックをルーティングできます。待機時間や可用性など、さまざまな理由でこれを行うことができます。Traffic Manager を使用して、回復性を向上させ、複数のリージョンにトラフィックを分散させる方法の詳細については、「[Running VMs in multiple datacenters on Azure for high availability (高可用性のために Azure の複数のデータセンターで VM を実行する)](../guidance/guidance-compute-multiple-datacenters.md)」を参照してください。

__Traffic Manager を使用しないと、どうなりますか。__ アプリケーションの手前で Traffic Manager を使用しないと、リソースの 1 つのリージョンに制限されます。そのため、スケールが制限され、選択したリージョンに近くないユーザーの待機時間が増加し、リージョン全体にわたってサービスが中断した場合に保護レベルが低下します。

###ロールに対して単一の仮想マシンを使用しないようにしていますか。
あらゆる単一障害点を回避するのが優れた設計です。これは、(オンプレミスまたはクラウドの) すべてのサービスの設計において重要です。特にクラウドでは、スケールアップする (より性能の高い仮想マシンを使用する) 代わりに、スケールアウトする (仮想マシンを追加する) ことによってスケーラビリティと回復性を向上させることができるため、役立ちます。スケーラブルなアプリケーション設計の詳細については、「[Microsoft Azure 上に構築されたアプリケーションの高可用性](resiliency-high-availability-azure-applications.md)」を参照してください。

__ロールに対して単一の仮想マシンを使用すると、どうなりますか。__ 1 台のコンピューターが単一障害点となります。これは[Azure 仮想マシンのサービス レベル アグリーメント](https://azure.microsoft.com/support/legal/sla/virtual-machines/v1_0/)では使用できません。問題が発生していない場合は、アプリケーションが正常に実行されますが、これは回復性のある設計ではなく、Azure 仮想マシンの SLA の対象にはなりません。単一障害点により、問題が発生した場合にダウンタイムが生じる可能性が高くなります。

###アプリケーションのインターネットに接続する VM の手前でロード バランサーを使用していますか。
ロード バランサーを使用すると、アプリケーションへの着信トラフィックを任意の数のマシンに分散できます。ロード バランサーのマシンはいつでも追加または削除できます。それにより、仮想マシン (および仮想マシン スケール セットを使用した自動スケール) をうまく利用して、トラフィックの増加や VM の障害に簡単に対処できます。ロード バランサーの詳細については、「[Azure Load Balancer の概要](../load-balancer/load-balancer-overview.md)」と「[Running multiple VMs on Azure for scalability and availability (スケーラビリティと可用性のために Azure で複数の VM を実行する)](../guidance/guidance-compute-multi-vm.md)」を参照してください。

__インターネットに接続する VM の手前でロード バランサーを使用しないと、どうなりますか。__ ロード バランサーを使用しないと、スケールアウト (仮想マシンを追加) できなくなり、選択肢がスケールアップ (Web に接続する仮想マシンのサイズの増加) だけになります。また、その仮想マシンが単一障害点になります。さらに、インターネットに接続されたマシンが失われたかどうかを通知するように DNS コードを記述し、その代わりに使用する新しいマシンに DNS エントリを再マップする必要もあります。

###ステートレスなアプリケーションや Web サーバーで可用性セットを使用していますか。
マシンを可用性セットの同じアプリケーション層に含めると、VM が Azure VM SLA の対象になります。また、マシンが異なる更新ドメイン (異なるタイミングで修正プログラムが適用される異なるホスト コンピューター) と障害ドメイン (共通の電源とネットワーク スイッチを共有するホスト コンピューター) に配置されます。可用性セットに含まれていない場合は、VM が同じホスト コンピューターに配置されるため、気が付かずに単一点障害となっている可能性があります。可用性セットを使用した VM の可用性の向上の詳細については、「[仮想マシンの可用性管理](../virtual-machines/virtual-machines-windows-manage-availability.md)」を参照してください。

__ステートレスなアプリケーションや Web サーバーで可用性セットを使用しないと、どうなりますか。__ 可用性セットを使用しないと、Azure VM SLA を利用できません。また、ホスト コンピューター (使用している VM をホストしているコンピューター) で更新が行われたり、一般的なハードウェア障害が発生したりした場合に、アプリケーションのそのレイヤーにあるマシンがすべてオフラインになる可能性もあります。

###ステートレスなアプリケーションや Web サーバーで仮想マシン スケール セット (VMSS) を使用していますか。
スケーラビリティと回復性が優れている設計では、VMSS を使用して、アプリケーションの階層 (Web 層など) のマシンの数を増減できます。VMSS を使用すると、アプリケーション層のスケール方法 (選択した条件に基づいてサーバーを追加または削除する方法) を定義することができます。Azure 仮想マシン スケール セットを使用して、トラフィックの急増に対する回復性を向上させる方法の詳細については、「[仮想マシン スケール セットの概要](../virtual-machine-scale-sets/virtual-machine-scale-sets-overview.md)」を参照してください。

__Web サーバーのステートレスなアプリケーションで仮想マシン スケール セットを使用しないと、どうなりますか。__ VMSS を使用しないと、制限なくスケールする機能やリソースの使用を最適化する機能が制限されます。VMSS を使用しない設計では、スケールの上限の引き上げは追加のコード (または手動) で処理する必要があります。また、トラフィックの急増 (プロモーション期間や、サイト/アプリ/製品がウイルスに感染した場合など) に対処するために、(スケールに関係なく) マシンを簡単に追加または削除することもできません。

###Premium Storage を使用し、各仮想マシンに別々のストレージ アカウントを使用していますか。
運用仮想マシンには Premium Storage を使用することをお勧めします。また、各仮想マシンに別々のストレージ アカウントを使用していることを確認します (これは、小規模なデプロイの場合に当てはまります。大規模なデプロイでは、複数のマシンにストレージ アカウントを再利用できますが、更新ドメイン間やアプリケーションの階層間で確実に分散されるようにバランスを取る必要があります)。Azure Storage のパフォーマンスとスケーラビリティの詳細については、「[Microsoft Azure Storage のパフォーマンスとスケーラビリティに対するチェックリスト](../storage/storage-performance-checklist.md)」を参照してください。

__各仮想マシンに別々のストレージ アカウントを使用しないと、どうなりますか。__ 他の多くのリソースと同様に、ストレージ アカウントが単一障害点になります。Azure Storage はさまざまな保護機能と回復性機能を備えていますが、単一障害点が存在するのは決して優れた設計ではありません。たとえば、そのアカウントへのアクセス権が破損した場合や、ストレージの上限に達した場合、[IOPS の上限](../azure-subscription-service-limits.md#virtual-machine-disk-limits)に達した場合は、そのストレージ アカウントを使用しているすべての仮想マシンが影響を受けます。さらに、その特定のストレージ アカウントが含まれるストレージ スタンプに影響するサービスの中断が発生した場合は、複数の仮想マシンが影響を受ける可能性があります。

###アプリケーションの各階層間でロード バランサーまたはキューを使用していますか。
アプリケーションの各階層間でロード バランサーまたはキューを使用すると、アプリケーションの各階層を個別に簡単にスケールできます。待機時間、複雑さ、ディストリビューション (つまり、どのくらい広範囲にアプリを配布するか) に基づいて、どちらかのテクノロジを選択する必要があります。一般に、キューには、待機時間が長くなり、複雑さが増す傾向がありますが、回復性が向上し、アプリケーションを (リージョンをまたぐなど) 広い範囲に配布できるというメリットがあります。内部ロード バランサーまたはキューを使用する方法の詳細については、「[内部ロード バランサーの概要](../load-balancer/load-balancer-internal-overview.md)」と「[Azure キューと Service Bus キューの比較](../service-bus/service-bus-azure-and-service-bus-queues-compared-contrasted.md)」を参照してください。

__アプリケーションの各階層間でロード バランサーまたはキューを使用しないと、どうなりますか。__ アプリケーションの各階層間でロード バランサーまたはキューを使用しないと、アプリケーションをスケールアップまたはスケールダウンすることや、複数のマシンで負荷を分散することが難しくなります。これを行わないと、トラフィックの予期しない変化やシステムの障害が発生した場合に、リソースの過剰または過小なプロビジョニング、ダウンタイムのリスク、またはユーザー エクスペリエンスの低下につながる可能性があります。
 
###SQL データベースでアクティブ geo レプリケーションを使用していますか。 
アクティブ geo レプリケーションにより、同じまたは異なるリージョンに最大 4 つの読み取り可能なセカンダリ データベースを構成できます。セカンダリ データベースは、サービスの中断が発生した場合やプライマリ データベースに接続できない場合に使用できます。SQL Database のアクティブ geo レプリケーションの詳細については、「[概要: Azure SQL Database のアクティブ geo レプリケーション](../sql-database/sql-database-geo-replication-overview.md)」を参照してください。
 
 __SQL データベースでアクティブ geo レプリケーションを使用しないと、どうなりますか。__ アクティブ geo レプリケーションを使用しないと、(計画的なメンテナンス、停止、サービスの中断、ハードウェアの障害などで) プライマリ データベースがオフラインになった場合、プライマリ データベースを正常な状態でオンラインに戻すまで、アプリケーション データベースがオフラインになります。
 
###データベースの手前でキャッシュ (Azure Redis Cache) を使用していますか。
アプリケーションのデータベース負荷が高く、データベース呼び出しのほとんどが読み取りの場合は、データベースの手前にキャッシュ レイヤーを実装して、これらの読み取り操作の負荷をオフロードすることで、アプリケーションの速度を向上させ、データベースの負荷を軽減させることができます。データベースの手前にキャッシュ レイヤーを配置することで、アプリケーションの速度を向上させ、データベースの負荷を軽減させることができます (そのため、処理できるスケールが向上します)。Azure Redis Cache の詳細については、「[キャッシュに関するガイダンス](../best-practices-caching.md)」を参照してください。
 
 __データベースの手前でキャッシュを使用しないと、どうなりますか。__ データベース コンピューターがデータベースに対するトラフィック負荷を処理するのに十分な性能を備えている場合、アプリケーションは通常どおり応答します。ただし、負荷が減少したときに、データベース コンピューターに対して必要以上に高い料金を支払うことになる可能性があります。データベース コンピューターが負荷を処理するのに十分な性能を備えていない場合、アプリケーションのユーザー エクスペリエンスが低下します (待機時間、タイムアウト、場合によってはサービスのダウンタイムが発生します)。
 
###大規模なイベントが予想される場合に、Microsoft Azure サポートに連絡しましたか。
Azure サポートでは、サービスの制限を引き上げて、トラフィック負荷の高い計画的なイベント (新製品の発売や特別な祝日など) に対応できるよう支援できます。また、お客様のアカウント チームを交えて設計を確認したり、大規模なイベントのニーズに最適なソリューションを見つけたりできるよう支援する専門家を紹介することもできます。Azure サポートに連絡する方法の詳細については、「[Azure サポートに関する FAQ](https://azure.microsoft.com/support/faq/)」を参照してください。

__大規模なイベントが予想される場合に、Azure サポートに連絡しないと、どうなりますか。__ 連絡して、大規模なイベントに備えないと、イベント時に特定の [Azure サービスの制限](../azure-subscription-service-limits.md)に達し、ユーザー エクスペリエンスが低下する (さらには、ダウンタイムが発生する) 可能性があります。急増に先立ってアーキテクチャを確認し、連絡しておくと、そうしたリスクを軽減できます。

###Web に接続されたストレージ BLOB と静的なアセットの手前で Content Delivery Network (Azure CDN) を使用していますか。
CDN を使用すると、世界各地に配置された CDN POP/エッジ ロケーションにコンテンツをキャッシュすることによって、サーバーの負荷を軽減できます。これを行うと、待機時間を短縮し、スケーラビリティを向上させ、サーバー負荷を軽減できます。また、サービス拒否 (DOS) 攻撃からの保護戦略の一環にもなります。Azure CDN を使用して、回復性を向上させ、顧客の待機時間を短縮する方法の詳細については、「[Azure Content Delivery Network (CDN) の概要](../cdn/cdn-overview.md)」を参照してください。

__CDN を使用しないと、どうなりますか。__ CDN を使用しないと、顧客のトラフィックがすべてリソースに直接流れます。そうすると、サーバーの負荷が高まり、スケーラビリティが低下します。さらに、顧客の待機時間が増加する可能性もあります。一方、CDN は、世界各地のさまざまな場所から顧客に近い場所を提供します。

##次のステップ:
高可用性アプリケーションを設計する方法の詳細については、「[Microsoft Azure 上に構築されたアプリケーションの高可用性](resiliency-high-availability-azure-applications.md)」をご覧ください。

<!---HONumber=AcomDC_0713_2016-->