<properties 
	pageTitle="Azure Redis Cache を管理する方法 | Microsoft Azure"
	description="Azure Redis Cache の管理タスク (再起動、更新のスケジュールなど) を実行する方法について説明します"
	services="redis-cache"
	documentationCenter="na"
	authors="steved0x"
	manager="douge"
	editor="tysonn" />
<tags 
	ms.service="cache"
	ms.devlang="na"
	ms.topic="article"
	ms.tgt_pltfrm="cache-redis"
	ms.workload="tbd"
	ms.date="06/28/2016"
	ms.author="sdanie" />

# Azure Redis Cache を管理する方法

このトピックでは、Azure Redis Cache インスタンスについて、再起動、更新スケジュールなどの管理タスクを実行する方法について説明します。

>[AZURE.IMPORTANT] この記事で説明する設定と機能は、Premium レベルのキャッシュにのみ使用できます。


## 管理の設定

Azure Redis Cache の**管理**設定を使用すると、Premium キャッシュに対して次の管理タスクを実行できます。管理設定にアクセスするには、[Redis Cache] ブレードで **[設定]** または **[すべての設定]** をクリックし、**[設定]** ブレードで **[管理]** セクションにスクロールします。

![管理](./media/cache-administration/redis-cache-administration.png)

-	[Reboot](#reboot)
-	[更新のスケジュール](#schedule-updates)

## Reboot

**[再起動]** ブレードでは、キャッシュの 1 つ以上のノードを再起動できます。これにより、障害発生時のアプリケーションの回復性をテストすることができます。

![Reboot](./media/cache-administration/redis-cache-reboot.png)

クラスタリングが有効になっている Premium キャッシュがある場合は、再起動するキャッシュのシャードを選択できます。

![Reboot](./media/cache-administration/redis-cache-reboot-cluster.png)

キャッシュのノードを再起動するには、目的のノードを選択し、**[再起動]** をクリックします。クラスタリングが有効になっている Premium キャッシュがある場合は、再起動するシャードを選択し、**[再起動]** をクリックします。数分後、選択したノードが再起動され、さらに数分後にオンラインに戻ります。

クライアント アプリケーションへの影響は、再起動するノードによって異なります。

-	**マスター** - マスター ノードが再起動されると、Azure Redis Cache はレプリカ ノードにフェールオーバーして、そのノードがマスターに昇格します。このフェールオーバー中、キャッシュに接続できない短いインターバルが発生する可能性があります。
-	**スレーブ** - スレーブ ノードの再起動は、通常、キャッシュ クライアントに何の影響も及ぼしません。
-	**マスターとスレーブの両方** - 両方のキャッシュ ノードが再起動されると、キャッシュのデータすべてが失われ、プライマリ ノードがオンラインに戻るまでキャッシュに接続できません。[データの永続化](cache-how-to-premium-persistence.md)を構成した場合は、キャッシュがオンラインに戻ったときに、最新のバックアップが復元されます。
-	**クラスタリングが有効になっている Premium キャッシュのノード** - クラスタリングが有効になっている Premium キャッシュのノードを再起動したときの動作は、非クラスター化キャッシュのノードを再起動する場合と同じです。


>[AZURE.IMPORTANT] 再起動は、Premium レベルのキャッシュにのみ使用できます。

## 再起動に関する FAQ

-	[アプリケーションのテストでは、どのノードを再起動する必要がありますか。](#which-node-should-i-reboot-to-test-my-application)
-	[キャッシュを再起動することでクライアント接続を消去できますか。](#can-i-reboot-the-cache-to-clear-client-connections)
-	[再起動すると、キャッシュのデータは失われますか。](#will-i-lose-data-from-my-cache-if-i-do-a-reboot)
-	[PowerShell、CLI、またはその他の管理ツールを使用して、キャッシュを再起動できますか。](#can-i-reboot-my-cache-using-powershell-cli-or-other-management-tools)
-	[どの価格レベルで再起動機能を使用できますか。](#what-pricing-tiers-can-use-the-reboot-functionality)


### アプリケーションのテストでは、どのノードを再起動する必要がありますか。

キャッシュのプライマリ ノードの障害に対するアプリケーションの回復性をテストするには、**マスター** ノードを再起動します。セカンダリ ノードの障害に対するアプリケーションの回復性をテストするには、**スレーブ** ノードを再起動します。キャッシュの全体的な障害に対するアプリケーションの回復性をテストするには、**両方**のノードを再起動します。

### キャッシュを再起動することでクライアント接続をクリアできますか。

はい、できます。キャッシュを再起動すると、すべてのクライアント接続がクリアされます。これは、たとえば、ロジック エラーやクライアント アプリケーションのバグによって、すべてのクライアント接続が使い果たされているときに便利です。価格レベルごとに、さまざまなサイズに対するさまざまな[クライアント接続の制限](cache-configure.md#default-redis-server-configuration)があり、こうした制限に達すると、それ以上のクライアント接続は受け入れられなくなります。キャッシュを再起動することで、すべてのクライアント接続がクリアされます。

### 再起動すると、キャッシュのデータは失われますか。

**マスター** ノードと**スレーブ** ノードの両方を再起動すると、キャッシュまたはそのシャード (クラスタリングが有効になっている Premium キャッシュを使用している場合) のすべてのデータが失われます。[データの永続化](cache-how-to-premium-persistence.md)を構成した場合は、キャッシュがオンラインに戻ったときに、最新のバックアップが復元されます。

ノードのいずれかを 1 つだけ再起動しても、通常、データが失われることはありませんが、失われる可能性もあります。たとえば、マスター ノードが再起動されたときに、キャッシュの書き込みが実行中だと、そのキャッシュの書き込みのデータは失われます。

### PowerShell、CLI、またはその他の管理ツールを使用して、キャッシュを再起動できますか。

現時点ではできませんが、この機能は、まもなく利用できるようになる予定です。

### どの価格レベルで再起動機能を使用できますか。

再起動は Premium 価格レベルでのみ使用できます。

## 更新のスケジュール

**[更新のスケジュール]** ブレードでは、キャッシュのメンテナンス時間を指定できます。メンテナンス時間を指定すると、その時間にすべての Redis サーバーの更新が実行されます。このメンテナンス時間は、Redis サーバーの更新にのみ適用されることに気を付けてください。Azure の更新や、キャッシュをホストする VM のオペレーティング システムへの更新には適用されません。

![更新のスケジュール](./media/cache-administration/redis-schedule-updates.png)

メンテナンス時間を指定するには、目的の曜日をオンにし、曜日ごとにメンテナンス時間の開始時刻を指定して、**[OK]** をクリックします。メンテナンス時間の時刻は UTC 時間で指定します。

## 更新のスケジュールに関する FAQ

-	[更新スケジュール機能を使用しない場合、更新はどのタイミングで実行されますか。](#when-do-updates-occur-if-i-dont-use-the-schedule-updates-feature)
-	[スケジュールされたメンテナンス時間に行われるのは、どのような更新ですか。](#what-type-of-updates-are-made-during-the-scheduled-maintenance-window)
-	[どの価格レベルで更新スケジュール機能を使用できますか。](#what-pricing-tiers-can-use-the-schedule-updates-functionality)

### 更新スケジュール機能を使用しない場合、更新はどのタイミングで実行されますか。

メンテナンス時間を指定しない場合は、いつでも更新を実行できます。

### スケジュールされたメンテナンス時間に行われるのは、どのような更新ですか。

スケジュールされたメンテナンス時間に行われるのは、Redis サーバーの更新だけです。メンテナンス時間は、Azure の更新や、VM のオペレーティング システムへの更新には適用されません。

### どの価格レベルで更新スケジュール機能を使用できますか。

更新のスケジュールは Premium 価格レベルでのみ使用できます。

<!---HONumber=AcomDC_0629_2016-->