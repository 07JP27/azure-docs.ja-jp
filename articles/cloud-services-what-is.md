<properties linkid="manage-services-what-is-a-cloud-service" urlDisplayName="クラウド サービスとは" pageTitle="クラウド サービスとは - Azure のサービス管理" metaKeywords="Azure クラウド サービスの紹介, クラウド サービスの概要, クラウド サービスの基本" description="Azure のクラウド サービスを紹介します。" metaCanonical="" services="cloud-services" documentationCenter="" title="クラウド サービスとは" authors="ryanwi" solutions="" manager="" editor="" />




#クラウド サービスとは
アプリケーションを作成して、それを Azure で実行するときは、そのコードと構成をあわせて Azure *クラウド サービス*と呼びます (以前にリリースした Azure ではホステッド サービスと呼ばれていました)。

クラウド サービスを作成することにより、Azure に多階層アプリケーションを展開し、複数のロールを定義して処理を分散し、アプリケーションの規模を柔軟に設定することができます。クラウド サービスは 1 つ以上の Web ロールまたは worker ロールから構成され、各ロールにそれぞれ専用のアプリケーション ファイルと構成が関連付けられます。

クラウド サービスの場合、Azure がユーザーに代わってインフラストラクチャの保守と日常的な保守を行い、オペレーティング システムにパッチを適用し、サービスとハードウェアの障害時には回復を図ります。あらゆるロールにインスタンスを最低 2 つ定義した場合、ほとんどの保守作業は、ユーザー独自のサービスのアップグレードも含めて、サービスを中断することなく実施できます。クラウド サービスが Azure サービス レベル アグリーメントの対象になるには、各ロール用に複数のインスタンスを展開している必要があります。その場合、インターネットに接続するロールが 99.95% 以上の時間、外部に接続されることが保証されます。

各クラウド サービスには、サービス パッケージと構成を展開できる環境が 2 つ用意されています。クラウド サービスは、まずステージング環境にデプロイしてテストした後、運用環境に昇格させることができます。ステージングされたクラウド サービスを運用環境に昇格させるのは、2 つの環境に関連付けられた仮想 IP アドレス (VIP) を交換するだけの簡単な処理です。


## 概念##


- **クラウド サービス ロール**: クラウド サービス ロールはアプリケーション ファイルと構成によって成り立っています。クラウド サービスにはロールが 2 種類あります。
 
>- **Web ロール**: Web ロールは、フロントエンド Web アプリケーションのホスティングに使用される専用のインターネット インフォメーション サービス (IIS) Web サーバーを提供します。

>- **worker ロール**: worker ロール内でホスティングされるアプリケーションは、ユーザーの操作や入力とは関係なく、非同期タスク、長時間かかるタスク、または常駐タスクを実行できます。

- **ロール インスタンス**: ロール インスタンスとは、アプリケーション コードとロール構成が実行される仮想マシンです。1 つのロール用に複数のインスタンスを展開するようにサービス構成ファイルで定義できます。

- **ゲスト オペレーティング システム**: クラウド サービスのゲスト オペレーティング システムは、アプリケーション コードが実行されるロール インスタンス (仮想マシン) にインストールされたオペレーティング システムです。

- **クラウド サービスのコンポーネント**: Azure のクラウド サービスとしてアプリケーションを展開するには、3 つのコンポーネントが必要です。

>- **サービス定義ファイル**: クラウド サービス定義ファイル (.csdef) は、ロールの数も含めて、サービス モデルを定義します。

>- **サービス構成ファイル**: クラウド サービス構成ファイル (.cscfg) は、ロール インスタンスの数も含めて、クラウド サービスおよび個々のロールの構成設定を指定します。

>- **サービス パッケージ**: サービス パッケージ (.cspkg) は、アプリケーション コードとサービス定義ファイルを含みます。

- **クラウド サービス展開**: クラウド サービス展開は、Azure のステージング環境または運用環境に展開されたクラウド サービスのインスタンスです。ステージング環境と運用環境の両方に展開を保持できます。

- **展開環境:** Azure には、クラウド サービス用に 2 つの展開環境が用意されています。*ステージング環境*で展開をテストした後、*運用環境*に昇格させます。2 つの環境で異なるのは、クラウド サービスがアクセスに使用する仮想 IP アドレス (VIP) だけです。ステージング環境では、展開の URL はクラウド サービスのグローバル一意識別子 (GUID) に基づいたものになります (*GUID*.cloudapp.net)。運用環境では、展開の URL はクラウド サービスに割り当てられたわかりやすい DNS プレフィックスに基づいたものになります (*myservice*.cloudapp.net など)。

- **展開のスワップ**: Azure のステージング環境にある展開を運用環境に昇格させるには、2 つの展開にアクセスするときに使用する VIP を切り替えることで展開を "スワップ" します。展開後、クラウド サービスの DNS 名は、ステージング環境にあった展開を指します。

- **最小監視と詳細監視**: *最小監視*は、クラウド サービス用に既定で構成されており、ロール インスタンス (仮想マシン) のホスト オペレーティング システムから収集したパフォーマンス カウンターを使用します。*詳細監視*は、アプリケーション処理時に発生する問題を詳しく分析できるように、ロール インスタンス内のパフォーマンス データに基づいて追加のメトリックを収集します。詳細については、「[クラウド サービスの監視方法][HTMonitorCloudServices]」を参照してください。

- **Azure 診断**: Azure 診断は、Azure で実行しているアプリケーションから診断データを収集できる API です。詳細監視を有効にするには、クラウド サービス ロールの Azure 診断を有効にする必要があります。

- **リソースのリンク**: 使用しているクラウド サービスと、Azure SQL データベース インスタンスのような他のリソースとの依存関係を示すために、リソースをクラウド サービスに "リンク" することができます。プレビュー管理ポータルでは、**[リンク済みリソース]** ページでリンクされたリソースを表示し、ダッシュボードでその状態を表示し、**[スケール]** ページでサービス ロールと共にリンクされた SQL データベース インスタンスの規模を設定できます。この意味でリソースをリンクしても、リソースはアプリケーションに接続されません。接続はアプリケーション コードで構成する必要があります。

- **クラウド サービスの規模設定 (スケール)**: クラウド サービスは、ロール用に展開したロール インスタンス (仮想マシン) の数を増やすことによって規模が拡大されます。クラウド サービスは、ロール インスタンスの数を減らすことによって規模が縮小されます。プレビュー管理ポータルでは、サービス ロールの規模を設定するときに、リンクされた SQL データベースのエディションと最大データベース サイズを変更することで、リンクされた SQL データベース インスタンスの規模を設定することもできます。

- **Azure サービス レベル アグリーメント (SLA)**: Azure コンピューティング SLA では、各ロール用に複数のインスタンスを展開している場合、クラウド サービスへのアクセスが 99.95% 以上の時間、維持されることが保証されます。また、ロール インスタンスのプロセスが実行されていないときに、その検出作業と是正措置が開始されることが 99.9% の時間、保証されます。詳細については、「[サービス レベル アグリーメント][SLA]」を参照してください。

[HTMonitorCloudServices]:https://www.windowsazure.com/ja-jp/manage/services/cloud-services/how-to-monitor-a-cloud-service/
[SLA]: https://www.windowsazure.com/ja-jp/support/legal/sla/

