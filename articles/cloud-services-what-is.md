<properties linkid="manage-services-what-is-a-cloud-service" urlDisplayName="What is a Cloud Service" pageTitle="What is a cloud service - Azure service management" metaKeywords="Azure cloud services intro, cloud services overview, cloud services basics" description="An introduction to the cloud service in Azure." metaCanonical="" services="cloud-services" documentationCenter="" title="What is a cloud service?" authors="ryanwi" solutions="" manager="timlt" editor="" />

<tags ms.service="cloud-services" ms.workload="tbd" ms.tgt_pltfrm="na" ms.devlang="na" ms.topic="article" ms.date="01/01/1900" ms.author="ryanwi"></tags>

# クラウド サービスとは

アプリケーションを作成して、それを Azure で実行するときは、そのコードと構成をあわせて Azure *クラウド サービス*と呼びます (以前にリリースした Azure ではホステッド サービスと呼ばれていました)。

クラウド サービスを作成することにより、Azure に多階層 Web アプリケーションを展開し、複数のロールを定義して処理を分散し、アプリケーションの規模を柔軟に設定することができます。クラウド サービスは 1 つ以上の Web ロールまたは worker ロールから構成され、各ロールにそれぞれ専用のアプリケーション ファイルと構成が関連付けられます。Azure Web サイトおよび仮想マシンも Azure 上の Web アプリケーションを有効にします。クラウド サービスの主な利点は、複雑な多層アーキテクチャをサポートできるという点です。詳細な比較については、「[Azure の Web サイト、クラウド サービス、仮想マシンの比較][Azure の Web サイト、クラウド サービス、仮想マシンの比較]」を参照してください。

クラウド サービスの場合、Azure がユーザーに代わってインフラストラクチャの保守と日常的な保守を行い、オペレーティング システムにパッチを適用し、サービスとハードウェアの障害時には回復を図ります。あらゆるロールにインスタンスを最低 2 つ定義した場合、ほとんどの保守作業は、ユーザー独自のサービスのアップグレードも含めて、サービスを中断することなく実施できます。クラウド サービスが Azure サービス レベル アグリーメントの対象になるには、各ロール用に複数のインスタンスを展開している必要があります。その場合、インターネットに接続するロールが 99.95% 以上の時間、外部に接続されることが保証されます。

各クラウド サービスには、サービス パッケージと構成を展開できる環境が 2 つ用意されています。クラウド サービスは、まずステージング環境にデプロイしてテストした後、運用環境に昇格させることができます。ステージングされたクラウド サービスを運用環境に昇格させるのは、2 つの環境に関連付けられた仮想 IP アドレス (VIP) を交換するだけの簡単な処理です。

## 概念

-   **クラウド サービス ロール:** クラウド サービス ロールは、アプリケーション ファイルと構成によって成り立っています。クラウド サービスにはロールが 2 種類あります。

> -   **Web ロール**: Web ロールは、フロントエンド Web アプリケーションのホスティングに使用される専用のインターネット インフォメーション サービス (IIS) Web サーバーを提供します。

> -   **ワーカー ロール:** ワーカー ロール内でホスティングされるアプリケーションは、ユーザーの操作や入力とは関係なく、非同期タスク、長時間かかるタスク、または常駐タスクを実行できます。

-   **ロール インスタンス:** ロール インスタンスとは、アプリケーション コードとロール構成が実行される仮想マシンです。1 つのロール用に複数のインスタンスを展開するようにサービス構成ファイルで定義できます。

-   **ゲスト オペレーティング システム:** クラウド サービスのゲスト オペレーティング システムは、アプリケーション コードが実行されるロール インスタンス (仮想マシン) にインストールされたオペレーティング システムです。

-   **クラウド サービス コンポーネント:** Azure のクラウド サービスとしてアプリケーションを展開するには、3 つのコンポーネントが必要です。

> -   **サービス定義ファイル:** クラウド サービス定義ファイル (.csdef) は、ロールの数も含めて、サービス モデルを定義します。

> -   **サービス構成ファイル:** クラウド サービス構成ファイル (.cscfg) は、ロール インスタンスの数も含めて、クラウド サービスおよび個々のロールの構成設定を指定します。

> -   **サービス パッケージ:** サービス パッケージ (.cspkg) は、アプリケーション コードとサービス定義ファイルを含みます。

-   **クラウド サービス デプロイ:** クラウド サービス デプロイは、Azure のステージング環境または運用環境にデプロイされたクラウド サービスのインスタンスです。ステージング環境と運用環境の両方に展開を保持できます。

-   **デプロイ環境:** Azure には、クラウド サービス用に 2 つのデプロイ環境が用意されています。*ステージング環境*でデプロイをテストした後、デプロイを*運用環境*に昇格させます。2 つの環境で異なるのは、クラウド サービスがアクセスに使用する仮想 IP アドレス (VIP) だけです。ステージング環境では、展開の URL はクラウド サービスのグローバル一意識別子 (GUID) に基づいたものになります (*GUID*.cloudapp.net)。運用環境では、展開の URL はクラウド サービスに割り当てられたわかりやすい DNS プレフィックスに基づいたものになります (*myservice*.cloudapp.net など)。

-   **デプロイをスワップする:** Azure のステージング環境にあるデプロイを運用環境に昇格させるには、2 つのデプロイにアクセスするときに使用する VIP を切り替えることでデプロイを "スワップ" します。展開後、クラウド サービスの DNS 名は、ステージング環境にあった展開を指します。

-   **最小監視と詳細監視:** *最小監視*は、既定でクラウド サービス用に構成されており、ロール インスタンス (仮想マシン) のホスト オペレーティング システムから収集したパフォーマンス カウンターが使用されます。*詳細監視*は、アプリケーション処理時に発生する問題を詳しく分析できるように、ロール インスタンス内のパフォーマンス データに基づいて追加のメトリックを収集します。詳細については、「[クラウド サービスの監視方法][クラウド サービスの監視方法]」を参照してください。

-   **Azure 診断:** Azure 診断は、Azure で実行しているアプリケーションから診断データを収集できる API です。詳細監視を有効にするには、クラウド サービス ロールの Azure 診断を有効にする必要があります。詳細については、「[Enabling Diagnostics in Azure (Azure の診断機能)][Enabling Diagnostics in Azure (Azure の診断機能)]」を参照してください。

-   **リソースをリンクする:** 使用しているクラウド サービスと、Azure SQL データベース インスタンスのような他のリソースとの依存関係を示すために、リソースをクラウド サービスに "リンク" することができます。プレビュー管理ポータルでは、**[リンク済みリソース]** ページでリンクされたリソースを表示し、ダッシュボードでその状態を表示し、**[スケール]** ページでサービス ロールと共にリンクされた SQL データベース インスタンスの規模を設定できます。この意味でリソースをリンクしても、リソースはアプリケーションに接続されません。接続はアプリケーション コードで構成する必要があります。

-   **クラウド サービスの規模を設定する:** クラウド サービスは、ロールのためにデプロイされたロール インスタンス (仮想マシン) の数を増やすことによって規模が拡大されます。クラウド サービスは、ロール インスタンスの数を減らすことによって規模が縮小されます。プレビュー管理ポータルでは、サービス ロールの規模を設定するときに、リンクされた SQL データベースのエディションと最大データベース サイズを変更することで、リンクされた SQL データベース インスタンスの規模を設定することもできます。

-   **Azure サービス レベル アグリーメント (SLA):** Azure コンピューティング SLA は、あらゆるロールに複数のロール インスタンスをデプロイした場合に、クラウド サービスへのアクセスが少なくとも 99.95% の時間、維持されることを保証します。また、ロール インスタンスのプロセスが実行されていないときに、その検出作業と是正措置が開始されることが 99.9% の時間、保証されます。詳細については、「[サービス レベル アグリーメント][サービス レベル アグリーメント]」を参照してください。

  [Azure の Web サイト、クラウド サービス、仮想マシンの比較]: http://azure.microsoft.com/ja-jp/documentation/articles/choose-web-site-cloud-service-vm/
  [クラウド サービスの監視方法]: http://azure.microsoft.com/ja-jp/manage/services/cloud-services/how-to-monitor-a-cloud-service/
  [Enabling Diagnostics in Azure (Azure の診断機能)]: http://azure.microsoft.com/ja-jp/documentation/articles/cloud-services-dotnet-diagnostics/
  [サービス レベル アグリーメント]: http://azure.microsoft.com/ja-jp/support/legal/sla/
