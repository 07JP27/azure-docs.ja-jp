---
title: 需要の変化に対応するために Azure データ エクスプローラー クラスターをスケーリングする
description: この記事では、需要の変化に基づいて、Azure データ エクスプローラー クラスターをスケールアウトおよびスケールインする手順について説明します。
author: orspod
ms.author: v-orspod
ms.reviewer: mblythe
ms.service: data-explorer
services: data-explorer
ms.topic: conceptual
ms.date: 09/24/2018
ms.openlocfilehash: 38dc7b70630276d51c75ca7e87f0b69ea7fe040a
ms.sourcegitcommit: 3aa0fbfdde618656d66edf7e469e543c2aa29a57
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/05/2019
ms.locfileid: "55735125"
---
# <a name="manage-cluster-scale-out-to-accommodate-changing-demand"></a>需要の変化に対応するようにクラスターのスケールアウトを管理する

クラスターのサイズを適切に設定することは、Azure データ エクスプローラーのパフォーマンスにとって重要なことです。 しかし、クラスターに対する需要を 100% の精度で予測することはできません。 静的クラスターのサイズが使用率の低下や超過の原因となる可能性があり、どちらも理想的な状態ではありません。 変化する需要に合わせて容量を追加および削除して、クラスターを*スケーリング*することをお勧めします。 この記事では、クラスターのスケールアウトを管理する方法を示します。

ご利用のクラスターに移動して、**[設定]** で **[スケール アウト]** を選択します。**[構成]** では、**[自動スケールの有効化]** を選択します。

![自動スケールの有効化](media/manage-cluster-scaling/enable-autoscale.png)

以下の図は、次に示すいくつかの手順のフローを示しています。 詳細は図の下にあります。

![スケール ルール](media/manage-cluster-scaling/scale-rule.png)

1. **[自動スケール設定の名前]** で、"*スケールアウト: キャッシュ使用率*" などの名前を指定します。

1. **[スケール モード]** で、**[メトリックに基づいてスケーリングする]** を選択します。 このモードでは動的スケーリングが提供されます。**[特定のインスタンス数にスケーリングする]** を選択することもできます。

1. **[ルールの追加]** を選択します。

1. 右側の **[スケール ルール]** セクションで、各設定の値を指定します。

    | Setting | 説明と値 |
    | --- | --- | --- |
    | **時間の集計** | **[平均]** など、集計条件を選択します。 |
    | **メトリック名** | **[キャッシュ使用率]** など、スケール操作のベースとするメトリックを選択します。 |
    | **[時間グレインの統計]** | **[平均]**、**[最小]**、**[最大]**、**[合計]** から選択します。 |
    | **演算子** | **[次の値以上]** など、適切なオプションを選択します。 |
    | **しきい値** | 適切な値を選択します。 たとえば、キャッシュ使用率の場合、手始めとしては 80% が適しています。 |
    | **Duration** | システムでメトリックを計算する際にさかのぼって確認する適切な期間を選択します。 既定値の 10 分から始めます。 |
    | **操作** | スケールインまたはスケール アウトする適切なオプションを選択します。 |
    | **インスタンス数** | メトリック条件が満たされたときに追加または削除するノードまたはインスタンスの数を選択します。 |
    | **[クール ダウン (分)]** | スケール操作の間の待機する適切な時間間隔を選択します。 既定値の 5 分から始めます。 |
    |  |  |

1. **[追加]** を選択します。

1. 左側の **[インスタンスの制限]** セクションで、各設定の値を指定します。

    | Setting | 説明と値 |
    | --- | --- | --- |
    | *最小* | これはインスタンスの数です。使用率に関係なく、クラスターがこれより小さくスケーリングされることはありません。 |
    | *[最大]* | これはインスタンスの数です。使用率に関係なく、クラスターがこれより大きくスケーリングされることはありません。 |
    | *既定値* | インスタンスの既定の数。リソース メトリックの読み取りに問題がある場合に使用されます。 |
    |  |  |

1. **[保存]** を選択します。

これで、Azure データ エクスプローラー クラスターのスケールアウト操作が構成されました。 スケールイン操作には別のルールを追加します。 これにより、指定するメトリックに基づいて、クラスターを動的にスケーリングできます。

クラスターのスケーリングに関する問題が発生したときにサポートが必要な場合は、[Azure portal](https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade/overview) でサポート要求を開いてください。