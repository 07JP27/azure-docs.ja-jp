<properties linkid="itpro-windows-howto-howto-setup-hybrid-cluster-hpcpack" urlDisplayName="" pageTitle="Set up a Hybrid Compute Cluster in Azure with Microsoft HPC Pack" metaKeywords="" description="Learn how to use Microsoft HPC Pack and Azure to set up a small, hybrid high performance computing (HPC) cluster" metaCanonical="" services="" documentationCenter="" title="Microsoft HPC Pack を使用したハイブリッド クラスター コンピューティング (HPC) のセットアップ" authors="danlep" solutions="" manager="timlt" editor="mattshel" />

<tags ms.service="cloud-services" ms.workload="big-compute" ms.tgt_pltfrm="na" ms.devlang="na" ms.topic="article" ms.date="09/16/2014" ms.author="danlep" />

<h1 id="set-up-a-hybrid-compute-cluster-with-microsoft-hpc-pack" >Microsoft HPC Pack を使用したハイブリッド コンピューティング クラスターのセットアップ </h1 >  <p >このチュートリアルでは、Microsoft HPC Pack 2012 R2 と Azure を使用して、小規模なハイブリッド高パフォーマンス コンピューティング (HPC) クラスターをセットアップする方法について説明します。クラスターは、オンプレミスのヘッド ノード (Windows Server オペレーティング システムと HPC Pack を実行するコンピューター) と、Azure クラウド サービス上に worker ロール インスタンスとしてオンデマンドでデプロイされるいくつかの計算ノードで構成されます。コンピューティング ジョブを、ハイブリッド クラスター上で実行することができます。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/hybrid _cluster _overview.png" alt="Hybrid HPC cluster" / > </p >  <p >このチュートリアルでは、「クラウド バースト」とも呼ばれる方法を紹介します。Azure 上で多くのコンピューティング処理を要するアプリケーションを実行するためにコンピューティング リソースをオンデマンドで使用する、拡張性に優れた方法です。 </p >  <p >このチュートリアルは、コンピューティング クラスターまたは HPC Pack を使用した経験がない読者を対象に作成されています。これは、ハイブリッド コンピューティング クラスターを迅速にデプロイする方法のデモンストレーションを目的としています。大規模なハイブリッド HPC Pack クラスターを運用環境にデプロイするための考慮事項と手順については、 <a href="http://go.microsoft.com/fwlink/p/?LinkID=200493" >詳細なガイダンス </a >を参照してください。 </p >  <blockquote >  <p >[WACOM.NOTE] Azure では、各種のワークロードに適合するように、コンピューティング リソース向けに <a href="http://go.microsoft.com/fwlink/p/?LinkId=389844" >さまざまなサイズ </a >が用意されています。たとえば、A8 と A9 インスタンスでは、高いパフォーマンスとアクセスが組み合わされ、特定の HPC アプリケーションで必要となる、待機時間が短い高スループットのアプリケーション ネットワークが実現されます。詳細については、「 <a href="http://go.microsoft.com/fwlink/p/?Linkid=328042" >A8/A9 コンピューティング集中型インスタンスについて </a >」を参照してください。 </p >  </blockquote >  <p >このチュートリアルでは、次の基本的な手順について説明します。 </p >  <ul >  <li > <a href=" #BKMK _Prereq" >前提条件 </a > </li >  <li > <a href=" #BKMK _DeployHN" >HPC Pack をヘッド ノードにインストールする </a > </li >  <li > <a href=" #BKMK _Prpare" >Azure サブスクリプションを準備する </a > </li >  <li > <a href=" #BKMK _ConfigHN" >ヘッド ノードを構成する </a > </li >  <li > <a href=" #BKMK _worker" >クラスターに Azure ノードを追加する </a > </li >  <li > <a href=" #BKMK _start" >Azure ノードを開始する </a > </li >  <li > <a href=" #BKMK _RunCommand" >クラスター全体にコマンドを実行する </a > </li >  <li > <a href=" #BKMK _RunJob" >テスト ジョブを実行する </a > </li >  <li > <a href=" #BKMK _stop" >Azure ノードを停止する </a > </li >  </ul >  <h2 id="BKMK _Prereq" >前提条件 </h2 >  <blockquote >  <p >[WACOM.NOTE] このチュートリアルを完了するには、Azure アカウントが必要です。アカウントがない場合は、無料の試用アカウントを数分で作成することができます。詳細については、「 <a href="http://www.windowsazure.com/ja-jp/develop/php/tutorials/create-a-windows-azure-account/" >Create an Azure account (Azure アカウントの作成) </a >」を参照してください。 </p >  </blockquote >  <p >さらに、このチュートリアルでは次のものが必要です。 </p >  <ul >  <li > <p >Windows Server 2012 R2 または Windows Server 2012 を実行する内部設置型コンピューター。このコンピューターが HPC クラスターのヘッド ノードになります。Windows Server をまだ実行していない場合は、 <a href="http://technet.microsoft.com/evalcenter/dn205286.aspx" >評価版 </a >をダウンロードしてインストールできます。 </p >  <ul >  <li > <p >このコンピューターを Active Directory ドメインに結合します。 </p > </li >  <li > <p >追加のサーバー ロールまたはロール サービスをインストールしていないことを確認します。 </p > </li >  <li > <p >HPC Pack をサポートするには、オペレーティング システムのインストールを英語、日本語、または中国語 (簡体字) で行う必要があります。 </p > </li >  <li > <p >重要な更新プログラムがインストールされていることを確認します。 </p > </li >  </ul > </li >  <li > <p >HPC Pack 2012 R2 のインストール ファイル。無料で利用できます。フル インストール パッケージを <a href="http://go.microsoft.com/fwlink/p/?linkid=389557" >ダウンロード </a >して、ヘッド ノード コンピューターに、またはネットワーク上にコピーします。Windows Server のインストールと同じ言語を選択してください。 </p > </li >  <li > <p >ヘッド ノード上にローカル管理者権限があるドメイン アカウント。 </p > </li >  <li > <p >ヘッド ノードから Azure への TCP 接続 (ポート 443)。 </p > </li >  </ul >  <h2 id="BKMK _DeployHN" >HPC Pack をヘッド ノードにインストールする </h2 >  <p >最初に、HPC クラスターのヘッド ノードにする、Windows Server が実行されている内部設置型コンピューターに Microsoft HPC Pack をインストールします。 </p >  <ol >  <li > <p >ローカル管理者権限があるドメイン アカウントでヘッド ノードにログオンします。 </p > </li >  <li > <p >HPC Pack のインストール ファイルから Setup.exe を実行して、HPC Pack のインストール ウィザードを開始します。 </p > </li >  <li > <p > <strong >[HPC Pack 2012 R2 セットアップ] </strong > 画面で、 <strong >[新たにインストールするか、新機能を既存のインストールに追加する] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/install _hpc1.png" alt="HPC Pack 2012 Setup" / > </p > </li >  <li > <p > <strong >[Microsoft ソフトウェア使用許諾契約書] ページ </strong >で、 <strong >[次へ] </strong > をクリックします。 </p > </li >  <li > <p > <strong >[インストールの種類の選択] </strong > ページで、 <strong >[ヘッド ノードを作成することで新しい HPC クラスターを作成する] </strong > をクリックし、 <strong >[次へ] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/install _hpc2.png" alt="Select Installation Type" / > </p > </li >  <li > <p >ウィザードによってインストール前のテストがいくつか実行されます。すべてのテストが成功したら、 <strong >[インストール規則] </strong > ページで  <strong >[次へ] </strong > をクリックします。失敗した場合は、表示された情報を確認して、必要な変更を環境に加えます。テストをもう一度実行するか、必要に応じてインストール ウィザードをもう一度開始します。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/install _hpc3.png" alt="Installation Rules" / > </p > </li >  <li > <p > <strong >[HPC DB 構成] </strong > ページで、すべての HPC データベースについて  <strong >[ヘッド ノード] </strong > が選択されていることを確認し、 <strong >[次へ] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/install _hpc4.png" alt="DB Configuration" / > </p > </li >  <li > <p >ウィザードの残りのページは既定の設定のままにします。 <strong >[必要なコンポーネントのインストール] </strong > ページで、 <strong >[インストール] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/install _hpc6.png" alt="Install" / > </p > </li >  <li > <p >インストールが完了したら、 <strong >[HPC クラスター マネージャーを開始する] </strong > をオフにして、 <strong >[完了] </strong > をクリックします (ヘッド ノードの構成を完了するために HPC クラスター マネージャーを後の手順で開始します)。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/install _hpc7.png" alt="Finish" / > </p > </li >  </ol >  <h2 id="BKMK _Prepare" >Azure サブスクリプションを準備する </h2 >  <p > <a href="https://manage.windowsazure.com" >管理ポータル </a >を使用して、Azure サブスクリプションに関する次の手順を実行します。これは、後で、内部設置型ヘッド ノードから Azure ノードをデプロイするために必要です。 </p >  <ul >  <li > <p >管理証明書のアップロード (ヘッド ノードと Azure サービス間の接続をセキュリティ保護するために必要です) </p > </li >  <li > <p >Azure ノード (worker ロール インスタンス) を実行する Azure クラウド サービスの作成 </p > </li >  <li > <p >Azure ストレージ アカウントの作成 </p >  <blockquote >  <p >[WACOM.NOTE] Azure サブスクリプション ID も記録しておきます。これは後で必要になります。これは Azure の「 <a href="[https://account.windowsazure.com/Subscriptions" >Microsoft アカウントへのサインイン </a >」ページから見つけます。 </p >  </blockquote > </li >  </ul >  <h3 >既定の管理証明書のアップロード </h3 >  <p >HPC Pack ではヘッド ノードに自己署名証明書 (既定の Microsoft HPC Azure 管理証明書) がインストールされます。これを Azure 管理証明書としてアップロードできます。この証明書は、テスト目的および概念実証のデプロイ用に提供されます。 </p >  <ol >  <li > <p >ヘッド ノード コンピューターから <a href="https://manage.windowsazure.com" >管理ポータル </a >にサインインします。 </p > </li >  <li > <p > <strong >[設定] </strong >、 <strong >[管理証明書] </strong > の順にクリックします。 </p > </li >  <li > <p >コマンド バーで、 <strong >[アップロード] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/upload _cert1.png" alt="Certificate Settings" / > </p > </li >  <li > <p >ヘッド ノードで C:  Program Files  Microsoft HPC Pack 2012  Bin  hpccert.cer ファイルを参照し、 <strong >[チェック] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/install _hpc10.png" alt="Upload Certificate" / > </p > </li >  </ol >  <p >管理証明書のリストに  <strong >[既定の Microsoft HPC Azure 管理] </strong > が表示されます。 </p >  <h3 >Azure クラウド サービスの作成 </h3 >  <blockquote >  <p >[WACOM.NOTE] パフォーマンスを最高にするには、クラウド サービスとストレージ アカウントを同じリージョンに作成します。 </p >  </blockquote >  <ol >  <li > <p >コマンド バーの管理ポータルで、 <strong >[新規] </strong > をクリックします。 </p > </li >  <li > <p > <strong >[コンピューティング] </strong >、 <strong >[クラウド サービス] </strong >、 <strong >[簡易作成] </strong > の順にクリックします。 </p > </li >  <li > <p >クラウド サービスの URL を入力し、 <strong >[クラウド サービスを作成する] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/createservice1.png" alt="Create Service" / > </p > </li >  </ol >  <h3 >Azure ストレージ アカウントの作成 </h3 >  <ol >  <li > <p >コマンド バーの管理ポータルで、 <strong >[新規] </strong > をクリックします。 </p > </li >  <li > <p > <strong >[データ サービス] </strong >、 <strong >[ストレージ] </strong >、 <strong >[簡易作成] </strong > の順にクリックします。 </p > </li >  <li > <p >アカウントの URL を入力し、 <strong >[ストレージ アカウントの作成] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/createstorage1.png" alt="Create Storage" / > </p > </li >  </ol >  <h2 id="BKMK _ConfigHN" >ヘッド ノードを構成する </h2 >  <p >HPC クラスター マネージャーを使用して Azure ノードをデプロイし、ジョブを送信するには、最初にクラスターの構成手順をいくつか実行する必要があります。 </p >  <ol >  <li > <p >ヘッド ノードで、HPC クラスター マネージャーを開始します。 <strong >[ヘッド ノードの選択] </strong > ダイアログ ボックスが表示されたら、 <strong >[ローカル コンピューター] </strong > をクリックします。 <strong >[デプロイ作業一覧] </strong > が表示されます。 </p > </li >  <li > <p > <strong >[必須のデプロイ タスク] </strong > で、 <strong >[ネットワークの構成] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/config _hpc2.png" alt="Configure Network" / > </p > </li >  <li > <p >ネットワーク構成ウィザードで、 <strong >[企業ネットワークのみのすべてのノード] (トポロジ 5) </strong > を選択します。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/config _hpc3.png" alt="Topology 5" / > </p >  <blockquote >  <p >[WACOM.NOTE] これはデモンストレーションを目的とした最も単純な構成であり、ヘッド ノードには、Active Directory とインターネットに接続するための 1 つのネットワーク アダプターのみが必要です。このチュートリアルでは、追加のネットワークを必要とするクラスター シナリオは扱いません。 </p >  </blockquote > </li >  <li > <p >ウィザードの残りのページは既定の設定のままにして  <strong >[次へ] </strong > をクリックします。 <strong >[レビュー] </strong > タブで、 <strong >[構成] </strong > をクリックして、ネットワーク構成を完了します。 </p > </li >  <li > <p > <strong >[デプロイ作業一覧] </strong > で、 <strong >[インストール資格情報の提供] </strong > をクリックします。 </p > </li >  <li > <p > <strong >[インストール資格情報] </strong > ダイアログ ボックスで、HPC Pack のインストールに使用するドメイン アカウントの資格情報を入力します。 <strong >[OK] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/config _hpc6.png" alt="Installation Credentials" / > </p >  <blockquote >  <p >[WACOM.NOTE] HPC Pack サービスでは、インストール資格情報のみを使用して、内部設置型コンピューティング ノードをデプロイします。 </p >  </blockquote > </li >  <li > <p > <strong >[デプロイ作業一覧] </strong > で、 <strong >[新しいノードの名前付けの構成] </strong > をクリックします。 </p > </li >  <li > <p > <strong >[ノードの名前付け系列の指定] </strong > ダイアログ ボックスで、既定の命名系のままにして、 <strong >[OK] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/config _hpc8.png" alt="Node Naming" / > </p >  <blockquote >  <p >[WACOM.NOTE] この命名系では、ドメインに参加しているコンピューティング ノードの名前のみが生成されます。Azure ノードは自動的に命名されます。 </p >  </blockquote > </li >  <li > <p > <strong >[デプロイ作業一覧] </strong > で、 <strong >[ノード テンプレートの作成] </strong > をクリックします。ノード テンプレートを使用して、Azure ノードをクラスターに追加します。 </p > </li >  <li > <p >ノード テンプレートの作成ウィザードで、次の操作を行います。 </p >  <p >a.  <strong >[ノード テンプレートの種類の選択] </strong > ページで、 <strong >[Azure ノード テンプレート] </strong > をクリックし、 <strong >[次へ] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/config _hpc10.png" alt="Node Template" / > </p >  <p >b.  <strong >[次へ] </strong > をクリックし、既定のテンプレート名をそのまま使用します。 </p >  <p >c.  <strong >[サブスクリプション情報の入力] </strong > ページで、Azure サブスクリプション ID (Azure「 <a href="[https://account.windowsazure.com/Subscriptions" >Microsoft アカウントへのサインイン </a >」ページで参照できます) を入力します。 <strong >[管理証明書] </strong > で、 <strong >[参照] </strong > をクリックしてから  <strong >[既定の Microsoft HPC Azure 管理] </strong > を選択します。その後、 <strong >[次へ] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/config _hpc12.png" alt="Node Template" / > </p >  <p >d.  <strong >[サービス情報の入力] </strong > ページで、前の手順で作成したクラウド サービスとストレージ アカウントを選択します。 <strong >[次へ] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/config _hpc13.png" alt="Node Template" / > </p >  <p >e. ウィザードの残りのページは既定の設定のままにして  <strong >[次へ] </strong > をクリックします。 <strong >[レビュー] </strong > タブで、 <strong >[作成] </strong > をクリックして、ノード テンプレートを作成します。 </p >  <blockquote >  <p >[WACOM.NOTE] 既定では、Azure ノード テンプレートに、ノードを手動で開始 (プロビジョニング) および停止するための設定が含まれています。Azure ノードを自動的に開始および停止するスケジュールを構成することもできます。 </p >  </blockquote > </li >  </ol >  <h2 id=" #BKMK _worker" >クラスターに Azure ノードを追加する </h2 >  <p >ここでは、ノード テンプレートを使用して、Azure ノードをクラスターに追加します。ノードをクラスターに追加すると、ノードの構成情報が保存されるため、ノードをいつでもクラウド サービスのロール インスタンスとして開始 (プロビジョニング) することができます。Azure ノードについてサブスクリプションに課金されるのは、クラウド サービスでロール インスタンスを実行した後だけです。 </p >  <p >このチュートリアルでは、2 つの小規模ノードを追加します。 </p >  <ol >  <li > <p >HPC クラスター マネージャーの  <strong >[ノード管理] </strong > で、 <strong >[アクション] </strong > ウィンドウの  <strong >[ノードの追加] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/add _node1.png" alt="Add Node" / > </p > </li >  <li > <p >ノードの追加ウィザードの  <strong >[デプロイ方法の選択] </strong > ページで、 <strong >[Azure ノードの追加] </strong > をクリックして、 <strong >[次へ] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/add _node1 _1.png" alt="Add Azure Node" / > </p > </li >  <li > <p > <strong >[新しいノードの指定] </strong > ページで、前に作成した Azure ノード テンプレート (「 <strong >既定の AzureNode テンプレート </strong >」という名前が付いています) を選択します。ノードの数に  <strong >[2] </strong > を、ノードのサイズに  <strong >[S] </strong > を指定し、 <strong >[次へ] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/add _node2.png" alt="Specify Nodes" / > </p >  <p >使用できる仮想マシンのサイズの詳細については、「 <a href="http://msdn.microsoft.com/library/windowsazure/dn197896.aspx" >Azure の仮想マシンおよびクラウド サービスのサイズ </a >」を参照してください。 </p > </li >  <li > <p > <strong >[ノード追加ウィザードの完了] </strong > ページで、 <strong >[完了] </strong > をクリックします。 </p >  <p >HPC クラスター マネージャーに、 <strong >AzureCN-0001 </strong > と、 <strong >AzureCN-0002 </strong > という名前の 2 つの Azure ノードが表示されます。どちらも  <strong >[未展開] </strong > 状態です。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/add _node3.png" alt="Added Nodes" / > </p > </li >  </ol >  <h2 id="BKMK _Start" >Azure ノードを開始する </h2 >  <p >Azure のクラスター リソースを使用する場合、HPC クラスター マネージャーを使用して、Azure ノードを開始 (プロビジョニング) してオンラインにします。 </p >  <ol >  <li > <p >HPC クラスター マネージャーの  <strong >[ノード管理] </strong > で、ノードの一方または両方をクリックし、 <strong >[アクション] </strong > ウィンドウの  <strong >[ノードの追加] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/add _node4.png" alt="Start Nodes" / > </p > </li >  <li > <p > <strong >[Azure ノードの開始] </strong > ダイアログ ボックスで、 <strong >[開始] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/add _node5.png" alt="Start Nodes" / > </p >  <p >ノードが  <strong >[プロビジョニング] </strong > 状態に移行します。プロビジョニング ログを表示して、プロビジョニング進捗状況を確認できます。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/add _node6.png" alt="Provision Nodes" / > </p > </li >  <li > <p >数分後、Azure ノードのプロビジョニングが完了し、ノードが  <strong >[オフライン] </strong > 状態になります。この状態では、ロール インスタンスは実行中ですが、クラスター ジョブは受け入れられません。 </p > </li >  <li > <p >ロール インスタンスが実行中であることを確認するために、 <a href="https://manage.windowsazure.com" >管理ポータル </a >で、 <strong >[クラウド サービス] </strong >、クラウド サービスの名前、 <strong >[インスタンス] </strong > を順にクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/view _instances1.png" alt="Running Instances" / > </p >  <p >2 つの worker ロール インスタンスがサービスで実行中であることがわかります。HPC Pack では、ヘッド ノードと Azure 間の通信を処理するために、2 つの  <strong >HpcProxy </strong > インスタンス (サイズは M) も自動的にデプロイされます。 </p > </li >  <li > <p >Azure ノードをオンラインにしてクラスター ジョブを実行するには、ノードを選択し右クリックして、 <strong >[オンラインにする] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/add _node7.png" alt="Offline Nodes" / > </p >  <p >HPC クラスター マネージャーにノードが  <strong >[オンライン] </strong > 状態であることが表示されます。 </p > </li >  </ol >  <h2 id="BKMK _RunCommand" >クラスター全体にコマンドを実行する </h2 >  <p >HPC Pack の  <strong >clusrun </strong > コマンドを使用すると、1 つ以上のクラスター ノードでコマンドまたはアプリケーションを実行できます。簡単な例として、 <strong >clusrun </strong > を使用して、Azure ノードの IP 構成を取得する手順を紹介します。 </p >  <ol >  <li > <p >ヘッド ノードで、コマンド プロンプトを開きます。 </p > </li >  <li > <p >次のコマンドを入力します。 </p >  <p > <code data-inline="1" >clusrun /nodes:azurecn * ipconfig </code > </p > </li >  <li > <p >次のような出力が表示されます。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/clusrun1.png" alt="Clusrun" / > </p > </li >  </ol >  <h2 id="BKMK _RunJob" >テスト ジョブを実行する </h2 >  <p >ハイブリッド クラスター上で実行するテスト ジョブを送信できます。この例は単純な "パラメーター スイープ" ジョブ (並列コンピューティングの一種) です。 <strong >set /a </strong > コマンドを使用して、自身に整数を追加するサブタスクを実行します。クラスター内のすべてのノードが、1 ～ 100 の整数に関するサブタスクを完了します。 </p >  <ol >  <li > <p >HPC クラスター マネージャーの  <strong >[ジョブ管理] </strong > で、 <strong >[アクション] </strong > ウィンドウの  <strong >[新しいパラメーター スイープ ジョブ] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/test _job1.png" alt="New Job" / > </p > </li >  <li > <p > <strong >[新しいパラメーター スイープ ジョブ] </strong > ダイアログ ボックスの  <strong >[コマンド ライン] </strong > で、「 <code data-inline="1" >set /a  *+ * </code >」と入力します (表示されている既定のコマンド ラインが上書きされます)。残りの設定については既定値のままにして、 <strong >[送信] </strong > をクリックしてジョブを送信します。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/param _sweep1.png" alt="Parametric Sweep" / > </p > </li >  <li > <p >ジョブが完了したら、 <strong >[マイ スイープ タスク] </strong > ジョブをダブルクリックします。 </p > </li >  <li > <p > <strong >[タスクの表示] </strong > をクリックして、サブタスクの計算された出力を表示します。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/view _job361.png" alt="Task Results" / > </p > </li >  <li > <p >サブタスクの計算を実行したノードを表示するには、 <strong >[割り当て済みのノード] </strong > をクリックします (クラスターによっては異なるノード名が表示されます)。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/view _job362.png" alt="Task Results" / > </p > </li >  </ol >  <h2 id="BKMK _stop" >Azure ノードを停止する </h2 >  <p >クラスターを試した後は、HPC クラスター マネージャーを使用して Azure ノードを停止し、アカウントへの不必要な課金を避けることができます。ノードを停止するとクラウド サービスが停止し、Azure ロール インスタンスが削除されます。 </p >  <ol >  <li > <p >HPC クラスター マネージャーの  <strong >[ノード管理] </strong > で、両方の Azure ノードを選択します。 <strong >[アクション] </strong > ウィンドウで、 <strong >[停止] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/stop _node1.png" alt="Stop Nodes" / > </p > </li >  <li > <p > <strong >[Azure ノードの停止] </strong > ダイアログ ボックスで、 <strong >[停止] </strong > をクリックします。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/stop _node2.png" alt="Stop Nodes" / > </p > </li >  <li > <p >ノードが  <strong >[停止中] </strong > 状態に移行します。数分後、HPC クラスター マネージャーに、ノードが  <strong >[未展開] </strong > 状態であることが表示されます。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/stop _node4.png" alt="Not Deployed Nodes" / > </p > </li >  <li > <p >ロール インスタンスが Azure で実行されていないことを確認するために、 <a href="https://manage.windowsazure.com" >管理ポータル </a >で、 <strong >[クラウド サービス] </strong >、クラウド サービスの名前、 <strong >[インスタンス] </strong > を順にクリックします。運用環境にはインスタンスは展開されません。 </p >  <p > <img src="./media/set-up-hybrid-cluster-microsoft-hpc-pack-2012-sp1/view _instances2.png" alt="No Instances" / > </p >  <p >これでチュートリアルは完了です。 </p > </li >  </ol >  <h2 id="" >関連リソース </h2 >  <ul >  <li > <a href="http://go.microsoft.com/fwlink/p/?LinkID=263697" >Microsoft HPC Pack 2012 R2 and HPC Pack 2012 (Microsoft HPC Pack 2012 R2 および HPC Pack 2012) </a > </li >  <li > <a href="http://go.microsoft.com/fwlink/p/?LinkID=200493" >Microsoft HPC Pack を使用した Azure へのバースト </a > </li >  <li > <a href="http://go.microsoft.com/fwlink/p/?LinkId=325317" >Deploying Applications to Azure Nodes in a Windows HPC Cluster (Windows HPC クラスターで Azure ノードへアプリケーションをデプロイする) </a > </li >  <li > <a href="http://go.microsoft.com/fwlink/p/?linkid=330375" >Azure VM の Microsoft HPC Pack </a > </li >  </ul >
