<properties
   pageTitle="ロジック アプリ障害の診断 | Microsoft Azure"
   description="ロジック アプリのエラー発生箇所を理解するための一般的な手法"
   services="app-service\logic"
   documentationCenter=".net,nodejs,java"
   authors="jeffhollan"
   manager="erikre"
   editor=""/>

<tags
   ms.service="logic-apps"
   ms.devlang="multiple"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="integration"
   ms.date="05/18/2016"
   ms.author="jehollan"/>

# ロジック アプリの障害の診断

Azure App Service のロジック アプリの機能でエラーや障害が発生した場合、障害の発生源を確認できる方法がいくつかあります。

## Azure ポータル ツール

Azure ポータルには、各段階で各ロジック アプリを診断するためのツールがあります。

### トリガー履歴

各ロジック アプリには少なくとも 1 つのトリガーがあります。アプリが起動されない場合は、まずトリガー履歴で詳細を確認します。トリガー履歴にはロジック アプリのメイン ブレードからアクセスできます。

![トリガー履歴の検索][1]

トリガー履歴では、ロジック アプリで行われたトリガーの試行がすべて一覧表示されます。各トリガー試行をクリックして、次のレベルの詳細を確認できます (具体的には、トリガー試行が生成された入力または出力が表示されます)。失敗トリガーが見つかったら、そのトリガー試行をクリックし、**出力**リンクを表示してください。エラー メッセージが生成された原因 (無効な FTP 資格情報など) を確認できることがあります。

表示される状態:

* **スキップ済み**。データをチェックするエンドポイントをポーリングし、使用可能なデータがないという応答を受信しました。
* **成功**。データを使用できるという応答を受信しました。この応答は、手動トリガー、繰り返しトリガー、ポーリング トリガーからである可能性があります。多くの場合、これには **Fired (起動)** の状態が付随しますが、条件やコード ビューの splitOn コマンドが十分ではない場合、付随しません。
* **失敗**。エラーが発生しました。

#### トリガーを手動で開始する

メイン ブレードの **[トリガーの選択]** ボタンをクリックすると、(次回の試行を待たずに) 利用できるトリガーをすぐに確認できます。たとえば、Dropbox トリガーでこのリンクをクリックすると、新しいファイルに関するポーリングを Dropbox に実行するワークフローがすぐに開始されます。

### 実行履歴

起動され、実行されたすべてのトリガーが表示されます。実行の情報には、メイン ブレードからアクセスできます。メイン ブレードには、ワークフローの実行中に何が発生したかについて確認するのに役立つ、多くの情報が含まれます。

![実行履歴の検索][2]

実行では、次の状態のいずれかが表示されます。

* **成功**。すべてのアクションが成功したか、失敗した場合はワークフローの後続のアクションによって処理済みです。つまり、失敗したアクションより後に実行されるように設定されたアクションによって処理されています。
* **失敗**。少なくとも 1 つのアクションに失敗し、その失敗がワークフローの後続のアクションによって処理されていません。
* **取り消し済み**。ワークフローは実行されていましたが、キャンセル要求を受け取りました。
* **実行中**。ワークフローは現在実行中です。これは、現在スロットル中のワークフローに対して、または現行の App Service プランによって発生することがあります。詳細については、[価格設定ページ](https://azure.microsoft.com/pricing/details/app-service/plans/)のアクション制限を参照してください。診断の構成 (実行履歴の下にあるグラフ) でも、現在発生中のスロットル イベントに関する情報が提供されます。

実行履歴を調べるときに、詳細を確認できます。

#### トリガー出力

トリガー 出力には、トリガーから受け取ったデータが表示されます。すべてのプロパティが予期したとおりに返されるかどうかを確認できます。

>[AZURE.NOTE] 不明なコンテンツが表示される場合に、ロジック アプリ機能による[さまざまなコンテンツ タイプの処理](app-service-logic-content-type.md)方法を理解するために役立つことがあります。

![トリガーの出力例][3]

#### アクションの入力と出力

アクションが受け取った入力と出力の詳細にアクセスできます。これは出力の大きさと形を理解するために役立ちます。エラー メッセージが生成されていれば、それも確認できます。

![アクションの入力と出力][4]

## ワークフロー ランタイムのデバッグ

入力、出力、実行のトリガーを監視するだけでなく、デバッグに役立つ手順をワークフローに追加すると便利な場合があります。ワークフローに手順として追加できる強力なツールの 1 つが [RequestBin](http://requestb.in) です。RequestBin を使用して、HTTP 要求の大きさ、形、書式を正確に特定する目的で、HTTP 要求インスペクターを設定できます。新しい RequestBin を作成し、URL をロジック アプリの HTTP POST アクションに貼り付けることができます。本文にはあらゆるコンテンツ (式や別の手順の出力など) を指定し、テストできます。ロジック アプリの実行後、RequestBin を更新し、ロジック アプリ エンジンから生成されたとき、要求がどのように書式設定されたかを確認できます。




<!-- image references -->
[1]: ./media/app-service-logic-diagnosing-failures/triggerHistory.PNG
[2]: ./media/app-service-logic-diagnosing-failures/runHistory.PNG
[3]: ./media/app-service-logic-diagnosing-failures/triggerOutputsLink.PNG
[4]: ./media/app-service-logic-diagnosing-failures/ActionOutputs.PNG

<!---HONumber=AcomDC_0727_2016-->