---
title: Azure Cosmos DB を使用したデータのグローバル分散 | Microsoft Docs
description: グローバル分散型のマルチモデル データベース サービスである Azure Cosmos DB のグローバル データベースを使用した、地球規模の geo レプリケーション、マルチマスター、フェールオーバー、データ復旧について学習します。
services: cosmos-db
author: SnehaGunda
manager: kfile
ms.service: cosmos-db
ms.devlang: na
ms.topic: conceptual
ms.date: 10/26/2018
ms.author: mjbrown
ms.openlocfilehash: 4aa5e4ff46eeaa4e8d8c723f626dd1f1193fd12a
ms.sourcegitcommit: ba4570d778187a975645a45920d1d631139ac36e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/08/2018
ms.locfileid: "51281610"
---
# <a name="global-data-distribution-with-azure-cosmos-db"></a>Azure Cosmos DB でのグローバルなデータの分散

今日のアプリケーションの多くは、地球規模で既に実行されています。 それらのアプリケーションは常に実行されており、世界中のユーザーがアクセスできます。 高いパフォーマンスと可用性を確保しつつ、こうしたアプリケーションで使用されるグローバルに分散されたデータを管理することは、難しい問題です。 Azure Cosmos DB は、高パフォーマンスと高可用性を提供するように設計された、グローバル分散データベース サービスです。 そのため、Azure Cosmos DB はこれらリアルタイム アプリケーションに最適なソリューションと言えます。

Cosmos DB は、基礎となる Azure サービスであり、既定ですべての [Azure リージョン](https://azure.microsoft.com/global-infrastructure/regions/)で利用できるようになっています。 Microsoft は世界中の 54 を超えるリージョンで Azure データ センターを運営しており、お客様のニーズの高まりに応えるために絶えず拡大を続けています。 お客様は、Cosmos DB アカウントを作成する際に、デプロイ先となるリージョンを決定します。 Cosmos DB サービスは 24 時間 365 日、Microsoft が運営しているため、お客様は自社のアプリケーションに専念することができます。

お客様は、そのデータベースを構成してグローバルに分散し、50 を超える Azure リージョンのどこからでも利用できるようにできます。 待機時間を減らすには、データをユーザーの所在地の近くに配置する必要があります。 どのリージョンを選択するかは、アプリケーションのグローバル リーチと、ユーザーの所在地によって決まります。 Cosmos DB では、アカウント内のデータが、構成済みの全リージョンに対して透過的にレプリケートされます。 Cosmos データベースとコンテナーの単一のシステム イメージが利用できるようになっているため、アプリケーションからは、読み取りと書き込みをローカルに実行することができます。 Cosmos DB に関してご利用のアカウントに関連付けられるリージョンは、いつでも追加したり削除したりすることができます。 リージョンの追加や削除のために、アプリケーションを一時停止したり再デプロイする必要はありません。 マルチホーム機能により、高い可用性が常に維持されます。

## <a name="key-benefits-of-global-distribution"></a>グローバル分散の主な利点

**グローバルなアクティブ/アクティブ アプリの構築**: マルチマスター機能により、すべてのリージョンが (読み取り可能であるだけでなく) 書き込みリージョンとなります。 マルチマスター機能では、無制限のエラスティック書き込みスケーラビリティが保証され、読み取りと書き込みの可用性は全世界で 99.999% 保証されます。また、読み取りと書き込みについては、99 パーセンタイルで 10 ミリ秒以下の処理性能が保証されます。  

Azure Cosmos DB のマルチホーム API を使用すると、アプリケーションは最も近いリージョンを把握し、そのリージョンに要求を送信できます。 構成には一切変更を加えることなく、最も近いリージョンが特定されます。 Cosmos DB アカウントのリージョンを追加したり削除したりする際に、アプリケーションを再デプロイする必要はなく、高可用性が維持されます。

**応答性に優れたアプリを構築できる**: データベース用に選択したすべてのリージョンに対し、10 ミリ秒未満の待ち時間でほぼリアルタイムに読み取りと書き込みを実行するアプリケーションを容易に設計できます。  Azure Cosmos DB は、Cosmos アカウントに選択された一貫性レベルを保証する形で、リージョン間のデータ レプリケーションを内部的に処理します。

マルチリージョン (ローカル) 書き込みを実行する機能に伴って得られるパフォーマンス向上は、多くのアプリケーションに恩恵をもたらします。 厳密な一貫性が要求される一部のアプリケーションでは、すべての書き込みを 1 つのリージョンに集中させるのが理想的です。 これらのアプリケーションをサポートするため、Cosmos DB は、単一リージョンと複数リージョンの両方の構成をサポートしています。

**可用性に優れたアプリを構築できる**: 複数のリージョンでデータベースを実行することによってデータベースの可用性が向上します。 あるリージョンが利用できない状態になった場合、他のリージョンが自動的にアプリケーションの要求を処理します。 複数リージョンのデータベースを対象にした読み取りと書き込みに関して、Azure Cosmos DB は 99.999% の可用性を備えています。

**リージョンでの障害発生時におけるビジネス継続性**: Azure Cosmos DB は、リージョンでの障害発生時における[自動フェールオーバー](how-to-manage-database-account.md#enable-automatic-failover-for-your-cosmos-account)をサポートします。 さらに、リージョンでの障害発生時にも、Cosmos DB はその待ち時間、可用性、一貫性、スループットの SLA を維持し続けます。 アプリケーション全体で高い可用性を確保するために、Azure Cosmos DB には、リージョンでの障害をシミュレートするための手動フェールオーバー API が用意されています。 この API を使用することで、日常的なビジネス継続性の訓練を実施することができます。

**読み取りと書き込みのグローバルなスケーラビリティ**: マルチマスター機能により、読み取りと書き込みのスループットを世界規模でエラスティックにスケーリングすることができます。 Azure Cosmos DB のデータベースまたはコンテナーに関してアプリケーションで構成したスループットがすべてのリージョン全体で横断的に実現され、[金銭的な補償を伴う SLA](https://aka.ms/acdbsla) によって保護されることがマルチマスター機能によって保証されます。

**明確に定義された複数の一貫性モデル**: Azure Cosmos DB のレプリケーション プロトコルは、明確に定義された、実際的かつ直感的な 5 つの一貫性モデルを提供するように設計されています。 各一貫性モデルには、一貫性とパフォーマンスのトレードオフがあります。 お客様は、これらの一貫性モデルを通じて、グローバル分散アプリケーションを容易に構築することができます。

## <a id="Next Steps"></a>次のステップ

以下の記事でグローバル分散の詳細についてご覧ください。

* [グローバル分散 - 内部のしくみ](global-dist-under-the-hood.md)
* [マルチホームに関するクライアントの構成方法](how-to-manage-database-account.md#configure-clients-for-multi-homing)
* [Cosmos アカウントのリージョンを追加/削除する方法](how-to-manage-database-account.md#addremove-regions-from-your-database-account)
* [SQL API アカウント用のカスタム競合解決ポリシーを作成する方法](how-to-manage-conflicts.md#create-a-custom-conflict-resolution-policy)