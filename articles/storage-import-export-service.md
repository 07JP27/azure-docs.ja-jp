<properties linkid="manage-services-import-export" urlDisplayName="Azure インポート/エクスポート サービス" pageTitle="インポート/エクスポート サービスを使用した BLOB ストレージへのデータの転送 | Microsoft Azure" metaKeywords="" description="BLOB ストレージにデータを転送するために、Azure の管理ポータルでインポート ジョブとエクスポート ジョブを作成する方法について説明します。" metaCanonical="" disqusComments="1" umbracoNaviHide="0" title="Azure インポート/エクスポート サービスを使用した BLOB ストレージへのデータの転送" authors="tamram" />


# Azure インポート/エクスポート サービスを使用した BLOB ストレージへのデータの転送

ネットワーク経由のアップロードが実現不可能であるか、非常にコストがかかる場合には、Azure インポート/エクスポート サービスを使用して、ファイルの大量のデータを Azure BLOB ストレージに転送できます。また、インポート/エクスポート サービスを使用して、BLOB ストレージにある大量のデータを内部設置型インストールに、タイムリーでコスト効率の高い方法で転送することもできます。

ファイルの大量のデータを BLOB ストレージに転送するために、そのデータを含む 1 台以上のハード ドライブを Azure データ センターに発送することができます。このデータ センターでデータがストレージ アカウントにアップロードされます。同様に、BLOB ストレージからデータをエクスポートするために、空のハード ドライブを Azure データ センターに発送することができます。このデータ センターで、ストレージ アカウントの BLOB データがハード ドライブにコピーされ、返送されます。データを含むドライブを発送する前に、ドライブにあるデータを暗号化してください。インポート/エクスポート サービスで、返送するデータをエクスポートするときにも、データは発送前に暗号化されます。

インポートおよびエクスポート ジョブは、2 つの方法のいずれかで作成し、管理できます。

- Azure の管理ポータルを使用する。
- サービスへの REST インターフェイスを使用する。

この記事では、インポート/エクスポート サービスの概要を示し、管理ポータルを使用してインポート/エクスポート サービスを操作する方法を説明します。REST API の詳細については、「[インポート/エクスポート サービス REST API リファレンス](http://go.microsoft.com/fwlink/?LinkID=329099)」を参照してください。

## インポート/エクスポート サービスの概要##

BLOB ストレージとの間でインポートまたはエクスポートの処理を開始するには、最初に "*ジョブ*" を作成します。ジョブは、"*インポート ジョブ*" または "*エクスポート ジョブ*" です。

- 内部設置型のデータを、Azure のストレージ アカウントの BLOB に転送する場合は、インポート ジョブを作成します。
- ストレージ アカウントに現在、BLOB として格納されているデータを、返送されるハード ドライブに転送する場合は、エクスポート ジョブを作成します。

ジョブを作成するときは、1 台以上のハード ドライブを Azure データ センターに発送することをインポート/エクスポート サービスに通知します。インポート ジョブの場合は、ファイル データを含むハード ドライブを発送します。エクスポート ジョブの場合は、空のハード ドライブを発送します。

インポート ジョブのために発送するドライブを準備するには、**WAImportExport** ツールを実行します。これによって、ドライブ上のデータが BitLocker で暗号化され、後述のドライブのジャーナル ファイルが作成されるため、ドライブへのデータのコピーが容易になります。

<div class="dev-callout">
<strong>注</strong>
<p>ドライブ上のデータは、BitLocker ドライブ暗号化で暗号化する必要があります。こうすると、移送中にデータが保護されます。エクスポート ジョブの場合は、ドライブを返送する前にインポート/エクスポート サービスでデータが暗号化されます。</p>
</div>

インポート ジョブまたはエクスポート ジョブの作成時には、*ドライブ ID* も必要になります。これは、ドライブの製造元によって特定のドライブに割り当てられたシリアル番号です。ドライブ ID は、ドライブの外側に表示されています。

<h3>要件および適用範囲</h3>

1.	**サブスクリプションおよびストレージ アカウント:** 既存の Azure サブスクリプションと、インポート/エクスポート サービスを使用するための 1 つ以上のストレージ アカウントを持っている必要があります。各ジョブを使用できるのは、1 つのストレージ アカウントとの間でのデータ転送だけです。言い換えると、ジョブは、複数のストレージ アカウントに対して使用できません。新しいストレージ アカウントの作成については、「[ストレージ アカウントの作成方法](http://www.windowsazure.com/ja-jp/manage/services/storage/how-to-create-a-storage-account/)」を参照してください。
2.	**ハード ドライブ:** インポート/エクスポート サービスで使用できるのは、3.5 インチ SATA II ハード ドライブだけです。4 TB を超えるハード ドライブは、プレビュー リリースではサポートされていません。インポート ジョブの場合は、ドライブの最初のデータ ボリュームだけが処理されます。データ ボリュームは NTFS でフォーマットされている必要があります。大部分のコンピューターには、SATA II ディスクを SATA II USB アダプターで外部接続できません。
3.	**BitLocker 暗号化:** ハード ドライブに格納されたデータはすべて、数字のパスワードで保護された暗号化キーを使って、BitLocker で暗号化する必要があります。
4.	**BLOB ストレージ ターゲット:** データは、ブロック blob およびページ blob との間で、アップロードまたはダウンロードが可能です。
5.	**ジョブの数:** お客様は、サブスクリプションごとに 20 個までのアクティブなジョブを使用できます。
6.	**ジョブの最大サイズ:** ジョブのサイズは、使用するハード ドライブの容量と、ストレージ アカウントに格納できるデータの最大量によって決まります。各ジョブは、10 台までのハード ドライブを含むことができます。

## 管理ポータルでのインポート ジョブの作成##

インポート ジョブを作成し、ストレージ アカウントにインポートするデータを含む 1 台以上のドライブをデータ センターに発送することをインポート/エクスポート サービスに通知します。

<h3>ドライブの準備</h3>

インポート ジョブを作成する前に、[WAImportExport ツール](http://go.microsoft.com/fwlink/?LinkID=301900&clcid=0x409)でドライブを準備します。WAImportExport ツールの使用に関する詳細については、「[WAImportExport ツール リファレンス](http://go.microsoft.com/fwlink/?LinkId=329032)」を参照してください。
  
ドライブを準備するには、次の 3 つの手順を実行します。

1.	インポートするデータと必要なドライブの数を決定します。
2.	Azure BLOB サービスで、データのインポート先の BLOB を特定します。
3.	WAImportExport ツールを使用して、1 台以上のハード ドライブにデータをコピーします。

準備中に WAImportExport ツールで、各ドライブの*ドライブのジャーナル* ファイルが生成されます。ドライブのジャーナル ファイルは、ドライブ自体ではなく、ローカル コンピューターに格納されます。インポート ジョブの作成時には、ジャーナル ファイルをアップロードします。ドライブのジャーナル ファイルには、ドライブ ID と BitLocker キーのほかに、ドライブに関するその他の情報も含まれます。

<h3>インポート ジョブの作成</h3>

1.	ドライブの準備ができたら、管理ポータルのストレージ アカウントに移動し、	ダッシュボードを表示します。<strong>[概要]</strong> の下で <strong>[インポート ジョブの作成]</strong> をクリックします。
 
2.	ウィザードのステップ 1. で、ドライブの準備ができており、ドライブのジャーナル ファイルが使用可能であることを	示します。
 
3.	ステップ 2. で、このインポート ジョブの担当者の連絡先情報を入力します。インポート ジョブの	詳細なログ データを保存する場合は、<strong>['waimportexport' コンテナーに詳細ログを保存する]	</strong> オプションをオンにします。

4.	ステップ 3. で、ドライブの準備中に取得したドライブのジャーナル ファイルをアップロードします。準備した	ドライブごとに 1 つのファイルをアップロードする必要があります。

	![インポート ジョブの作成 - ステップ 3][import-job-03]

5.	ステップ 4. で、インポート ジョブのわかりやすい名前を入力します。名前に含めることができるのは、	アルファベットの小文字、数字、ハイフン、アンダースコアだけです。また、先頭の文字はアルファベットにします。スペースを含めることはできません。	ここで入力した名前を使って、進行中および完了後にジョブを追跡します。

	データ センターのリージョンに、パッケージの発送先となるデータ センターが示されます。詳細については、FAQ を参照してください。

	既に FedEx の問い合わせ番号を持っている場合は、<strong>[問い合わせ番号を今すぐ入力します]</strong> を選択し、次のステップに進みます。まだ問い合わせ番号がない場合は、<strong>[パッケージの発送後、このインポート ジョブの発送情報を指定します]</strong> を選択してから、インポート処理を完了します。

6. 	既に問い合わせ番号を持っている場合は、手順 5 で問い合わせ番号を入力し、確認します。

## 管理ポータルでのエクスポート ジョブの作成##

エクスポート ジョブを作成し、ストレージ アカウントからデータをエクスポートした後に返送してもらう 1 台以上の空のドライブをデータ センターに発送することをインポート/エクスポート サービスに通知します。

1. 	エクスポート ジョブを作成するには、管理ポータルのストレージ アカウントに移動し、ダッシュボードを表示します。	<strong>[概要]</strong> の下で <strong>[エクスポート ジョブの作成]</strong> をクリックし、ウィザードの指示に従って	続行します。

2. 	ステップ 2. で、このエクスポート ジョブの担当者の連絡先情報を入力します。エクスポート ジョブの	詳細なログ データを保存する場合は、<strong>['waimportexport' コンテナーに詳細ログを保存する]	</strong> オプションをオンにします。

3.	ステップ 3. で、ストレージ アカウントから空のドライブにエクスポートする BLOB データを	指定します。ストレージ アカウントの BLOB データをすべてエクスポートことも、エクスポートする BLOB データ	または	そのセットを指定することもできます。

	![エクスポート ジョブの作成 - ステップ 3][export-job-03]

	- エクスポートする BLOB を指定するには、**[等しい]** セレクターを使用し、コンテナー名で始まる、BLOB への相対パスを指定します。ルート コンテナーを指定するには、"*$root*" を使用します。
	- プレフィックスで始まるすべての BLOB を指定するには、**[指定値で始まる]** セレクターを使用し、スラッシュ "/" で始まるプレフィックスを指定します。プレフィックスには、コンテナー名のプレフィックス、コンテナー名全体、またはコンテナー名全体の後に BLOB 名のプレフィックスを付けた名前を指定できます。

	次の表は、有効な BLOB のパスの例を示します。

	<table border="1" cellspacing="0" cellpadding="5" style="border: 1px solid #000000;">
		<tbody>
			<tr>
				<td><strong>セレクター</strong></td>
				<td><strong>BLOB パス</strong></td>
				<td><strong>説明</strong></td>
			</tr>
			<tr>
				<td>指定値で始まる</td>
				<td>/</td>
				<td>ストレージ アカウントのすべての BLOB をエクスポートする</td>
			</tr>
			<tr>
				<td>指定値で始まる</td>
				<td>/$root/</td>
				<td>ルート コンテナー内のすべての BLOB をエクスポートする</td>
			</tr>
			<tr>
				<td>指定値で始まる</td>
				<td>/book</td>
				<td>プレフィックス "<strong>book</strong>" で始まるすべてのコンテナー内のすべての BLOB をエクスポートする</td>
			</tr>
			<tr>
				<td>指定値で始まる</td>
				<td>/music/</td>
				<td>コンテナー "<strong>music</strong>" 内のすべての BLOB をエクスポートする</td>
			</tr>
			<tr>
				<td>指定値で始まる</td>
				<td>/music/love</td>
				<td>コンテナー "<strong>music</strong>" 内の、プレフィックス "<strong>love</strong>" で始まるすべての BLOB をエクスポートする</td>
			</tr>
			<tr>
				<td>等しい</td>
				<td>$root/logo.bmp</td>
				<td>ルート コンテナー内の BLOB "<strong>logo.bmp</strong>" をエクスポートする</td>
			</tr>
			<tr>
				<td>等しい</td>
				<td>videos/story.mp4</td>
				<td>コンテナー "<strong>videos</strong>" 内の BLOB "<strong>story.mp4</strong>" をエクスポートする</td>
			</tr>
		</tbody>
	</table>


4.	ステップ 4. で、エクスポート ジョブのわかりやすい名前を入力します。名前に含めることができるのは、	アルファベットの小文字、数字、ハイフン、アンダースコアだけです。また、先頭の文字はアルファベットにします。スペースを含めることはできません。

	データ センターのリージョンに、パッケージの発送先となるデータ センターが示されます。詳細については、FAQ を参照してください。

	既に FedEx の問い合わせ番号を持っている場合は、<strong>[問い合わせ番号を今すぐ入力します]</strong> を選択し、次のステップに進みます。まだ問い合わせ番号がない場合は、<strong>[パッケージの発送後、このエクスポート ジョブの発送情報を指定します]</strong> を選択してから、インポート処理を完了します。

5. ステップ 5. で、問い合わせ番号を入力し、確認します。


## 管理ポータルでのジョブの状態の追跡##

管理ポータルから、インポート ジョブまたはエクスポート ジョブの状態を追跡できます。管理ポータルで自分のストレージ アカウントに移動し、**[インポート/エクスポート]** タブをクリックします。ジョブの一覧がページに表示されます。この一覧は、ジョブの状態、ジョブ名、ジョブの種類、または問い合わせ番号でフィルター処理できます。

次の表では、それぞれのジョブの状態の意味を説明しています。

<table border="1" cellspacing="0" cellpadding="5" style="border: 1px solid #000000;">
	<tbody>
		<tr>
			<td><strong>ジョブの状態</strong></td>
			<td><strong>説明</strong></td>
		</tr>
		<tr>
			<td>作成</td>
			<td>ジョブが作成されましたが、発送情報が入力されていません。</td>
		</tr>
		<tr>
			<td>発送</td>
			<td>ジョブが作成され、発送情報が入力されています。</td>
		</tr>
		<tr>
			<td>転送</td>
			<td>ハード ドライブから (インポート ジョブの場合)、またはハード ドライブに (エクスポート ジョブの場合) データを転送中です。</td>
		</tr>
		<tr>
			<td>パッケージ</td>
			<td>データの転送が完了し、返送のためにハード ドライブを準備しています。</td>
		</tr>
		<tr>
			<td>完了</td>
			<td>ハード ドライブが返送されました。</td>
		</tr>
	</tbody>
</table>

## エクスポート ジョブの BitLocker キーの表示##

エクスポート ジョブの場合は、ドライブのサービスで生成された BitLocker キーを表示し、コピーできます。これで、Azure データ センターからドライブを受け取った後、エクスポートされたデータを復号化できます。管理ポータルで自分のストレージ アカウントに移動し、**[インポート/エクスポート]** タブをクリックします。一覧からエクスポート ジョブを選択し、**[キーの表示]** ボタンをクリックします。BitLocker キーが、次のように表示されます。

![エクスポート ジョブの BitLocker キーの表示][export-job-bitlocker-keys]

## よく寄せられる質問##

<h3>全般</h3>

**インポート/エクスポート サービスの料金はいくらですか。**

- 料金情報については、「[インポート/エクスポートの料金詳細](http://go.microsoft.com/fwlink/?LinkId=329033)」を参照してください。

**データのインポートまたはエクスポートには、どのくらいの時間がかかりますか。**

- ディスクの発送にかかる時間のほかに、データをコピーするために、TB あたり数時間がかかります。
 
**サポートされるインターフェイスの種類を教えてください。**

- インポート/エクスポート サービスは、3.5 インチ SATA II ハード ドライブ ディスク (HDD) をサポートしています。発送前に、USB デバイスのデータを SATA に転送するには、次のコンバーターを使用できます。
	- Anker 68UPSATAA-02BU
	- Anker 68UPSHHDS-BU
	- Startech SATADOCK22UE 

**10 台を超えるドライブでインポートまたはエクスポートするには、どうすればよいでしょうか。**

- インポート/エクスポート サービスのプレビュー リリースで、1 つのインポート ジョブまたはエクスポート ジョブが参照できるのは、10 台のドライブまでです。10 台を超えるドライブを発送する必要がある場合は、複数のジョブを作成できます。

**サポートされる要件に適合しない HDD を誤って発送した場合は、どうなりますか。**

- Azure データ センターでは、サポートされる要件に適合しないドライブは返送されます。サポートされる要件を満たすのが、パッケージ内の一部のドライブだけである場合は、それらのドライブが処理され、要件を満たさないドライブは返送されます。

<h3>インポート/エクスポート ジョブの管理</h3>

**Azure のストレージ アカウントを削除した場合、インポート ジョブとエクスポート ジョブはどうなりますか。**

- ストレージ アカウントを削除すると、すべての Azure インポート/エクスポート ジョブがアカウントと共に削除されます。

**ジョブを取り消すことはできますか。**

- ジョブの状態が "作成" または "発送" のときは、ジョブを取り消すことができます。

**管理ポータルでは、どのくらいの期間、完了したジョブの状態を確認できますか。**

- 完了したジョブの状態は、最大 90 日間、表示されます。90 日が経過すると、完了したすべてのジョブはアーカイブされます。90 日経過後に、完了したジョブの状態を取得する必要がある場合は、カスタマー サポートにご連絡ください。

<h3>発送</h3>

**利用できる宅配業者は何ですか。**

- 	プレビュー リリースで利用できるのは、Federal Express (FedEx) だけです。
- 	インポート ジョブのパッケージは、FedEx Express または FedEx Ground で発送できます。
- 	すべてのパッケージは FedEx Ground で返送されます。

	<div class="dev-callout">
	<strong>重要</strong>
	<p>Azure インポート/エクスポート サービスに問い合わせ番号を通知する必要があります。通知しないと、ジョブは処理されません。</p>
	</div>

**返送には費用がかかりますか。**

- プレビュー リリースでは、返送料金は無料です。

**データを発送したり、返送されたデータを受領したりできるのは、どこですか。**

- インポート/エクスポート サービスでは、発送元<strong></strong>が米国内の場所で、かつパッケージの返送先が米国内の住所である場合に限り、取り扱いを受け付けます。このサービスでは、次のリージョンのストレージ アカウントからのデータのインポートとエクスポートをサポートしています。
	- 米国東部
	- 米国西部
	- 米国中北部
	- 米国中南部
	- 北ヨーロッパ
	- 西ヨーロッパ
	- 東アジア
	- 東南アジア

- ストレージ アカウントの場所が米国のデータ センターである場合は、ドライブの発送先が別のリージョンのデータ センターになることがあります。現時点では、一部のデータ センターでインポート/エクスポート サービスがサポートされていないためです。ストレージ アカウントが存在するリージョンとは別のリージョンでジョブを処理する場合は、送信料金が発生することがあります。

- ストレージ アカウントの場所がヨーロッパまたはアジアのデータ センターである場合は、米国内のサポート対象リージョンのいずれかにドライブを発送し、発送元が米国内である必要があります。そして、インポート/エクスポート サービスは、ヨーロッパまたはアジアにあるストレージ アカウントとの間でデータをコピーします。
	- インポート ジョブの場合は、コピー操作の受信料金は発生しません
	- エクスポート ジョブの場合は、Azure のデータ センターとの間でのデータのコピーにデータ転送料金が発生します。たとえば、ストレージ アカウントが西ヨーロッパにあり、ドライブを米国東部のデータ センターに発送した場合は、エクスポートするデータの西ヨーロッパから米国東部への移動に対して送信料金が発生します。

	<div class="dev-callout">
	<strong>重要</strong>
	<p>Azure データ センターでは、米国外の場所から発送されたドライブを受け取ることができないため、このようなパッケージの配達は拒否されます。</p>
	</div>

**インポート/エクスポート ジョブのドライブを Microsoft から購入できますか。**

- 	いいえ。インポート ジョブとエクスポート ジョブの両方で、自分のドライブを発送する必要があります。

<h3>セキュリティ</h3>

**Bitlocker 暗号化は必須の要件ですか**

- はい。すべてのドライブを BitLocker キーで暗号化する必要があります。

**ドライブは、返送前にフォーマットするのですか。**

- いいえ。すべてのドライブは、BitLocker で準備する必要があります。


[import-job-03]: ./media/storage-import-export-service/import-job-03.png
[export-job-03]: ./media/storage-import-export-service/export-job-03.png
[export-job-bitlocker-keys]: ./media/storage-import-export-service/export-job-bitlocker-keys.png

