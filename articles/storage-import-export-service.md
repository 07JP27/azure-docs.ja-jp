<properties 
	pageTitle="Import/Export を使用した BLOB ストレージへのデータの転送 | Microsoft Azure" 
	description="Azure の管理ポータルでインポート ジョブおよびエクスポート ジョブを作成し、データを BLOB ストレージに転送する方法について説明します。" 
	authors="tamram" 
	manager="adinah" 
	editor="" 
	services="storage" 
	documentationCenter=""/>

<tags 
	ms.service="storage" 
	ms.workload="storage" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="11/25/2014" 
	ms.author="tamram"/>


# Microsoft Azure Import/Export サービスを使用した BLOB ストレージへのデータの転送

ネットワーク経由のアップロードが実現不可能であるか、非常にコストがかかる場合には、Microsoft Azure Import/Export サービスを使用して、ファイルの大量のデータを Azure BLOB ストレージに転送できます。また、インポート/エクスポート サービスを使用して、BLOB ストレージにある大量のデータを内部設置型インストールに、タイムリーでコスト効率の高い方法で転送することもできます。

ファイルの大量のデータを BLOB ストレージに転送するために、そのデータを含む 1 台以上のハード ドライブを Azure データ センターに発送することができます。このデータ センターでデータがストレージ アカウントにアップロードされます。同様に、BLOB ストレージからデータをエクスポートするために、空のハード ドライブを Azure データ センターに発送することができます。このデータ センターで、ストレージ アカウントの BLOB データがハード ドライブにコピーされ、返送されます。データを含むドライブを発送する前に、ドライブにあるデータを暗号化してください。インポート/エクスポート サービスで、返送するデータをエクスポートするときにも、データは発送前に暗号化されます。

インポートおよびエクスポート ジョブは、2 つの方法のいずれかで作成し、管理できます。

- Azure 管理ポータルを使用する。
- サービスへの REST インターフェイスを使用する。

この記事では、インポート/エクスポート サービスの概要を示し、管理ポータルを使用してインポート/エクスポート サービスを操作する方法を説明します。REST API の詳細については、[インポート/エクスポート サービス REST API リファレンス](http://go.microsoft.com/fwlink/?LinkID=329099) を参照してください。

## インポート/エクスポート サービスの概要 ##

BLOB ストレージとの間でインポートまたはエクスポートの処理を開始するには、最初に *job*を作成します。ジョブは *import job*、または *export job*にすることができます。

- 内部設置型のデータを、Azure のストレージ アカウントの BLOB に転送する場合は、インポート ジョブを作成します。
- ストレージ アカウントに現在、BLOB として格納されているデータを、返送されるハード ドライブに移す場合は、エクスポート ジョブを作成します。

ジョブを作成するときは、1 台以上のハード ドライブを Azure データ センターに発送することをインポート/エクスポート サービスに通知します。インポート ジョブの場合は、ファイル データを含むハード ドライブを発送します。エクスポート ジョブの場合は、空のハード ドライブを発送します。

インポート ジョブのために発送するドライブを準備するには、**Microsoft Azure Import/Export ツール**を実行します。これによって、ドライブ上のデータが BitLocker で暗号化され、後で説明するドライブのジャーナル ファイルが作成されるため、ドライブへのデータのコピーが容易になります。

> [AZURE.NOTE] ドライブ上のデータは、BitLocker ドライブ暗号化で暗号化する必要があります。こうすると、移送中にデータが保護されます。エクスポート ジョブの場合は、ドライブを返送する前に Import/Export サービスでデータが暗号化されます。

インポート ジョブまたはエクスポート ジョブの作成時には、 *drive ID*も必要になります。これは、ドライブの製造元によって個々のドライブに割り当てられたシリアル番号です。ドライブ ID は、ドライブの外側に表示されています。 

<h3>要件および適用範囲</h3>

1.	**サブスクリプションおよびストレージ アカウント:** インポート/エクスポート サービスを使用するには、既存の Azure サブスクリプションと 1 つ以上のストレージ アカウントが必要です。各ジョブは 1 つのストレージ アカウントへの、または 1 つのストレージ アカウントからのデータ転送にのみ使用できます。つまり、ジョブは、複数のストレージ アカウントをまたぐことはできません。新しいストレージ アカウントの作成方法の詳細については、[ストレージ アカウントを作成する方法] 参照してください(storage-create-storage-account.md)。
2.	**ハード ドライブ:** インポート/エクスポート サービスでの使用がサポートされているのは、3.5 インチ SATA II/III ハード ドライブのみです。4 TB を超えるハード ドライブはサポートされません。インポート ジョブの場合は、ドライブの最初のデータ ボリュームのみが処理されます。このデータ ボリュームは NTFS でフォーマットされている必要があります。SATA II/III ディスクは、SATA II/III USB アダプターを使用して、大部分のコンピューターに外部から接続できます。
3.	**BitLocker 暗号化:** ハード ドライブに格納されたデータはすべて、数字のパスワードで保護された暗号化キーを使って、BitLocker で暗号化する必要があります。
4.	**BLOB ストレージ ターゲット:** データは、ブロック blob およびページ blob との間で、アップロードまたはダウンロードが可能です。
5.	**ジョブの数:** お客様は、ストレージ アカウントごとに 20 個までのアクティブなジョブを使用できます。
6.	**ジョブの最大サイズ:** ジョブのサイズは、使用するハード ドライブの容量と、ストレージ アカウントに格納できるデータの最大量によって決まります。各ジョブには、ハード ドライブを 10 個まで含めることができます。

## 管理ポータルでのインポート ジョブの作成 ##

インポート ジョブを作成し、ストレージ アカウントにインポートするデータを含む 1 台以上のドライブをデータ センターに発送することをインポート/エクスポート サービスに通知します。

<h3>ドライブの準備</h3>

インポート ジョブを作成する前に、Microsoft Azure Import/Export ツールでドライブを準備します。Microsoft Azure Import/Export ツールの使用に関する詳細については、[Azure インポート/エクスポート ツール リファレンス](http://go.microsoft.com/fwlink/?LinkId=329032) を参照してください。[Microsoft Azure Import/Export ツール](http://go.microsoft.com/fwlink/?LinkID=301900&clcid=0x409)は、スタンドアロン パッケージとしてダウンロードできます。
  
ドライブを準備するには、次の 3 つの手順を実行します。 

1.	インポートするデータと必要なドライブの数を決定します。
2.	Azure BLOB サービスで、データのインポート先の BLOB を特定します。
3.	Microsoft Azure Import/Export ツールを使用して、1 台以上のハード ドライブにデータをコピーします。

準備中に Microsoft Azure Import/Export ツールで、各ドライブの *drive journal*ファイルが生成されます。ドライブのジャーナル ファイルは、ドライブ自体ではなく、ローカル コンピューターに格納されます。インポート ジョブの作成時には、ジャーナル ファイルをアップロードします。ドライブのジャーナル ファイルには、ドライブ ID と BitLocker キーのほかに、ドライブに関するその他の情報も含まれます。  

<h3>インポート ジョブの作成</h3>

1.	ドライブの準備ができたら、管理ポータルのストレージ アカウントに移動し、ダッシュボードを表示します。<strong>[概要]</strong> の下で <strong>[インポート ジョブの作成]</strong> をクリックします。 
 
2.	ウィザードのステップ 1. で、ドライブの準備ができており、ドライブのジャーナル ファイルが使用可能であることを示します。
 
3.	ステップ 2. で、このインポート ジョブの担当者の連絡先情報を入力します。インポート ジョブの詳細なログ データを保存する場合は、<strong>['waimportexport' コンテナーに詳細ログを保存する]</strong> オプションをオンにします。

4.	ステップ 3. で、ドライブの準備中に取得したドライブのジャーナル ファイルをアップロードします。準備したドライブごとに 1 つのファイルをアップロードする必要があります。

	![Create import job - Step 3][import-job-03]

5.	ステップ 4. で、インポート ジョブのわかりやすい名前を入力します。名前に含めることができるのは、アルファベットの小文字、数字、ハイフン、アンダースコアだけです。また、先頭の文字はアルファベットにします。スペースを含めることはできません。	ここで入力した名前を使って、進行中および完了後にジョブを追跡します。

	次に、データ センターのリージョンを一覧から選択します。データ センターのリージョンに、パッケージの発送先となるデータ センターとその住所が示されます。詳細については、FAQ を参照してください。

6. 	ステップ 5. で、返送に利用する宅配業者を一覧から選択し、業者のアカウント番号を入力します。マイクロソフトでは、インポート ジョブの完了後、このアカウントを使用してドライブを返送します。

	問い合わせ番号がある場合は、業者を一覧から選択し、問い合わせ番号を入力します。 

	まだ問い合わせ番号がない場合は、**[パッケージの発送後、このインポート ジョブの発送情報を指定します]** を選択してから、インポート処理を完了します。

7. パッケージの発送後に問い合わせ番号を入力するには、管理ポータルでストレージ アカウントの **[インポート/エクスポート]** ページに戻り、一覧からジョブを選択して、**[発送情報]** をクリックします。ウィザードの指示に従い、ステップ 2. で問い合わせ番号を入力します。

	ジョブの状態が "作成"、"発送"、または "転送" の場合は、ウィザードのステップ 2. で宅配業者のアカウント番号を更新することもできます。ジョブの状態が "パッケージ" になると、そのジョブの宅配業者のアカウント番号は更新できません。 

## 管理ポータルでのエクスポート ジョブの作成 ##

エクスポート ジョブを作成し、ストレージ アカウントからデータをエクスポートした後に返送してもらう 1 台以上の空のドライブをデータ センターに発送することをインポート/エクスポート サービスに通知します。

1. 	エクスポート ジョブを作成するには、管理ポータルのストレージ アカウントに移動し、ダッシュボードを表示します。	<strong>[概要]</strong> の下で <strong>[エクスポート ジョブの作成]</strong> をクリックし、ウィザードの指示に従って続行します。

2. 	ステップ 2. で、このエクスポート ジョブの担当者の連絡先情報を入力します。エクスポート ジョブの詳細なログ データを保存する場合は、<strong>[ 'waimportexport' コンテナーに詳細ログを保存する]</strong> オプションをオンにします。

3.	ステップ 3. で、ストレージ アカウントから空のドライブにエクスポートする BLOB データを指定します。ストレージ アカウントの BLOB データをすべてエクスポートすることも、エクスポートする BLOB データまたはそのセットを指定することもできます。

	![Create export job - Step 3][export-job-03]

	- エクスポートする BLOB を指定するには、**[等しい]** セレクターを使用し、コンテナー名で始まる、BLOB への相対パスを指定します。ルート コンテナーを指定するには、"$root" を使用します。
	- プレフィックスで始まるすべての BLOB を指定するには、**[指定値で始まる]** セレクターを使用し、スラッシュ "/" で始まるプレフィックスを指定します。プレフィックスには、コンテナー名のプレフィックス、コンテナー名全体、またはコンテナー名全体の後に BLOB 名のプレフィックスを付けた名前を指定できます。

	次の表は、有効な BLOB のパスの例を示します。

	<table border="1" cellspacing="0" cellpadding="5" style="border: 1px solid #000000;">
		<tbody>
			<tr>
				<td><strong>セレクター</strong></td>
				<td><strong>BLOB パス</strong></td>
				<td><strong>説明</strong></td>
			</tr>
			<tr>
				<td>指定値で始まる</td>
				<td>/</td>
				<td>ストレージ アカウントのすべての BLOB をエクスポートする</td>
			</tr>
			<tr>
				<td>指定値で始まる</td>
				<td>/$root/</td>
				<td>ルート コンテナー内のすべての BLOB をエクスポートする</td>
			</tr>
			<tr>
				<td>指定値で始まる</td>
				<td>/book</td>
				<td>プレフィックス "<strong>book</strong>" で始まるすべてのコンテナー内のすべての BLOB をエクスポートする</td>
			</tr>
			<tr>
				<td>指定値で始まる</td>
				<td>/music/</td>
				<td>コンテナー "<strong>music</strong>" 内のすべての BLOB をエクスポートする</td>
			</tr>
			<tr>
				<td>指定値で始まる</td>
				<td>/music/love</td>
				<td>コンテナー "<strong>music</strong>" 内の、プレフィックス "<strong>love</strong>" で始まるすべての BLOB をエクスポートする</td>
			</tr>
			<tr>
				<td>等しい</td>
				<td>$root/logo.bmp</td>
				<td>ルート コンテナー内の BLOB "<strong>logo.bmp</strong>" をエクスポートする</td>
			</tr>
			<tr>
				<td>等しい</td>
				<td>videos/story.mp4</td>
				<td>コンテナー "<strong>videos</strong>" 内の BLOB "<strong>story.mp4</strong>" をエクスポートする</td>
			</tr>
		</tbody>
	</table>


4.	ステップ 4. で、エクスポート ジョブのわかりやすい名前を入力します。名前に含めることができるのは、アルファベットの小文字、数字、ハイフン、アンダースコアだけです。また、先頭の文字はアルファベットにします。スペースを含めることはできません。

	データ センターのリージョンに、パッケージの発送先となるデータ センターが示されます。詳細については、FAQ を参照してください。

5. 	ステップ 5. で、返送に利用する宅配業者を一覧から選択し、業者のアカウント番号を入力します。マイクロソフトでは、エクスポート ジョブの完了後、このアカウントを使用してドライブを返送します。

	問い合わせ番号がある場合は、業者を一覧から選択し、問い合わせ番号を入力します。 

	まだ問い合わせ番号がない場合は、<strong>[パッケージの発送後、このエクスポート ジョブの発送情報を指定します]</strong> を選択してから、エクスポート処理を完了します。

6. パッケージの発送後に問い合わせ番号を入力するには、管理ポータルでストレージ アカウントの **[インポート/エクスポート]** ページに戻り、一覧からジョブを選択して、**[発送情報]** をクリックします。ウィザードの指示に従い、ステップ 2. で問い合わせ番号を入力します。

	ジョブの状態が "作成"、"発送"、または "転送" の場合は、ウィザードのステップ 2. で宅配業者のアカウント番号を更新することもできます。ジョブの状態が "パッケージ" になると、そのジョブの宅配業者のアカウント番号は更新できません。 


## 管理ポータルでのジョブの状態の追跡 ##

管理ポータルから、インポート ジョブまたはエクスポート ジョブの状態を追跡できます。管理ポータルで自分のストレージ アカウントに移動し、**[インポート/エクスポート]** タブをクリックします。ジョブの一覧がページに表示されます。この一覧は、ジョブの状態、ジョブ名、ジョブの種類、または問い合わせ番号でフィルター処理できます。

次の表では、それぞれのジョブの状態の意味を説明しています。

<table border="1" cellspacing="0" cellpadding="5" style="border: 1px solid #000000;">
	<tbody>
		<tr>
			<td><strong>ジョブの状態</strong></td>
			<td><strong>説明</strong></td>
		</tr>
		<tr>
			<td>作成</td>
			<td>ジョブが作成されましたが、発送情報が入力されていません。</td>
		</tr>
		<tr>
			<td>発送</td>
			<td>ジョブが作成され、発送情報が入力されています。</td>
		</tr>
		<tr>
			<td>転送</td>
			<td>ハード ドライブから (インポート ジョブの場合)、またはハード ドライブに (エクスポート ジョブの場合) データを転送中です。</td>
		</tr>
		<tr>
			<td>パッケージ</td>
			<td>データの転送が完了し、返送のためにハード ドライブを準備しています。</td>
		</tr>
		<tr>
			<td>完了</td>
			<td>ハード ドライブが返送されました。</td>
		</tr>
	</tbody>
</table>

## エクスポート ジョブの BitLocker キーの表示 ##

エクスポート ジョブの場合は、ドライブのサービスで生成された BitLocker キーを表示し、コピーできます。これで、Azure データ センターからドライブを受け取った後、エクスポートされたデータを復号化できます。管理ポータルで自分のストレージ アカウントに移動し、**[インポート/エクスポート]** タブをクリックします。一覧からエクスポート ジョブを選択し、**[キーの表示]** ボタンをクリックします。BitLocker キーが、次のように表示されます。

![View BitLocker keys for export job][export-job-bitlocker-keys]

## FAQ (よく寄せられる質問) ##

<h3>全般</h3>

**インポート/エクスポート サービスの料金はいくらですか。**

- 料金情報については、[インポート/エクスポートの料金詳細](http://go.microsoft.com/fwlink/?LinkId=329033) を参照してください。

**データのインポートまたはエクスポートには、どのくらいの時間がかかりますか。**

- ディスクの発送にかかる時間のほかに、データをコピーするために、TB あたり数時間がかかります。
 
**サポートされるインターフェイスの種類を教えてください。**

- Import/Export サービスは、3.5 インチ SATA II/III 内部ハード ドライブ ディスク (HDD) をサポートしています。発送前に、USB デバイスのデータを SATA に転送するには、次のコンバーターを使用できます。
	- Anker 68UPSATAA-02BU
	- Anker 68UPSHHDS-BU
	- Startech SATADOCK22UE 

> [AZURE.NOTE] 上に示した以外のコンバーターを持っている場合は、サポートされているコンバーターを購入する前に、そのコンバーターで Microsoft Azure Import/Export ツールを実行してドライブの準備を試み、問題なく実行できるかどうかを確認することもできます。

**10 台を超えるドライブでインポートまたはエクスポートするには、どうすればよいでしょうか。**

- Import/Export サービスで、1 つのインポート ジョブまたはエクスポート ジョブが参照できるのは、10 台のドライブまでです。10 台を超えるドライブを発送する必要がある場合は、複数のジョブを作成できます。

**サポートされる要件に適合しない HDD を誤って発送した場合は、どうなりますか。**

- Azure データ センターでは、サポートされる要件に適合しないドライブは返送されます。サポートされる要件を満たすのが、パッケージ内の一部のドライブだけである場合は、それらのドライブが処理され、要件を満たさないドライブは返送されます。

<h3>インポート/エクスポート ジョブの管理</h3>

**Azure のストレージ アカウントを削除した場合、インポート ジョブとエクスポート ジョブはどうなりますか。**

- ストレージ アカウントを削除すると、すべての Azure Import/Export ジョブがアカウントと共に削除されます。  

**ジョブを取り消すことはできますか。**

- ジョブの状態が "作成" または "発送" のときは、ジョブを取り消すことができます。

**管理ポータルでは、どのくらいの期間、完了したジョブの状態を確認できますか。**

- 完了したジョブの状態は、最大 90 日間、表示されます。90 日が経過すると、完了したすべてのジョブは削除されます。

**Bitlocker 暗号化は必須の要件ですか。**

- はい。すべてのドライブを BitLocker キーで暗号化する必要があります。

**ドライブは、返送前にフォーマットするのですか。**

- いいえ。すべてのドライブは、BitLocker で準備する必要があります。

<h3>発送</h3>

**利用できる宅配業者は何ですか。**

- 米国およびヨーロッパのリージョンでは、[Federal Express](http://www.fedex.com/us/oadr/) (FedEx) のみがサポートされています。すべてのパッケージが FedEx Ground または FedEx International Economy で返送されます。

- アジアのリージョンでは、[DHL](http://www.dhl-welcome.com/Tutorial/) のみがサポートされています。すべてのパッケージが DHL Express Worldwide で返送されます。

	> [AZURE.IMPORTANT] Azure インポート/エクスポート サービスに問い合わせ番号を通知する必要があります。通知しないと、ジョブは処理されません。

**返送には費用がかかりますか。**

- マイクロソフトでは、ジョブの作成時に指定された業者のアカウント番号を使用して、データ センターからドライブを返送します。必ずデータ センターのリージョンでサポートされている業者のアカウント番号を指定してください。まだアカウントを作成していない場合は、[FedEx](http://www.fedex.com/us/oadr/) (米国およびヨーロッパ) または [DHL](http://www.dhl-welcome.com/Tutorial/) (アジア) の宅配業者アカウントを作成できます。

- 返送にかかる料金は指定の宅配業者アカウントに対して課金され、金額は業者によって異なります。

**データを発送したり、返送されたデータを受領したりできるのは、どこですか。**

- Import/Export サービスでは、次のリージョンのストレージ アカウントからのデータのインポートとエクスポートをサポートしています。
	- 米国東部 
	- 米国西部 
	- 米国中北部 
	- 米国中南部 
	- 北ヨーロッパ
	- 西ヨーロッパ
	- 東アジア
	- 東南アジア

- お客様のストレージ アカウントが存在するリージョン内の発送先住所が提供されます。たとえば、米国にお住まいで、ストレージ アカウントが西ヨーロッパ データ センターにある場合は、ドライブの発送先としてヨーロッパの住所が提供されます。

	> [AZURE.IMPORTANT] 発送する物理メディアが国境を越える場合があることに注意してください。お客様は、物理メディアおよびデータが輸入および輸出に関して該当する法律に準拠していることを確認する必要があります。物理メディアを発送する前に、アドバイザーに依頼して、メディアおよびデータが指定のデータ センターに合法的に発送できることを確認してもらってください。それにより、マイクロソフトへのメディアの到着が遅れるのを防ぐことができます。

- パッケージを発送する際には、[Microsoft Azure サービス条件](http://azure.microsoft.com/support/legal/services-terms/) の規定に従う必要があります。 

**インポート/エクスポート ジョブのドライブを Microsoft から購入できますか。**

- 	いいえ。インポート ジョブとエクスポート ジョブの両方で、自分のドライブを発送する必要があります。

**パッケージには何を含めればよいですか。**

- ハード ドライブのみを発送してください。電源ケーブルや USB ケーブルなどは同梱しないでください。



[import-job-03]: ./media/storage-import-export-service/import-job-03.png
[export-job-03]: ./media/storage-import-export-service/export-job-03.png
[export-job-bitlocker-keys]: ./media/storage-import-export-service/export-job-bitlocker-keys.png

<!--HONumber=42-->
