<properties
	 pageTitle="Azure ポータルを使用した IoT Hub の管理 | Microsoft Azure"
	 description="Azure ポータルで Azure IoT Hub を作成して管理する方法の概要"
	 services="iot-hub"
	 documentationCenter=""
	 authors="nasing"
	 manager="timlt"
	 editor=""/>

<tags
	 ms.service="iot-hub"
	 ms.devlang="na"
	 ms.topic="article"
	 ms.tgt_pltfrm="na"
	 ms.workload="na"
	 ms.date="06/06/2016"
	 ms.author="nasing"/>

# Azure ポータルを使用した IoT Hub の管理

## はじめに

この記事では、Azure ポータルを介して Azure IoT Hub を使用する方法、IoT Hub を検索する方法、および IoT Hub を作成して管理する方法について説明します。

## IoT Hub の検索場所

IoT Hub を検索できる多くの場所があります。

1. **+ 新規**: **Azure IoT Hub** は IoT サービスであり、他のサービスと同じように、**[+ 新規]** にある **[モノのインターネット]** カテゴリで見つけることができます。

2. また、IoT Hub には、**[モノのインターネット]** のヒーロー サービスである Marketplace からアクセスできます。

## IoT Hub の作成

IoT Hub の作成には、次の方法を使用できます。

1. **[+ 新規]** オプションを使用して IoT Hub を作成すると、次のスクリーン ショットに示すブレードが表示されます。この方法および Marketplace を使用して IoT Hub を作成する手順は同じです。

2. Marketplace を使用した IoT Hub の作成: **[作成]** をクリックすると、ブレードが開きます。これは、**[+ 新規]** の場合と同じものです。この後のセクションに記載されているいくつかの手順は、IoT Hub の作成に関連しています。

### IoT Hub の名前の選択

IoT Hub を作成するには、ハブに名前を付ける必要があります。この名前はハブ全体で一意にする必要があります。バックエンドではハブの重複は許可されないため、このハブの名前はできるだけ一意にすることをお勧めします。

### 価格レベルの選択

**Free**、**Standard 1**、**Standard 2** の 3 つのレベルから選択することができます。Free レベルでは、IoT Hub に接続できるデバイスは 500 個のみで、1 日に許可されるメッセージ数は最大 8,000 件です。

**S1 (低頻度)**: IoT Hub S1 (低頻度) エディションは、デバイスごとの生成データが比較的少量であるデバイスが多数存在する IoT ソリューション用に設計されています。S1 (低頻度) エディションのユニットごとに、すべての接続デバイスでの合計で 1 日に最大 400,000 メッセージを送信できます。

**S2 (高頻度)**: IoT Hub S2 (高頻度) エディションは、デバイスが大量のデータを生成する IoT ソリューション用に設計されています。S2 (高頻度) エディションのユニットごとに、すべての接続デバイスでの合計で 1 日に最大 600 万メッセージを送信できます。

![][4]

> [AZURE.NOTE] IoT Hub で許可される無料ハブはサブスクリプションごとに 1 つのみです。

### IoT Hub ユニット

1 つの IoT Hub ユニットが 1 日に交換できるメッセージの数は決まっているので、IoT ユニットの数を選択すると、そのハブでサポートされるメッセージの合計数は、ユニットの数にそのレベルでの 1 日あたりのメッセージ数を掛けた値になります。たとえば、IoT Hub で 700,000 件の受信メッセージをサポートする場合は、S1 レベルの 2 ユニットを選択します。

### デバイスとクラウド間のパーティションおよびリソース グループ

IoT Hub のパーティションの数を変更することができます。既定のパーティションは 4 に設定されますが、ドロップダウン リストからパーティションの別の数を選択できます。

リソース グループについては、明示的に空のリソース グループを作成する必要はありません。新しいリソースを作成するときは、新しいリソース グループを作成することも、既存のリソース グループを使用することもできます。

![][5]

### サブスクリプションの選択

Azure IoT Hub は、ユーザー アカウントがリンクされているサブスクリプションのリストを自動的に表示します。IoT Hub をそのサブスクリプションに関連付ける場合は、ここでオプションのいずれかを選択できます。

### 場所の選択

場所のオプションでは、IoT Hub が提供されるリージョンのリストが提供されます。IoT Hub は、米国東部、米国西部、北ヨーロッパ、西ヨーロッパ、東アジア、および東南アジアにデプロイできるようになっています。

### IoT Hub の作成

前の手順がすべて完了したら、IoT Hub を作成することができます。**[作成]** をクリックし、特定のオプションでこの IoT Hub を作成するバックエンド プロセスを開始して、指定した場所にデプロイします。

適切な場所のサーバーでのバックエンド デプロイメントには時間がかかるため、IoT Hub の作成には数分かかる場合があることに注意してください。

## IoT Hub の設定変更

IoT Hub を作成したら、既存の設定を変更できます。IoT Hub の名前をクリックして、設定ページを開きます。

![][8]

**共有アクセス ポリシー**: これらは、IoT Hub に接続するデバイスとサービスのアクセス許可を定義するポリシーです。これらのポリシーには、**[設定]** にある **[共有アクセス ポリシー]** をクリックすることでアクセスできます。このブレードでは、既存のポリシーを変更したり、新しいポリシーを追加したりすることができます。

### 新しいポリシーの作成

- **[追加]** をクリックしてブレードを開きます。このブレードで、次の図に示すように、新しいポリシーの名前と、このポリシーに関連付けるアクセス許可を入力できます。

	これらの共有ポリシーに関連付けることができるアクセス許可はいくつかあります。最初の 2 つのポリシーの **[レジストリの読み取り]** と **[レジストリの書き込み]** は、デバイス ID ストアまたは ID レジストリに対する読み取りと書き込みのアクセス権を付与するためのものです。書き込みオプションを選択すると、読み取りオプションが自動的に選択されることに注意してください。

 	サービス接続ポリシーでは IoT Hub に接続するサービスのコンシューマー グループにアクセス許可を与え、デバイス接続では IoT Hub のデバイス側のアクセス許可を与えます。

- **[作成]** をクリックして、この新しく作成されたポリシーを既存のリストに追加します。

![][10]

## メッセージング

**[メッセージング]** ポリシーをクリックして、変更対象の IoT Hub のメッセージング プロパティのリストを表示します。変更またはコピーできるプロパティには、**クラウドからデバイス**および**デバイスからクラウド**という 2 つの主な種類があります。

- **クラウドからデバイス**の設定: これには、メッセージに関する **[クラウドからデバイスの TTL]** (有効期限) および **[保存期間]** という 2 つのサブ設定があります。IoT Hub の最初の作成時に、これらの設定の両方が既定値の 1 時間で作成されます。ただし、スライダーを使用するか、値を入力するだけでこれらをカスタマイズできます。

- **デバイスからクラウド**の設定: これにはいくつかのサブ設定があります。その一部は IoT Hub の作成時に名前が付けられるか、割り当てられ、カスタマイズ可能な他のサブ設定にのみコピーできます。これらの設定の一覧を次のセクションに示します。

**パーティション**: この値は IoT Hub の作成時に設定され、この設定で変更できます。

**イベント ハブと互換性のある名前とエンドポイント**: IoT Hub の作成時に、Event Hub が内部的に作成され、ユーザーは特定の状況ではアクセスが必要な場合があります。このイベント ハブの名前とエンドポイントはカスタマイズできませんが、**[コピー]** をクリックすることで使用可能です。

**保存期間**: 既定で 1 日に設定されますが、ドロップダウン リストを使用して、他の値にカスタマイズできます。クラウドからデバイスの設定と同じように、デバイスからクラウドのこの値は時間単位ではなく、日単位であることに注意してください。

**コンシューマー グループ**: コンシューマー グループは、他のアプリケーションやサービスを IoT Hub に接続する特定の方法でデータをプルするために使用できる他のメッセージング システムに似た設定です。すべての IoT Hub は、既定のコンシューマー グループを使用して作成されます。ただし、コンシューマー グループを IoT Hub に追加したり、削除したりすることができます。

> [AZURE.NOTE] 既定のコンシューマー グループを編集したり削除したりすることはできません。

![][11]

## ファイルのアップロード

IoT Hub でファイルのアップロード機能を使用するには、最初に Azure ストレージ アカウントとハブを関連付ける必要があります。**[ファイルのアップロード]** 設定を選択して、変更対象の IoT Hub のファイル アップロード プロパティのリストを表示します。

**ストレージ コンテナー**: ポータルを使用して現在のサブスクリプションのストレージ アカウントの BLOB コンテナーを選択し、IoT Hub に関連付けます。必要に応じて、**[ストレージ アカウント]** ブレードで新しいストレージ アカウントを作成し、**[コンテナー]** ブレードで新しい BLOB コンテナーを作成できます。IoT Hub により、ファイルをアップロードするときにデバイスで使用する、この BLOB コンテナーへの書き込みアクセス許可を含む SAS URI が自動的に生成します。

![][14]

**Receive notifications for uploaded files (アップロードされたファイルに関する通知を受け取る)**: トグル ボタンを使用して、ファイルのアップロードに関する通知を有効または無効にします。

**SAS TTL**: IoT Hub によりデバイスに返される SAS URI の有効期間を設定します。既定で 1 時間に設定されますが、スライダーを使用して、他の値にカスタマイズできます。

**File notification settings default TTL (ファイルの通知設定 既定の TTL)**: 有効期限が切れるまでのファイルのアップロード通知の有効期間です。既定で 1 日に設定されますが、スライダーを使用して、他の値にカスタマイズできます。

**File notification maximum delivery count (ファイルの通知設定 最大配信回数)**: IoT Hub がファイルのアップロード通知の配信を試行する回数です。既定で 10 に設定されますが、スライダーを使用して、他の値にカスタマイズできます。

![][13]

## 価格とスケール

既存の IoT Hub の価格は **[価格]** 設定を介して変更できますが、次の例外があります。

- 現在の実装では、無料の SKU の IoT Hub のレベルを、有料の SKU のいずれかに変更することはできません。その逆も同じです。
- サブスクリプションで許可される Free レベルの IoT Hub は 1 つのみです。

![][12]

高レベル (S2) から低レベル (S1) への移行は、当該日に送信されるメッセージの数が競合していない場合にのみ許可されます。たとえば、1 日あたりのメッセージの数が 400,000 件を超える場合、IoT Hub のレベルを S2 から S1 に変更することはできません。

## IoT Hub の削除

削除する IoT Hub は、**[参照]** をクリックしてから、削除対象の適切なハブを選択することで参照できます。ハブ名の下の **[削除]** をクリックすると、ハブが削除されます。

## 次のステップ

Azure IoT Hub についてさらに学習するには、次のリンクを使用してください。

- [IoT Hub の使用 (チュートリアル)][lnk-get-started]
- [What is Azure IoT Hub? (Azure IoT Hub とは)][]


  [4]: ./media/iot-hub-manage-through-portal/create-iothub.png
  [5]: ./media/iot-hub-manage-through-portal/location1.png
  [8]: ./media/iot-hub-manage-through-portal/portal-settings.png
  [10]: ./media/iot-hub-manage-through-portal/shared-access-policies.png
  [11]: ./media/iot-hub-manage-through-portal/messaging-settings.png
  [12]: ./media/iot-hub-manage-through-portal/pricing-error.png
  [13]: ./media/iot-hub-manage-through-portal/file-upload-settings.png
  [14]: ./media/iot-hub-manage-through-portal/file-upload-container-selection.png

[lnk-get-started]: iot-hub-csharp-csharp-getstarted.md
[What is Azure IoT Hub? (Azure IoT Hub とは)]: iot-hub-what-is-iot-hub.md

<!---HONumber=AcomDC_0629_2016-->