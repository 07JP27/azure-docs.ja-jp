<properties
 pageTitle="Azure IoT Hub とは | Microsoft Azure"
 description="デバイスの接続、通信パターンおよびサービス支援通信パターンを含む、Azure IoT Hub サービスの概要"
 services="iot-hub"
 documentationCenter=".net"
 authors="fsautomata"
 manager="kevinmil"
 editor=""/>

<tags
 ms.service="iot-hub"
 ms.devlang="na"
 ms.topic="article"
 ms.tgt_pltfrm="na"
 ms.workload="tbd"
 ms.date="09/29/2015"
 ms.author="elioda"/>

# Azure IoT Hub とは

 Azure IoT Hub は、何百万もの IoT デバイスとアプリケーション バック エンドの間に信頼性のある保護された双方向通信を確立できる、完全に管理されたサービスです。Azure IoT Hub は、信頼性に優れた非常にスケール性の高いデバイスとクラウド間のメッセージングを提供し、デバイスごとのセキュリティ資格情報とアクセス制御を使用してセキュリティで保護された通信を可能にし、最も一般的な言語とプラットフォームのデバイス ライブラリを含みます。

![クラウド ゲートウェイとしての IoT Hub とは][img-architecture]

## IoT デバイスの接続

IoT プロジェクトが直面する最も大きな課題の 1 つは、アプリケーション バック エンドにデバイスを確実かつ安全に接続する方法です。IoT デバイスには、多くの場合、ブラウザー、他のサーバー、およびモバイル アプリケーションなどの他のクライアントと比較して異なる特性があります。

-   多くの場合、その組み込みシステムを人間が操作することはありません。

-   これらは、物理的なアクセスの負荷が非常に高いリモートの場所に配置されている場合があります。

-   アプリケーション バック エンドに接続するには、デバイスにアクセスするしかありません。

-   電源や処理リソースが制限されている可能性があります。

-   デバイス用のネットワーク接続が断続的であるか、負荷が高いか、あるいは少ない可能性があります。

-   専用、カスタム、または業界固有のアプリケーション プロトコルの使用が必要になる場合があります。

-   デバイスを作成するための一般的なハードウェアとソフトウェアのプラットフォームの大規模なセットがあります。

上記の要件に加え、IoT ソリューションはスケール、セキュリティ、および信頼性を提供する必要もあります。これらの側面はすべて一連の接続要件に組み込まれます。このような要件は、Web コンテナーやメッセージング ブローカーなどの従来のテクノロジを使用して実装するのが難しく、時間がかかります。

## Azure IoT Hub を使用する理由

Azure IoT Hub は、次の方法でデバイスの接続要件に対処します。

-   **デバイスごとの認証およびセキュリティで保護された接続**。各デバイスは独自のセキュリティ キーを使用して、IoT Hub に接続できます。その後、アプリケーション バック エンドは、デバイス単位でホワイトリストおよびブラックリストに登録し、デバイス アクセスを完全に制御できるようになります。

-   **広範なデバイス ライブラリ**。Azure IoT デバイス SDK はさまざまな言語とプラットフォーム (多くの Linux ディストリビューション、Windows、および RTOC では C) で使用でき、サポートされています。C#、Java、JavaScript などは管理対象言語です。

-   **IoT プロトコルと機能拡張**。ソリューションでデバイス ライブラリを使用できない場合、Azure IoT Hub は、デバイスで HTTP 1.1 と AMQP 1.0 プロトコルをネイティブに使用できるようにするパブリック プロトコルを公開します。Azure IoT Hub を拡張して、MQTT v3.1.1 のサポートを Azure IoT プロトコル ゲートウェイのオープン ソース コンポーネントを通じて提供することもできます。クラウドまたはオンプレミスで Azure IoT プロトコル ゲートウェイを実行し、カスタム プロトコルをサポートするように拡張することができます。

-   **スケール**。Azure IoT Hub は、デバイスの数百万単位での同時接続、および毎秒数百万単位のイベントに対応できます。

多くの通信パターンで一般的なこれらの利点に加え、Azure IoT Hub では現在、次の通信パターンを実装することができます。

-   **イベント ベースのデバイスからクラウドへの取り込み。** デバイスは、ホット パス イベント プロセッサ エンジンによって処理されるか、あるいはコールド パス分析用に格納される数百万のイベントを 1 秒ごとに確実に送信できます。Azure IoT Hub は、信頼性の高い処理を保証するためと負荷のピークを吸収するために、最大 7 日間イベント データを保持します。

-   **クラウドからデバイスへの信頼性の高いメッセージング (または*コマンド*)。** アプリケーション バック エンドでは、個々のデバイスに信頼性の高いメッセージを送信 (つまり、最低 1 回の配信を保証) できます。各メッセージには個々の有効期限があり、バック エンドでは配信と有効期限の両方の受信通知を要求し、クラウドからデバイスへのメッセージのライフサイクルの完全な可視性を保証します。

上記の通信パターンに加え、ファイルのアップロードやダウンロードなどの他の一般的なパターンを実装することができます。その場合、Azure IoT Hub の一貫性のあるデバイス ID 管理、接続の監視、スケールなどの IoT 固有の機能を利用します。

## サービス支援通信パターン
Azure IoT Hub は、[サービス支援通信][lnk-service-assisted-pattern]パターンの実装時に、デバイスとアプリケーションバック エンド間の対話を仲介します。サービス支援通信の目的は、管理システム (IoT Hub など) と、信頼されていない物理領域にデプロイされている特殊用途のデバイス間の信頼できる双方向の通信パスを確立することです。そのために、パターンでは次の原則を確立します。

- セキュリティは他のすべての機能より優先されます。
- デバイスは、要求されていないネットワーク情報を受け入れません。送信のみの方法で、デバイスからのすべての接続とルートが確立されます。バック エンドからコマンドを受信する場合、デバイスは定期的に接続を開始して、処理待ちのコマンドがないか確認する必要があります。
- デバイスは通常、Azure IoT Hub サービス インスタンスなど、ピアリングされている既知のサービスへの接続のみ、またはルートの確立のみを行います。
- デバイスとサービスまたはデバイスとゲートウェイ間の通信パスは、アプリケーション プロトコル レイヤーで保護されます。
- システム レベルの承認と認証は、デバイスごとの ID に基づく必要があり、アクセス資格情報とアクセス許可はほぼ瞬時に取り消せる必要があります。
- 電源や接続の問題により散発的に接続されるデバイスの双方向通信は、デバイスに対するコマンドと通知を、デバイスが接続され、それらが取得されるまで保持することで容易になる場合があります。Azure IoT Hub では、デバイスに送信されるコマンドのデバイス固有のキューが保持されます。
- アプリケーション ペイロード データは、特定のサービスへのゲートウェイを介して保護されたトランジットごとに個別に保護される場合があります。

サービス支援通信パターンは、[Windows 通知サービス](https://msdn.microsoft.com/library/windows/apps/mt187203.aspx)、[Google Cloud Messaging](https://developers.google.com/cloud-messaging/)、および [Apple Push Notification サービス](http://go.microsoft.com/fwlink/p/?linkid=272584&clcid=0x409)などのプッシュ通知サービスを実装するために、非常に大きな規模のモバイル業界で正常に使用されています。

## 次のステップ

Azure IoT Hub の詳細については、以下を参照してください。

* [IoT Hub 開発者ガイド]
* [IoT Hub のガイダンス]
* 「サポートされているデバイスのプラットフォームおよび言語」
* [Azure IoT デベロッパー センター]
* [IoT Hub の概要]

[IoT Hub Overview]: iot-hub-what-is-iot-hub.md
[IoT Hub のガイダンス]: iot-hub-guidance.md
[IoT Hub 開発者ガイド]: iot-hub-devguide.md
[IoT Hub Supported Devices]: iot-hub-supported-devices.md
[IoT Hub の概要]: iot-hub-csharp-csharp-getstarted.md
[Supported devices]: https://github.com/Azure/azure-iot-sdks/blob/master/doc/tested_configurations.md
[Azure IoT デベロッパー センター]: http://www.azure.com/iotdev

[img-why-use]: media/iot-hub-what-is-iot-hub/image1.png
[img-architecture]: media/iot-hub-what-is-iot-hub/hubarchitecture.png

[lnk-service-assisted-pattern]: http://blogs.msdn.com/b/clemensv/archive/2014/02/10/service-assisted-communication-for-connected-devices.aspx "サービス支援通信に関する Clemens Vasters によるブログの投稿"

<!---HONumber=Oct15_HO1-->