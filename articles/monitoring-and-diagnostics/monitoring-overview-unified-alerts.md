---
title: Azure Monitor の新しいアラート エクスペリエンスの詳細 | Microsoft Docs
description: アラートの作成、表示、管理を容易にする、Azure のシンプルでスケーラブルな新しいアラート エクスペリエンスについて説明します。
author: manishsm-msft
manager: kmadnani1
editor: ''
services: monitoring-and-diagnostics
documentationcenter: monitoring-and-diagnostics
ms.assetid: ''
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/23/2018
ms.author: mamit
ms.custom: ''
ms.openlocfilehash: 16e0fc493a257504e2708336e05c30b36d4bea15
ms.sourcegitcommit: 20d103fb8658b29b48115782fe01f76239b240aa
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/03/2018
---
# <a name="the-new-alerts-experience-in-azure-monitor"></a>Azure Monitor の新しいアラート エクスペリエンス

## <a name="overview"></a>概要

> [!NOTE]
> この記事では、新しいアラートについて説明します。 古いクラシック Azure Monitor アラートについては、[クラシック アラートの概要](monitoring-overview-alerts.md)に関するページをご覧ください。 
>
>

アラートに新しいエクスペリエンスがあります。 以前のアラート エクスペリエンスは、[アラート (クラシック)] タブにあります。新しいアラート エクスペリエンスは、アラート (クラシック) エクスペリエンスを上回る次の利点があります。

-   **より優れた通知システム**: 新しいアラートはすべて、複数のアラートで再利用できる通知とアクションの名前付きグループである[アクション グループ]( https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/monitoring-action-groups)を使用します。  従来のメトリック アラートと古い Log Analytics のアラートは、アクション グループを使用しません。 
- **統合された作成エクスペリエンス** - Azure Monitor、Log Analytics、Application Insights にわたるメトリック、ログ、アクティビティ ログのすべてのアラートの作成を 1 か所で行います。 
- **発生した Log Analytics アラートを Azure Portal で表示** - サブスクリプションで発生した Log Analytics アラートも表示できるようになりました。 以前はこれらは別のポータルにありました。 
- **発生したアラートとアラート ルールの分離** - アラート ルール (アラートをトリガーする条件の定義) と発生したアラート (実行されているアラート ルールのインスタンス) が区別されているので、操作ビューと構成ビューが分離されています。
- **より良いワークフロー** - 新しいアラート作成エクスペリエンスでは、アラート ルールを構成するプロセスに沿ってユーザーに手順が示されるため、アラートを有効にするために必要なものを簡単に見つけることができます。
 
具体的には、新しいメトリック アラートでの機能強化は次のとおりです。
-   **待機時間の短縮**: 新しいメトリック アラートは 1 分ごとに実行できます。 古いメトリック アラートは常に、5 分の頻度で実行されます。 ログ アラートは、ログの取り込みに時間がかかるため、まだ 1 分を超える遅延が発生します。 
-   **多次元メトリックのサポート**: 各次元のメトリックに関するアラートを生成して、メトリックの関心のあるセグメントを監視できます。
-   **メトリックの条件に対する詳細な制御**: より詳細なアラート ルールを定義できます。 この新しいアラートでは、メトリックの最大値、最小値、平均値、および合計値の監視がサポートされています。
-   **複数のメトリックの監視の組み合わせ**: 複数のメトリック (現時点では最大で 2 つ) を 1 つのルールで監視できます。 両方のメトリックが、指定された期間にわたってしきい値を超えた場合、アラートがトリガーされます。
-   **ログからのメトリック** (限定パブリック プレビュー): Log Analytics に移動するログ データの一部を抽出して、Azure Monitor メトリックに変換し、他のメトリックと同様にアラートの対象にできるようになりました。 



以下のセクションでは、新しいエクスペリエンスの機能について詳しく説明します。

## <a name="alert-rules-terminology"></a>アラート ルールの用語
新しいアラート エクスペリエンスでは、次の概念を使用してアラート ルール オブジェクトと発生したアラート オブジェクトを分離し、さまざまなアラートの種類での作成エクスペリエンスを統合します。

- **ターゲット リソース** - ターゲットには、任意の Azure リソースを指定できます。 ターゲット リソースは、アラートに使用できるスコープとシグナルを定義します。 ターゲットの例として、仮想マシン、ストレージ アカウント、仮想マシン スケール セット、Log Analytics ワークスペース、Application Insights リソースなどがあります。

- **条件** - 条件は、ターゲット リソースに適用されるシグナルとロジックの組み合わせです  (例: CPU 使用率が 70% を超える、サーバー応答時間が 4 ミリ秒を超える、ログ クエリの結果数が 100 を超える)。 

- **シグナル** - シグナルはターゲット リソースによって生成され、数種類のシグナルがあります。 シグナルの種類として、**メトリック**、**アクティビティ ログ**、**Application Insights**、および**ログ**がサポートされています。

- **ロジック** - シグナルが予想される範囲/値内であるかどうかを確認するためのユーザー定義ロジック。  
 
- **アクション** - アラートが発生したときに特定のアクションが実行されます。 たとえば、電子メール アドレスへの電子メール送信や webhook URL の呼び出しです。 アラートが発生したときに、複数のアクションが実行される可能性があります。 これらのアラートは、アクション グループをサポートします。  
 
- **アラート ルール** - アラートをトリガーする条件。 アラート ルールによってアラートのターゲットと条件が取得されます。 アラート ルールは、"有効" または "無効" の状態にすることができます。
 
    > [!NOTE]
    > これはアラート (クラシック) エクスペリエンスとは異なります。現在のアラート エクスペリエンスでは、アラートがルールと発生したアラートの両方を表すため、状態は警告、アクティブ、無効のいずれかになります。
    >

## <a name="single-place-to-view-and-manage-alerts"></a>アラートを表示および管理する単一の場所
アラート エクスペリエンスの目的は、すべての Azure アラートを 1 か所で表示および管理できるようにすることです。 以下のサブセクションでは、新しいエクスペリエンスの各画面の機能について説明します。

### <a name="alerts-overview-page"></a>アラートの概要ページ
**[監視 - アラート]** 概要ページには、発生したすべてのアラートの集計と、構成済みおよび有効なアラート ルールの合計が表示されます。 また、発生したすべてのアラートの一覧も表示されます。 サブスクリプションまたはフィルター パラメーターを変更すると、集計と発生したアラートの一覧が更新されます。

> [!NOTE]
> [アラート] に表示される [発生したアラートの数] は、サポートされているメトリック アラートとアクティビティ ログ アラートに限定されています。Azure Monitor の概要で表示される発生したアラートの数には、古い Azure アラートのものも含まれています。

 ![alerts-overview](./media/monitoring-overview-unified-alerts/alerts-preview-overview2.png) 

### <a name="alert-rules-management"></a>アラート ルールの管理
**[監視 - アラート] > [ルール]** では、Azure サブスクリプションのすべてのアラート ルールを 1 つのページで管理できます。 このページには、(有効または無効になっている) すべてのアラート ルールが一覧表示され、ターゲット リソース、リソース グループ、ルール名、または状態に基づいて並べ替えることができます。 このページから、アラート ルールを無効/有効にしたり、編集したりすることもできます。  

 ![alerts-rules](./media/monitoring-overview-unified-alerts/alerts-preview-rules.png)


## <a name="one-alert-authoring-experience-across-all-monitoring-sources"></a>すべての監視ソースのアラート作成エクスペリエンスを 1 つに統合
新しいアラート エクスペリエンスでは、監視サービスやシグナルの種類に関係なく、一貫した方法でアラートを作成できます。 発生したすべてのアラートと関連する詳細を 1 つのページで確認できます。  
 
アラートの作成は 3 段階のタスクです。ユーザーは、まずアラートのターゲットを選択し、次に適切なシグナルを選択します。最後に、アラート ルールの一部としてシグナルに適用するロジックを指定します。 この簡素化された作成プロセスでは、ユーザーは Azure リソースを選択する前に、サポートされている監視ソースやシグナルを把握しておく必要はなくなります。 共通の作成エクスペリエンスにより、選択されたターゲット リソースに基づいて利用可能なシグナルの一覧が自動的にフィルター処理され、アラート ロジックの作成手順が示されます。

次のアラートの種類の作成方法の詳細については、[こちら](monitor-alerts-unified-usage.md)をご覧ください。
- メトリック アラート
- ログ アラート (Log Analytics)
- ログ アラート (アクティビティ ログ)
- ログ アラート (Application Insights)

 
## <a name="alerts-supported-in-new-experience"></a>新しいエクスペリエンスでサポートされているアラート
アラートは複数の Azure 監視サービス全体で使用できます。 Azure 監視サービスの使用方法と使用する場合については、[こちらの記事を参照してください](./monitoring-overview.md)。 次に示すのは、Azure で使用可能なアラートの種類、および新しいアラート エクスペリエンスで現在サポートされているものの詳細です。 


| **シグナルの種類** | **モニター ソース** | **説明** | 
|-------------|----------------|-------------|
| メトリック | Azure Monitor | [ほぼリアルタイムのメトリック アラート](monitoring-near-real-time-metric-alerts.md)とも呼ばれます。これらは、最短 1 分間隔でのメトリック条件の評価をサポートし、マルチメトリックおよび多次元メトリックのルールを使用できます。 サポートされているリソースの種類の一覧については、[こちら](monitoring-near-real-time-metric-alerts.md#metrics-and-dimensions-supported)で確認できます。 |
| メトリック | Azure Monitor | [古いクラシック メトリック アラート](monitoring-overview-alerts.md)は、新しいアラート エクスペリエンスではサポートされていません。 これらは、Azure Portal の [アラート (クラシック)] の下にあります。 クラシック アラートは、新しいアラートにまだ移動されていない一部のメトリックの種類をサポートします。 一覧については、[サポートされるメトリック](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/monitoring-supported-metrics)に関するページをご覧ください。
| ログ  | Log Analytics | メトリックやイベント データに対するログ検索クエリが特定の条件と一致したときに、通知を受け取るか、自動アクションを実行します。 古い Log Analytics アラートをまだ使うことができますが、これらは[新しいエクスペリエンスにコピーされています](monitoring-alerts-extend.md)。 さらに、["*メトリックとしての Log Analytics ログ*" のプレビュー](monitoring-alerts-extend-tool.md)を使用できます。 このプレビュー機能では、一部のログの種類を取得してメトリックに変換し、新しいアラート エクスペリエンスを使ってそれらについてのアラートを行うことができます。 このプレビュー機能は、ネイティブの Azure Monitor メトリックと共に Azure 以外のログを取得したい場合に便利です。 |
| アクティビティ ログ | アクティビティ ログ (全般) | 選択したターゲット (リソース/リソース グループ/サブスクリプション) で実行されたすべての作成、更新、および削除アクションのレコードが含まれます。 |
| アクティビティ ログ  | サービス正常性 | 新しいアラート エクスペリエンスではサポートされていません。 「[サービス通知のアクティビティ ログ アラートを作成する](monitoring-activity-log-alerts-on-service-notifications.md)」をご覧ください。  |
| ログ  | アプリケーション インサイト | アプリケーションのパフォーマンスの詳細が記録されたログが含まれます。 分析クエリを使用すると、アプリケーション データに基づいて実行するアクションの条件を定義できます。 |
| メトリック | アプリケーション インサイト | 新しいアラート エクスペリエンスではサポートされていません。 [メトリック アラート](../application-insights/app-insights-alerts.md)に関するページをご覧ください。 |
| Web 可用性テスト | アプリケーション インサイト | アラート エクスペリエンスではサポートされていません。  [Web テスト アラート](../application-insights/app-insights-monitor-web-app-availability.md)に関するページをご覧ください。 Application Insights にデータを送信するようにインストルメント化されたすべての Web サイトで使用できます。 Web サイトの可用性または応答性が期待を下回る場合に通知を受け取ります。 |




## <a name="next-steps"></a>次の手順
- [新しいアラート エクスペリエンスを使用してアラートを作成、表示、管理する方法を確認する](monitor-alerts-unified-usage.md)
- [アラート エクスペリエンスのログ アラートについて確認する](monitor-alerts-unified-log.md)
- [アラート エクスペリエンスのメトリック アラートについて確認する](monitoring-near-real-time-metric-alerts.md)
- [アラート エクスペリエンスのアクティビティ ログ アラートについて確認する](monitoring-activity-log-alerts-new-experience.md)
