---
title: Azure portal でのアプリの登録に関するトレーニング ガイド - Azure
description: デバイス コード付与を使用して、埋め込み型およびブラウザーレスの認証フローを構築します。
services: active-directory
documentationcenter: ''
author: archieag
manager: CelesteDG
editor: ''
ms.service: active-directory
ms.subservice: develop
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: conceptual
ms.date: 04/26/2019
ms.author: aragra
ms.reviewer: lenalepa, keyam
ms.custom: aaddev
ms.collection: M365-identity-device-management
ms.openlocfilehash: 118c6ecb16d325a384246a0b3d9e685f6f6f04ee
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/13/2019
ms.locfileid: "64871126"
---
# <a name="training-guide-app-registrations-in-the-azure-portal"></a>トレーニング ガイド: Azure portal でのアプリの登録  

Azure portal 内の新しい[アプリの登録](https://go.microsoft.com/fwlink/?linkid=2083908)エクスペリエンスには改善点が多数あります。 レガシ エクスペリエンスに慣れている場合は、このトレーニング ガイドを使用して新しいエクスペリエンスを使い始めてください。

## <a name="key-changes"></a>主な変更点

- アプリの登録は、**Web アプリ/API** または**ネイティブ**アプリのいずれかに制限されていません。 それぞれのリダイレクト URI を登録することで、これらのすべてに対して同じアプリの登録を使用することができます。
- レガシ エクスペリエンスでは、組織 (Azure AD) アカウントでのみサインインするアプリがサポートされていました。 アプリはシングル テナント (アプリが登録されたディレクトリからの組織アカウントのみをサポート) として登録され、マルチテナント (すべての組織アカウントをサポート) に変更することができました。 新しいエクスペリエンスでは、この 2 つのオプションに加えて、3 つ目のオプション (すべての組織アカウントと個人用 Microsoft アカウント) をサポートするアプリを登録することができます。
- 従来のエクスペリエンスは、組織アカウントを使用して Azure portal にサインインする場合にのみ利用できました。 新しいエクスペリエンスでは、ディレクトリに関連付けられていない個人用 Microsoft アカウントを使用できます。

## <a name="list-of-applications"></a>アプリケーションの一覧

- 新しいアプリの一覧には、Azure portal でアプリの登録のレガシ エクスペリエンスを介して登録されているアプリケーション (Azure AD アカウントでサインインするアプリ) に加えて、[アプリケーション登録ポータル](https://apps.dev.microsoft.com/)を介して登録されたアプリ (Azure AD および個人用 Microsoft アカウントでサインインされるアプリ) が表示されます。
- 新しいアプリ一覧には **[アプリケーションの種類]** 列は表示されず (1 回のアプリの登録が複数の種類になる可能性があるため)、次の 2 つの列が追加されます: **[作成日]** 列と、アプリに登録されている資格情報の状態 (期限内、もうすぐ期限切れ、期限切れ) を示す **[証明書とシークレット]** 列。

## <a name="new-app-registration"></a>アプリの新しい登録

レガシ エクスペリエンスでアプリを登録するには、次を指定する必要がありました: **名前**、**アプリケーションの種類**、**サインオン URL/リダイレクト URI**。 作成されるアプリは Azure AD のみのシングル テナント アプリケーションでした。これはアプリが登録されたディレクトリからの組織アカウントのみがサポートされることを意味していました。

新しいエクスペリエンスでは、アプリの **[名前]** を指定し、 **[サポートされているアカウントの種類]** を選択する必要があります。 必要に応じて、**リダイレクト URI** を指定することもできます。 リダイレクト URI を指定する場合は、それが Web/パブリック (モバイルとデスクトップ) かどうかを指定する必要があります。 アプリの登録の新しいエクスペリエンスを使用してアプリを登録する方法の詳細については、[こちらのクイック スタート](quickstart-register-app.md)を参照してください。

## <a name="the-legacy-properties-page"></a>レガシ [プロパティ] ページ

レガシ エクスペリエンスには、新しいエクスペリエンスにはない **[プロパティ]** ページがありました。 **[プロパティ]** ブレードには、次のフィールドがありました。 **[名前]** 、 **[オブジェクト ID]** 、 **[アプリケーション ID]** 、 **[アプリ ID URI]** 、 **[ロゴ]** 、 **[ホーム ページ URL]** 、 **[ログアウト URL]** 、 **[サービス利用規約 URL]** 、 **[プライバシーに関する声明の URL]** 、 **[アプリケーションの種類]** 、 **[マルチ テナント]** 。

新しいエクスペリエンスにある同等の機能を次に示します。

- **[名前]** 、 **[ロゴ]** 、 **[ホーム ページ URL]** 、 **[サービス利用規約 URL]** 、 **[プライバシーに関する声明の URL]** は、現在、アプリの **[ブランド化]** ページにあります。
- **[オブジェクト ID]** と **[アプリケーション (クライアント) ID]** は、 **[概要]** ページにあります。
- レガシ エクスペリエンスの **[マルチテナント]** 切り替えによって制御される機能は、 **[認証]** ページの **[サポートされているアカウントの種類]** に置き換えられました。 サポートされているアカウントの種類のオプションにマルチテナントをマップする方法の詳細については、[こちらのクイック スタート](quickstart-modify-supported-accounts.md)を参照してください。
- **[ログアウト URL]** は **[認証]** ページに表示されるようになりました。
- **[アプリケーションの種類]** フィールドは無効になりました。 代わりに、リダイレクト URI ( **[認証]** ページにあります) によって、サポートされているアプリの種類が特定されます。
- **[アプリ ID URI]** は **[アプリケーション ID URI]** と呼ばれるようになり、 **[API の公開]** ブレードに置かれています。 レガシ エクスペリエンスで、このプロパティは次の形式を使用して自動登録されていました: `https://{tenantdomain}/{appID}` (たとえば、`https://microsoft.onmicrosoft.com/aeb4be67-a634-4f20-9a46-e0d4d4f1f96d`)。 新しい形式では、それは `api://{appID}` として自動生成されます。しかし、明示的に保存する必要があります。

## <a name="reply-urlsredirect-urls"></a>応答 URL/リダイレクト URI

レガシ エクスペリエンスでは、アプリに **[応答 URL]** ページがありました。 新しいエクスペリエンスでは、[応答 URL] はアプリの **[認証]** セクションにあります。 さらに、それらは **[リダイレクト URI]** と呼ばれます。 加えて、リダイレクト URI の形式が変更されました。 それらは、アプリの種類 (Web またはパブリック) に関連付ける必要があります。 さらに、セキュリティ上の理由から、ワイルドカードと http:// スキームはサポートされていません (例外: http://localhost) 。

## <a name="keyscertificates--secrets"></a>キー/証明書とシークレット

レガシ エクスペリエンスでは、アプリには **[キー]** ページがあります。 新しいエクスペリエンスでは、それは **[証明書とシークレット]** という名前に変更されています。 さらに、 **[公開キー]** は **[証明書]** と呼ばれ、 **[パスワード]** は **[クライアント シークレット]** と呼ばれています。

## <a name="required-permissionsapi-permissions"></a>必要なアクセス許可と API アクセス許可

- レガシ エクスペリエンスでは、アプリに **[必要なアクセス許可]** ページがありました。 新しいエクスペリエンスでは、 **[API のアクセス許可]** に名前が変更されました。
- レガシ エクスペリエンスで API を選択する場合、Microsoft API の小規模なリストから選択するか、テナントのサービス プリンシパルを検索することができました。 新しいエクスペリエンスでは、次の複数のタブから選択できます。 **[Microsoft API]** 、 **[所属する組織で使用している API]** 、 **[自分の API]** 。 **[所属する組織で使用している API]** タブにある検索バーを使用すると、テナント内のサービス プリンシパルを検索できます。 

   > [!NOTE]
   > ご利用のアプリケーションがテナントに関連付けられていない場合、このタブは表示されません。 新しいエクスペリエンスを使用してアクセス許可を要求する方法の詳細について、[こちらのクイックスタート](quickstart-configure-app-access-web-apis.md)を参照してください。

- レガシ エクスペリエンスでは、 **[要求されたアクセス許可]** ページの上部に **[アクセス許可の付与]** ボタンがありました。 新しいエクスペリエンスでは、アプリの **[API のアクセス許可]** セクションの **[同意する]** セクションに **[管理者の同意の付与]** ボタンがあります。 さらに、ボタンの機能にはいくつかの違いがあります。
   - レガシ エクスペリエンスでは、ロジックはサインインしたユーザーと要求されているアクセス許可によって異なりました。 ロジックは次のとおりでした。
      - ユーザーの同意が可能なアクセス許可のみが要求されていて、サインインしたユーザーが管理者ではない場合、ユーザーは要求された許可に対してユーザーの同意を付与することができました。
      - 管理者の同意が必要なアクセス許可が少なくとも 1 つ要求されていて、サインインしたユーザーが管理者ではい場合、ユーザーが同意しようとするとエラーが返されました。
      - サインインしたユーザーが管理者である場合、要求されたすべてのアクセス許可に対して管理者の同意が付与されました。
   - 新しいエクスペリエンスでは、管理者しか同意を付与することはできません。 管理者が **[管理者の同意の付与]** ボタンを選択すると、要求されたすべてのアクセス許可に対して管理者の同意が付与されます。

## <a name="deleting-an-app-registration"></a>アプリの登録を削除する

レガシ エクスペリエンスでは、アプリを削除するには、アプリがシングル テナントでなければなりませんでした。 マルチテナント アプリの場合は、削除ボタンが無効になりました。 新しいエクスペリエンスでは、アプリがどの状態でも削除することができますが、操作を確定する必要があります。 アプリの登録の削除の詳細については、[こちらのクイックスタート](quickstart-remove-app.md)を参照してください。

## <a name="application-manifest"></a>アプリケーション マニフェスト

レガシ エクスペリエンスおよび新しいレガシ エクスペリエンスでは、マニフェストエディターでの JSON の形式としてさまざまなバージョンが使用されています。 詳細については、[アプリケーション マニフェスト](reference-app-manifest.md)に関するページを参照してください。

## <a name="new-ui"></a>新しい UI

マニフェスト エディターまたは API を使用しなければ以前は設定できなかったプロパティ、または以前は存在しなかったプロパティに対して新しい UI が加わりました。

- **[暗黙的な許可のフロー]** (oauth2AllowImplicitFlow) は、 **[認証]** ページにあります。 レガシ エクスペリエンスとは異なり、**アクセス トークン**または **ID トークン**のいずれか、あるいはその両方を有効にすることができます。
- **[この API で定義されるスコープ]** (oauth2Permissions) および **[認証済みのクライアント アプリケーション]** (preAuthorizedApplications) は、 **[API の公開]** ページを介して構成できます。 アプリを Web API に構成してアクセス許可/スコープを公開する方法の詳細については、[こちらのクイックスタート](quickstart-configure-app-expose-web-apis.md)を参照してください。
- **[発行元ドメイン]** ([ユーザーにはアプリケーションの同意プロンプト](application-consent-experience.md)で表示されます) は、 **[ブランド化]** ブレード ページにあります。 発行元ドメインを構成する方法の詳細については、[こちらの操作方法](howto-configure-publisher-domain.md)を参照してください。

## <a name="limitations"></a>制限事項

新しいエクスペリエンスには次のような制限があります。

- 新しいエクスペリエンスは、現在 Azure AD B2C テナントでは利用できません。
- クライアント シークレット (アプリ パスワード) の形式は、レガシ エクスペリエンスの場合とは異なっており、これによって CLI が中断されます。
- サポートされているアカウントの値を変更することは、UI ではサポートされていません。 Azure AD のシングル テナントとマルチ テナントの切り替えを行ない限り、アプリ マニフェストを使用する必要があります。
