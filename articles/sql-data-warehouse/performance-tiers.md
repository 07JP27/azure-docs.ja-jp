---
title: Azure SQL Data Warehouse のパフォーマンス レベル | Microsoft Docs
description: Azure SQL Data Warehouse で利用可能な弾力性用およびコンピューティング用に最適化されたパフォーマンス レベルの概要です。
services: sql-data-warehouse
documentationcenter: NA
author: jrowlandjones
manager: jhubbard
editor: ''
ms.service: sql-data-warehouse
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.custom: performance
ms.date: 11/10/2017
ms.author: jrj;barbkess
ms.openlocfilehash: 03881c12faed723999e97431e4a69fdeb6bfa10d
ms.sourcegitcommit: 3a4ebcb58192f5bf7969482393090cb356294399
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/12/2018
ms.locfileid: "31004510"
---
# <a name="azure-sql-data-warehouse-performance-tiers-preview"></a>Azure SQL Data Warehouse のパフォーマンス レベル (プレビュー)
Azure SQL Data Warehouse では、分析ワークロード用に最適化された 2 つのパフォーマンス レベルが用意されています。 この記事では、ワークロードに最適なパフォーマンス レベルを選択するための、パフォーマンス レベルの概念について説明します。 

## <a name="what-is-a-performance-tier"></a>パフォーマンス レベルとは何か。
パフォーマンス レベルは、データ ウェアハウスの構成を決定するオプションです。 このオプションは、データ ウェアハウスを作成するときに行う最初の選択の 1 つです。  

> [!VIDEO https://channel9.msdn.com/Events/Connect/2017/T140/player]

- **弾力性パフォーマンス レベルのための最適化**では、アーキテクチャのコンピューティング層とストレージ層を分離します。 このオプションは、短期間のピーク活動をサポートするために頻繁にスケーリングすることで、コンピューティングとストレージの分離を完全に活用できるワークロードが特長です。 このコンピューティング層は、最低レベルの価格であり、スケーリングによりお客様のワークロードの大半をサポートできます。

- **コンピューティング パフォーマンス レベル用の最適化**では、最新の Azure ハードウェアを使用して、新しい NVMe ソリッド ステート ディスク キャッシュを導入し、最も頻繁にアクセスされるデータ (必要なデータ) に CPU を継続的に割り当てます。 このパフォーマンス レベルはストレージの階層処理を自動的に実行し、すべての IO がコンピューティング層のローカルで行われるので、複雑なクエリに適しています。 さらに、SQL Data Warehouse にサイズ制限なしでデータを格納できるように列ストアは強化されています。 コンピューティング パフォーマンス レベル用の最適化では、最高レベルのスケーラビリティが提供されるので、最大 30,000 コンピューティング Data Warehouse ユニット (cDWU) までスケール アップできます。 継続的で超高速なパフォーマンスが必要なワークロードにこの層を選択してください。

## <a name="service-levels"></a>サービス レベル
サービス レベル目標 (SLO) は、データ ウェアハウスのコストとパフォーマンス レベルを決定するスケーラビリティ設定です。 コンピューティング データ ウェアハウス単位 (cDWU) では、コンピューティング用に最適化されたパフォーマンス レベル スケールが測定されます (例: DW2000c)。 弾力性用に最適化されたサービス レベルは、DWU 単位で計測されます (例: DW2000)。 詳しくは、[Data Warehouse ユニット](what-is-a-data-warehouse-unit-dwu-cdwu.md)に関する記事を参照してください。

T-SQL では、サービス レベルと、データ ウェアハウスのパフォーマンス レベルは、SERVICE_OBJECTIVE 設定によって決定されます。

```sql
--Optimized for Elasticity
CREATE DATABASE myElasticSQLDW
WITH
(    SERVICE_OBJECTIVE = 'DW1000'
)
;

--Optimized for Compute
CREATE DATABASE myComputeSQLDW
WITH
(    SERVICE_OBJECTIVE = 'DW1000c'
)
;
```

## <a name="memory-maximums"></a>メモリの最大値
パフォーマンス レベルではさまざまなメモリ プロファイルがあり、クエリごとに使用されるメモリ量が異なります。 コンピューティング用に最適化されたパフォーマンス レベルでは、弾力性のために最適化されたパフォーマンス レベルに比較してクエリあたり 2.5 倍の メモリが提供されます。 コンピューティング用に最適化されたパフォーマンス レベルでは、このようにメモリに余裕があるため、非常に高速のパフォーマンスを提供できます。 クエリあたりのメモリが追加されることで、より低いレベルの[リソース クラス](resource-classes-for-workload-management.md)をクエリで使用できるため、より多くのクエリを同時に実行できます。 

### <a name="optimized-for-elasticity"></a>弾力性のための最適化

弾力性のために最適化されたパフォーマンス レベルのサービス レベルは、DW100 ～ DW6000 です。 

| サービス レベル | 同時クエリの最大数 | コンピューティング ノード | コンピューティング ノードごとの配布 | 配布あたりの最大メモリ (MB) | データ ウェアハウスあたりの最大メモリ (GB) |
|:-------------:|:----------------------:|:-------------:|:------------------------------:|:--------------------------------:|:----------------------------------:|
| DW100         | 4                      | 1             | 60                             | 400                              |  24                                |
| DW200         | 8                      | 2             | 30                             | 800                              |  48                                |
| DW300         | 12                     | 3             | 20                             | 1,200                            |  72                                |
| DW400         | 16                     | 4             | 15                             | 1,600                            |  96                                |
| DW500         | 20                     | 5             | 12                             | 2,000                            | 120                                |
| DW600         | 24                     | 6             | 10                             | 2,400                            | 144                                |
| DW1000        | 32                     | 10            | 6                              | 4,000                            | 240                                |
| DW1200        | 32                     | 12            | 5                              | 4,800                            | 288                                |
| DW1500        | 32                     | 15            | 4                              | 6,000                            | 360                                |
| DW2000        | 32                     | 20            | 3                              | 8,000                            | 480                                |
| DW3000        | 32                     | 30            | 2                              | 12,000                           | 720                                |
| DW6000        | 32                     | 60            | 1                              | 24,000                           | 1440                               |

### <a name="optimized-for-compute"></a>コンピューティング用に最適化

コンピューティング用に最適化された パフォーマンス レベルのサービス レベルは、DW1000c ～ DW30000c です。 

| サービス レベル | 同時クエリの最大数 | コンピューティング ノード | コンピューティング ノードごとの配布 | 配布あたりの最大メモリ (GB) | データ ウェアハウスあたりの最大メモリ (GB) |
|:-------------:|:----------------------:|:-------------:|:------------------------------:|:--------------------------------:|:----------------------------------:|
| DW1000c       | 32                     | 2             | 30                             |  10                              |   600                              |
| DW1500c       | 32                     | 3             | 20                             |  15                              |   900                              |
| DW2000c       | 32                     | 4             | 15                             |  20                              |  1200                              |
| DW2500c       | 32                     | 5             | 12                             |  25                              |  1500                              |
| DW3000c       | 32                     | 6             | 10                             |  30                              |  1800                              |
| DW5000c       | 32                     | 10            | 6                              |  50                              |  3000                              |
| DW6000c       | 32                     | 12            | 5                              |  60                              |  3600                              |
| DW7500c       | 32                     | 15            | 4                              |  75                              |  4500                              |
| DW10000c      | 32                     | 20            | 3                              | 100                              |  6000                              |
| DW15000c      | 32                     | 30            | 2                              | 150                              |  9000                              |
| DW30000c      | 32                     | 60            | 1                              | 300                              | 18000                              |

最大 cDWU は DW30000c で、60 のコンピューティング ノードと、コンピューティング ノードごとに 1 つの配布です。 たとえば、DW30000c の 600 TB のデータ ウェアハウスは、コンピューティング ノードあたり約 10 TB を処理します。

## <a name="concurrency-maximums"></a>同時実行の最大値
Azure SQL Data Warehouse は、1 つのデータ ウェアハウス上で業界最高の同時実行機能を提供します。 各クエリを効率的に実行するために十分なリソースが提供されるよう、システムは各クエリに同時実行スロットを割り当てることでリソース使用率を追跡します。 システムは、十分な数の同時実行スロットが利用できるようになるまで、クエリをキューに入れて待機させます。 

同時実行スロットによって、CPU の優先順位付けも決定されます。 詳細については、[ワークロードの分析](analyze-your-workload.md)に関するページを参照してください。

### <a name="concurrency-slots"></a>同時実行スロット
同時実行スロットは、クエリの実行に使用可能なリソースを追跡するために便利な方法です。 座席数が制限されているため、コンサートの座席を予約するチケットに似ています。 同様に、Azure SQL Data Warehouse のコンピューティング リソース数も有限です。 クエリは、同時実行スロットを取得することによってコンピューティング リソースを予約します。 クエリが実行を開始する前に、十分な数の同時実行スロットを予約できる必要があります。 クエリが完了すると、その同時実行スロットは解放されます。 

* 弾力性のために最適化されたパフォーマンス レベルでは、240 の同時実行スロットに拡張されます。
* コンピューティングのために最適化されたパフォーマンス レベルでは、1200 の同時実行スロットに拡張されます。

各クエリは、0、1、または複数の同時実行スロットを使用します。 システム クエリやいくつかの重要度の低いクエリは、スロットを使用しません。 既定では、リソース クラスによって制御されるクエリには 1 つの同時実行スロットが必要です。 複雑なクエリでは、追加の同時実行スロットが必要になる場合があります。  

- 10 個の同時実行スロットを使用して実行されるクエリは、2 つの同時実行スロットを使用して実行されるクエリよりも 5 倍のコンピューティング リソースにアクセスできます。
- クエリあたり 10 個の同時実行スロットが必要で 40 の同時実行スロットがある場合は、同時に実行できるのは 4 つのクエリのみになります。
 
リソースが管理されているクエリのみが、同時実行スロットを使用します。 使用される同時実行スロットの正確な数は、クエリの[リソース クラス](resource-classes-for-workload-management.md)によって決まります。

### <a name="optimized-for-compute"></a>コンピューティング用に最適化
次の表は、[動的なリソース クラス](resource-classes-for-workload-management.md)ごとの最大の同時実行クエリ数と同時実行スロット数を示しています。  これらは、コンピューティング用に最適化されたパフォーマンス レベルに適用されます。

**動的リソース クラス**
| Service Level | 同時クエリの最大数 | 割り当てられる同時実行スロット数 | smallrc で使用されるスロット数 | mediumrc で使用されるスロット数 | largerc で使用されるスロット数 | xlargerc で使用されるスロット数 |
|:-------------:|:--------------------------:|:---------------------------:|:---------------------:|:----------------------:|:---------------------:|:----------------------:|
| DW1000c       | 32                         |   40                        | 1                     |  8                     |  16                   |  32                    |
| DW1500c       | 32                         |   60                        | 1                     |  8                     |  16                   |  32                    |
| DW2000c       | 32                         |   80                        | 1                     | 16                     |  32                   |  64                    |
| DW2500c       | 32                         |  100                        | 1                     | 16                     |  32                   |  64                    |
| DW3000c       | 32                         |  120                        | 1                     | 16                     |  32                   |  64                    |
| DW5000c       | 32                         |  200                        | 1                     | 32                     |  64                   | 128                    |
| DW6000c       | 32                         |  240                        | 1                     | 32                     |  64                   | 128                    |
| DW7500c       | 32                         |  300                        | 1                     | 64                     | 128                   | 128                    |
| DW10000c      | 32                         |  400                        | 1                     | 64                     | 128                   | 256                    |
| DW15000c      | 32                         |  600                        | 1                     | 64                     | 128                   | 256                    |
| DW30000c      | 32                         | 1200                        | 1                     | 64                     | 128                   | 256                    |

**静的リソース クラス**

次の表は、[静的なリソース クラス](resource-classes-for-workload-management.md)ごとの最大の同時実行クエリ数と同時実行スロット数を示しています。  

| Service Level | 同時クエリの最大数 | 割り当てられる同時実行スロット数 |staticrc10 | staticrc20 | staticrc30 | staticrc40 | staticrc50 | staticrc60 | staticrc70 | staticrc80 |
|:-------------:|:--------------------------:|:---------------------------:|:---------:|:----------:|:----------:|:----------:|:----------:|:----------:|:----------:|:----------:|
| DW1000c       | 32                         |   40                        | 1         | 2          | 4          | 8          | 16         | 32         | 32         |  32        |
| DW1500c       | 32                         |   60                        | 1         | 2          | 4          | 8          | 16         | 32         | 64         |  64        |
| DW2000c       | 32                         |   80                        | 1         | 2          | 4          | 8          | 16         | 32         | 64         |  64        |
| DW2500c       | 32                         |  100                        | 1         | 2          | 4          | 8          | 16         | 32         | 64         |  64        |
| DW3000c       | 32                         |  120                        | 1         | 2          | 4          | 8          | 16         | 32         | 64         | 128        |
| DW5000c       | 32                         |  200                        | 1         | 2          | 4          | 8          | 16         | 32         | 64         | 128        |
| DW6000c       | 32                         |  240                        | 1         | 2          | 4          | 8          | 16         | 32         | 64         | 128        |
| DW7500c       | 32                         |  300                        | 1         | 2          | 4          | 8          | 16         | 32         | 64         | 128        |
| DW10000c      | 32                         |  400                        | 1         | 2          | 4          | 8          | 16         | 32         | 64         | 128        |
| DW15000c      | 32                         |  600                        | 1         | 2          | 4          | 8          | 16         | 32         | 64         | 128        |
| DW30000c      | 32                         | 1200                        | 1         | 2          | 4          | 8          | 16         | 32         | 64         | 128        |

### <a name="optimized-for-elasticity"></a>弾力性のための最適化
次の表は、[動的なリソース クラス](resource-classes-for-workload-management.md)ごとの最大の同時実行クエリ数と同時実行スロット数を示しています。  これらは、弾力性用に最適化されたパフォーマンス レベルに適用されます。

**動的リソース クラス**

| サービス レベル | 同時クエリの最大数 | 割り当てられる同時実行スロット数 | smallrc | mediumrc | largerc | xlargerc |
|:-------------:|:--------------------------:|:---------------------------:|:-------:|:--------:|:-------:|:--------:|
| DW100         |  4                         |   4                         | 1       |  1       |  2      |   4      |
| DW200         |  8                         |   8                         | 1       |  2       |  4      |   8      |
| DW300         | 12                         |  12                         | 1       |  2       |  4      |   8      |
| DW400         | 16                         |  16                         | 1       |  4       |  8      |  16      |
| DW500         | 20                         |  20                         | 1       |  4       |  8      |  16      |
| DW600         | 24                         |  24                         | 1       |  4       |  8      |  16      |
| DW1000        | 32                         |  40                         | 1       |  8       | 16      |  32      |
| DW1200        | 32                         |  48                         | 1       |  8       | 16      |  32      |
| DW1500        | 32                         |  60                         | 1       |  8       | 16      |  32      |
| DW2000        | 32                         |  80                         | 1       | 16       | 32      |  64      |
| DW3000        | 32                         | 120                         | 1       | 16       | 32      |  64      |
| DW6000        | 32                         | 240                         | 1       | 32       | 64      | 128      |

**静的なリソース クラス** 次の表は、[静的なリソース クラス](resource-classes-for-workload-management.md)ごとの最大の同時実行クエリ数と同時実行スロット数を示しています。  これらは、弾力性用に最適化されたパフォーマンス レベルに適用されます。

| サービス レベル | 同時クエリの最大数 | 最大同時実行スロット数 |staticrc10 | staticrc20 | staticrc30 | staticrc40 | staticrc50 | staticrc60 | staticrc70 | staticrc80 |
|:-------------:|:--------------------------:|:-------------------------:|:---------:|:----------:|:----------:|:----------:|:----------:|:----------:|:----------:|:----------:|
| DW100         | 4                          |   4                       | 1         | 2          | 4          | 4          |  4         |  4         |  4         |   4        |
| DW200         | 8                          |   8                       | 1         | 2          | 4          | 8          |  8         |  8         |  8         |   8        |
| DW300         | 12                         |  12                       | 1         | 2          | 4          | 8          |  8         |  8         |  8         |   8        |
| DW400         | 16                         |  16                       | 1         | 2          | 4          | 8          | 16         | 16         | 16         |  16        |
| DW500         | 20                         |  20                       | 1         | 2          | 4          | 8          | 16         | 16         | 16         |  16        |
| DW600         | 24                         |  24                       | 1         | 2          | 4          | 8          | 16         | 16         | 16         |  16        |
| DW1000        | 32                         |  40                       | 1         | 2          | 4          | 8          | 16         | 32         | 32         |  32        |
| DW1200        | 32                         |  48                       | 1         | 2          | 4          | 8          | 16         | 32         | 32         |  32        |
| DW1500        | 32                         |  60                       | 1         | 2          | 4          | 8          | 16         | 32         | 32         |  32        |
| DW2000        | 32                         |  80                       | 1         | 2          | 4          | 8          | 16         | 32         | 64         |  64        |
| DW3000        | 32                         | 120                       | 1         | 2          | 4          | 8          | 16         | 32         | 64         |  64        |
| DW6000        | 32                         | 240                       | 1         | 2          | 4          | 8          | 16         | 32         | 64         | 128        |

これらのいずれかのしきい値に達すると、新しいクエリはキューに配置されます。キューに配置されたクエリは、先入れ先出し方式で実行されます。  クエリが完了してクエリおよびスロットの数が制限値を下回ると、キューに入れられていたクエリは解放されます。 

## <a name="next-steps"></a>次の手順

ワークロードをさらに最適化するためにリソース クラスを活用する方法の詳細については、次の記事を参照してください。
* [ワークロード管理用のリソース クラス](resource-classes-for-workload-management.md)
* [ワークロードの解析](analyze-your-workload.md)

