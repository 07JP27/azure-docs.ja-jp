<properties linkid="manage-services-how-to-manage-a-storage-account" urlDisplayName="管理方法" pageTitle="ストレージ アカウントの管理方法 | Microsoft Azure" metaKeywords="Azure 管理 ストレージ アカウント, ストレージ アカウント管理ポータル, ストレージ アカウント Geo レプリケーション, Azure Geo レプリケーション, Azure アクセス キー" description="管理ポータルを使用して Azure でストレージ アカウントを管理する方法について説明します。" metaCanonical="" services="storage" documentationCenter="" title="ストレージ アカウントの管理方法" authors="tamram" solutions="" manager="mbaldwin" editor="cgronlun" />



<h1><a id="managestorageaccounts"></a>ストレージ アカウントの管理方法</h1>

##目次##

* [方法: ストレージ アカウント レプリケーションの管理](#georeplication)
* [方法: ストレージ アクセス キーの表示、コピーおよび再生成](#regeneratestoragekeys)
* [方法: ストレージ アカウントの削除](#deletestorageaccount)

<h2><a id="georeplication"></a>方法: ストレージ アカウント レプリケーションの管理</h2>

ストレージ アカウントに関するレプリケーションには、3 つのオプションがあります。

- 	**Geo 冗長レプリケーション。**Geo 冗長レプリケーションは、ストレージ アカウントに対して既定で有効になっています。Geo 冗長レプリケーションを使用すると、データは地理的に異なる場所にある 2 次拠点に複製されて、1 次拠点で重大な障害が発生した場合にフェールオーバーが可能になります。2 次拠点は同じリージョンにありますが、1 次拠点から数百 km 離れています。

- **読み取りアクセスの Geo 冗長レプリケーション**読み取りアクセスの Geo 冗長レプリケーションは、データを地理的に異なる場所にある 2 次拠点にコピーし、2 次拠点にあるデータへの読み取りアクセスも実現します。読み取りアクセスの Geo 冗長レプリケーションにより、どちらかの場所が使用不可能になった場合でも、1 次拠点または 2 次拠点にあるデータにアクセスできるようになります。

- 	**ローカル冗長レプリケーション**。ローカル冗長レプリケーションを使用すると、ストレージ アカウント データは同じデータ センター内で 3 回複製されます。ローカル冗長レプリケーションは、割引料金で使用できます。
	
	ストレージ アカウントに対してローカル冗長レプリケーションを指定した後、Geo 冗長レプリケーションを有効にする場合は、既存データを 2 次拠点に複製するためにデータ費用が 1 回だけ発生することに注意してください。

- **読み取りアクセスの Geo 冗長レプリケーション (プレビューのみ)。**読み取りアクセスの Geo 冗長レプリケーションは、データを地理的に異なる場所にある 2 次拠点にコピーし、2 次拠点にあるデータへの読み取りアクセスも実現します。読み取りアクセスの Geo 冗長レプリケーションにより、どちらかの場所が使用不可能になった場合でも、1 次拠点または 2 次拠点にあるデータにアクセスできるようになります。

ストレージ アカウントのレプリケーションに関する料金情報については、「[料金詳細](http://www.windowsazure.com/ja-jp/pricing/details/storage/)」を参照してください。

### ストレージ アカウントに対してレプリケーションの設定を指定するには###

1. [Azure 管理ポータル](https://manage.windowsazure.com)で、**[ストレージ]** をクリックし、目的のストレージ アカウント名をクリックしてダッシュボードを表示します。

2. **[構成]** をクリックします。

3. **[レプリケーション]** フィールドで、ストレージ アカウントで使用するレプリケーションのレベルを選択します。

4. **[保存]** をクリックし、メッセージが表示された場合は選択内容を確認します。


<h2><a id="regeneratestoragekeys"></a>方法: ストレージ アクセス キーの表示、コピーおよび再生成</h2>
ストレージ アカウントを作成するときに、Azure によって 2 つの 512 ビット ストレージ アクセス キーが生成されます。これらは、ストレージ アカウントにアクセスするときに認証の目的で使用されます。Azure によって 2 つのストレージ アクセス キーが提供される結果、ストレージ サービスやサービスへのアクセスを中断することなく、これらのキーを再生成できます。

[管理ポータル](http://manage.windowsazure.com)で、ダッシュボードまたは **[ストレージ]** ページの **[キーの管理]** を使用して、BLOB、テーブル、およびキュー サービスのアクセスに使用するストレージ アクセス キーを表示、コピー、および再生成します。

### ストレージ アクセス キーのコピー###

**[キーの管理]** を使用してストレージ アクセス キーをコピーし、接続文字列で使用することができます。接続文字列には、ストレージ アカウント名および認証で使用するキーが必要です。Azure ストレージ サービスにアクセスする接続文字列の構成方法の詳細については、「[Azure 接続文字列の構成方法](http://msdn.microsoft.com/ja-jp/library/ee758697.aspx)」を参照してください。

1. [管理ポータル](http://manage.windowsazure.com)で、**[ストレージ]** をクリックし、目的のストレージ アカウント名をクリックしてダッシュボードを開きます。

2. **[キーの管理]** をクリックします。

 	**[アクセス キーの管理]** が開きます。

	![Managekeys](./media/storage-manage-storage-account/Storage_ManageKeys.png)

 
3. ストレージ アクセス キーをコピーするには、キー文字列を選択します。右クリックして **[コピー]** をクリックします。

### ストレージ アクセス キーの再生成###
ストレージ接続のセキュリティを高めるために、ストレージ アカウントのアクセス キーは定期的に変更する必要があります。片方のアクセス キーでストレージ アカウントに接続したまま、もう片方のアクセス キーを再生成できるように、アクセス キーは 2 つ割り当てられます。

<div class="dev-callout"> 
    <b>警告</b>
    <p>アクセス キーを再生成すると、そのストレージ アカウントに依存する仮想マシン、メディア サービス、およびアプリケーションが影響を受けます。
    </p> 
    </div>

**仮想マシン** - ストレージ アカウントに実行中の仮想マシンが含まれる場合は、アクセス キーの再生成後、すべての仮想マシンを再デプロイする必要があります。再デプロイを回避するには、アクセス キーを生成する前に仮想マシンをシャットダウンします。
 
**メディア サービス** - ストレージ アカウントに依存するメディア サービスがある場合は、キーを再生成した後で、アクセス キーをメディア サービスに再同期する必要があります。
 
**アプリケーション** - ストレージ アカウントを使用する Web アプリケーションまたはクラウド サービスがある場合は、キーを切り替えない限り、キーを再生成すると接続が失われます。キーを切り替える手順は次のとおりです。

1. ストレージ アカウントのセカンダリ アクセス キーを参照するようにアプリケーション コードの接続文字列を更新します。

2. ストレージ アカウントのプライマリ アクセス キーを再生成します。[管理ポータル](http://manage.windowsazure.com)で、ダッシュボードまたは **[構成]** ページの **[キーの管理]** をクリックします。プライマリ アクセス キーの **[再生成]** をクリックし、確認画面で **[はい]** をクリックして新しいキーを生成します。

3. 新しいプライマリ アクセス キーを参照するようにアプリケーション コードの接続文字列を更新します。

4. セカンダリ アクセス キーを再生成します。


<h2><a id="deletestorageaccount"></a>方法: ストレージ アカウントの削除</h2>

使わなくなったストレージ アカウントを削除するには、ダッシュボードまたは **[構成]** ページの **[削除]** を使用します。**[削除]** をクリックすると、アカウントにあるすべての BLOB、テーブル、キューを含めて、ストレージ アカウント全体が削除されます。

<div class="dev-callout">
	<b>警告</b>
	<p>削除したストレージ アカウントのコンテンツを復元する手段はありません。保存する
	必要のあるデータは、アカウントを削除する前にバックアップを取っておいてください。
	</p>
	<p>
	ストレージ アカウントに Azure 仮想マシンの VHD ファイルまたはディスクが格納されている場合
	は、これらの VHD ファイルを使用しているすべてのイメージとディスクを削除する必要があります。
	その後、ストレージ アカウントを削除することができます。最初に、実行中の場合は仮想マシンを停止してから削除します。ディスクを削除するには、[ディスク] タブに移動し、ストレージ アカウントに格納されているディスクを削除します。イメージを削除するには、[イメージ] タブに移動し、アカウントに含まれているイメージを削除します。
	</p>
</div>


1. [管理ポータル](http://manage.windowsazure.com)で、**[ストレージ]** をクリックします。

2. ストレージ アカウント項目の名前以外の部分をクリックして、**[削除]** をクリックします。

	 または

	ストレージ アカウントの名前をクリックしてダッシュボードを開き、**[削除]** をクリックします。

3. 確認画面で **[はい]** をクリックして、ストレージ アカウントを削除します。

