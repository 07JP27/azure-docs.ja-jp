---
title: "DNS ゾーンとレコード | Microsoft Docs"
description: "Microsoft Azure DNS での DNS ゾーンとレコードのホスティングに対するサポートの概要"
services: dns
documentationcenter: na
author: jtuliani
manager: carmonm
editor: 
ms.assetid: be4580d7-aa1b-4b6b-89a3-0991c0cda897
ms.service: dns
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 10/17/2016
ms.author: jtuliani
translationtype: Human Translation
ms.sourcegitcommit: 42d47741e414b2de177f1fd75b3e1ac3fde96579
ms.openlocfilehash: b99bc20b66787c7a87fa49143b4cbf861e0e68a2

---

# <a name="dns-zones-and-records"></a>DNS ゾーンとレコード

このページでは、ドメイン、DNS ゾーン、DNS レコードおよびレコード セットの主要な概念と、Azure DNS でのサポートについて説明します。

## <a name="domain-names"></a>ドメイン名

ドメイン ネーム システムはドメインの階層構造です。 階層は、"**.**" という名前の "root" ドメインから始まります。  その下には "com"、"net"、"org"、"uk"、"jp" などのトップ レベル ドメインがあります。  さらに、これらの下には "org.uk" や "co.jp" などの第 2 レベル ドメインがあります。 DNS 階層のドメインはグローバルに分散していて、世界中の DNS ネーム サーバーでホストされています。

"contoso.com" などのドメイン名は、ドメイン名レジストラーという組織から購入できます。  ドメイン名を購入すると、"www.contoso.com" という名前で会社の Web サイトを表示するなど、そのドメイン名で DNS 階層を制御する権限が付与されます。 レジストラーが顧客に代わって自社のネーム サーバーでドメインをホストする場合もあれば、顧客が他のネーム サーバーを指定できる場合もあります。

Azure DNS では世界各地に分散された高可用性ネーム サーバー インフラストラクチャを提供しており、お客様はこれを利用してドメインをホストできます。 Azure DNS でドメインをホストすることで、他の Azure サービスと同じ資格情報、API、ツール、課金情報、サポートを使用して DNS レコードを管理できます。

Azure DNS では、現在、ドメイン名の購入はサポートされていません。 ドメイン名を購入する場合は、サードパーティのドメイン名レジストラーを利用する必要があります。 レジストラーは、通常、少額の年間料金を請求します。 購入後、ドメインを Azure DNS でホストし、DNS レコードを管理できます。 詳細については、「 [Azure DNS へのドメインの委任](dns-domain-delegation.md) 」を参照してください。

## <a name="dns-zones"></a>DNS ゾーン

DNS ゾーンは、特定のドメインの DNS レコードをホストするために使用されます。 Azure DNS でドメインのホストを開始するには、そのドメイン名用に DNS ゾーンを作成する必要があります。 ドメインの DNS レコードはすべて、この DNS ゾーン内に作成されます。

たとえば、ドメイン "contoso.com" に、"mail.contoso.com" (メール サーバー用) や "www.contoso.com" (Web サイト用) など、複数の DNS レコードを含めることができます。

Azure DNS で DNS ゾーンを作成する際は、ゾーンの名前がリソース グループ内で一意であることが必要です。 同じゾーン名は、別のリソース グループまたは別の Azure サブスクリプション内であれば再利用できます。 複数のゾーンで同じ名前を共有できますが、各インスタンスには異なるネーム サーバー アドレスが割り当てられます。 ドメイン名レジストラーで構成できるアドレスのセットは 1 つだけです。

> [!NOTE]
> 自社で所有していないドメイン名でも、Azure DNS 内にそのドメイン名で DNS ゾーンを作成できます。 ただし、ドメイン名レジストラーでドメイン名の正しい名前サーバーとして Azure DNS ネーム サーバーを構成する場合は、ドメインを所有する必要があります。

詳細については、「[Azure DNS へのドメインの委任](dns-domain-delegation.md)」を参照してください。

## <a name="dns-records"></a>DNS レコード

### <a name="record-types"></a>レコードの種類

各 DNS レコードには名前と種類があります。 レコードは、含まれるデータによってさまざまな種類に分けられます。 最も一般的な種類は "A" レコードで、名前が IPv4 アドレスにマップされます。 また、"MX" レコードもよく使用される種類で、名前がメール サーバーにマップされます。

Azure DNS では、一般的な DNS レコードの種類である A、AAAA、CNAME、MX、NS、PTR、SOA、SRV、TXT をすべてサポートしています。

### <a name="record-names"></a>レコード名

Azure DNS では、相対名を使用してレコードを指定します。 "*完全修飾*" ドメイン名 (FQDN) にはゾーン名が含まれますが、"*相対*" 名には含まれません。 たとえば、"contoso.com" ゾーン内の相対レコード名 "www" によって、完全修飾レコード名 "www.contoso.com" が示されます。

DNS ゾーンのルート ("*頂点*") にある DNS レコードを *apex* (頂点) レコードと言います。 たとえば、DNS ゾーン "contoso.com" であれば、apex レコードの完全修飾名も "contoso.com" です (これを*ネイキッド* ドメインと呼ぶことがあります)。  慣例により、apex レコードを作成する際は相対名として '@' を使用します。

### <a name="record-sets"></a>レコード セット

場合によっては、特定の名前と種類の DNS レコードを複数作成する必要があることもあります。 たとえば、"www.contoso.com" という Web サイトが 2 つの異なる IP アドレスでホストされているとします。 この Web サイトには、IP アドレスごとに異なる A レコードが、合計 2 つ必要になります。 これはレコード セットの例です。

    www.contoso.com.        3600    IN    A    134.170.185.46
    www.contoso.com.        3600    IN    A    134.170.188.221

Azure DNS は、"*レコード*" セットを使用して DNS レコードを管理します。 レコード セット ("*リソース*" レコード セットとも呼ばれます) とは、1 つのゾーン内にある同じ名前、同じ種類の DNS レコードのコレクションです。 ほとんどのレコード セットには 1 つのレコードが含まれていますが、この例のように複数のレコードが含まれているレコード セットも珍しくはありません 。

たとえば、ゾーン "contoso.com" に A レコード "www" が既に作成されているとします。この A レコードは IP アドレス "134.170.185.46" (上記の 1 つ目のレコード) を指しています。  2 つ目のレコードを作成する際は、レコード セットを新規作成するのではなく、そのレコードを既存のレコード セットに追加します。

SOA レコードと CNAME レコードは例外です。 DNS 標準では、これらのレコードの種類で同じ名前を持つ複数のレコードを作成することが許可されていません。そのため、これらのレコード セットにはレコードを 1 つしか含めることができません。

### <a name="time-to-live"></a>Time-To-Live

Time-to-Live (TTL) は、各レコードが再度照会されるまでクライアントによってキャッシュされる期間を指定します。 上の例では、TTL は 3600 秒、つまり 1 時間です。

Azure DNS では、TTL は各レコードではなくレコード セットに対して指定されるため、そのレコード セット内のすべてのレコードに同じ値が使用されます。  TTL には 1 秒から 2,147,483,647 秒までの間の値を指定できます。

### <a name="wildcard-records"></a>ワイルドカード レコード

Azure DNS は、 [ワイルドカード レコード](https://en.wikipedia.org/wiki/Wildcard_DNS_record)をサポートしています。 ワイルドカード レコードは、一致する名前を含むクエリへの応答として返されます (非ワイルドカード レコード セットに、より近い一致がない場合)。 ワイルドカード レコード セットは、NS と SOA を除くすべてのレコードの種類でサポートされています。

ワイルドカード レコード セットを作成するには、レコード セット名 "\*" を使用します。 または、左端のラベルを "\*" とした名前も使用できます (例: "\*.foo")。

### <a name="cname-records"></a>CNAME レコード

CNAME レコード セットは、同じ名前を持つ他のレコード セットとは共存できません。 たとえば、相対名 "www" を持つ CNAME レコード セットと相対名 "www" を持つ A レコードを同時に作成することはできません。

ゾーンの頂点 (名前は '@') には、ゾーンの作成時に作成された NS および SOA レコード セットが必ず含まれるため、ゾーンの頂点で CNAME レコード セットを作成することはできません。

これらの制約は、DNS 標準から生じるものであり、Azure DNS の制限事項ではありません。

### <a name="ns-records"></a>NS レコード

NS レコード セットは各ゾーンの頂点に自動的に作成され (名前は '@'),、ゾーンが削除されると自動的に削除されます (個別に削除することはできません)。  このレコード セットの TTL は変更できますが、レコードに変更を加えることはできません。レコードは、ゾーンに割り当てられている Azure DNS ネーム サーバーを参照するよう事前に構成されています。

ゾーンの頂点にある NS レコードは作成も削除もできませんが、ゾーン内にある他の NS レコードは作成と削除が可能です。  この操作により、子ゾーンを構成できます (詳細については、「[Azure DNS サブドメインの委任](dns-domain-delegation.md#delegating-sub-domains-in-azure-dns)」を参照してください)。

### <a name="soa-records"></a>SOA レコード

SOA レコード セットは各ゾーンの頂点に自動的に作成され (名前は '@'),、ゾーンが削除されると自動的に削除されます。  SOA レコードを個別に作成または削除することはできません。

SOA レコードのプロパティはすべて変更可能ですが、"host" プロパティは変更できません。このプロパティは、Azure DNS で提供されているプライマリ ネーム サーバー名を参照するよう事前構成されています。

### <a name="spf-records"></a>SPF レコード

Sender Policy Framework (SPF) レコードは、特定のドメイン名を使って電子メールを送信することが許可される電子メール サーバーを指定するために使用されます。  SPF レコードを正しく構成するには、送信した電子メールが受信者に "迷惑メール" として分類されないようにする必要があります。

もともと DNS に関する RFC では、このようなシナリオに対応するレコードの種類として新しく "SPF" が導入されていました。 また、旧式のネーム サーバーに対応するために、レコードの種類として TXT を使用して SPF レコードを指定することも許可されていました。  このあいまいさが原因で混乱が生じていましたが、[RFC 7208](http://tools.ietf.org/html/rfc7208#section-3.1) によって解決されました。  この RFC では、SPF レコードはレコードの種類として TXT を使用して作成しなければならないことが規定され、レコードの種類としての SPF は廃止されました。

**SPF レコードは Azure DNS でもサポートされていますが、レコードの種類として TXT を使用して作成する必要があります。** 廃止されたレコードの種類としての SPF はサポートされていません。 [DNS ゾーン ファイルをインポートする](dns-import-export.md)際、レコードの種類として SPF が使用されている SPF レコードは、レコードの種類が TXT に変換されます。

### <a name="srv-records"></a>SRV レコード

[SRV レコード](https://en.wikipedia.org/wiki/SRV_record)は、さまざまなサービスでサーバーの場所を指定するために使用されます。 Azure DNS で SRV レコードを指定する際は、次の点に注意してください。

* "*サービス*" と "*プロトコル*" は、レコード セット名の一部として、先頭にアンダースコアを付けて指定する必要があります。  たとえば、"\_sip.\_tcp.name" のように指定します。  ゾーンの頂点にあるレコードの場合は、レコード名に '@' を指定する必要はありません。サービスとプロトコルのみを使用します。たとえば、"\_sip.\_tcp" のように指定します。
* "*優先度*"、"*重み*"、"*ポート*"、および "*ターゲット*" は、レコード セット内の各レコードのパラメーターとして指定されます。

## <a name="tags-and-metadata"></a>タグとメタデータ

### <a name="tags"></a>タグ

タグは名前と値のペアのリストで、Azure Resource Manager でリソースのラベル付けに使用されます。  Azure Resource Manager ではこのタグを使用して、Azure の課金内容に関するフィルター ビューを表示したり、必須タグに関するポリシーを設定したりします。 タグの詳細については、 [タグを使用した Azure リソースの整理](../resource-group-using-tags.md)を参照してください。

Azure DNS では、DNS ゾーン リソースに対して Azure Resource Manager のタグを使用できます。  DNS レコード セットへのタグ設定はサポートされていません。

### <a name="metadata"></a>Metadata

レコード セットのタグの代わりに、Azure DNS では "メタデータ" を使用してレコード セットに注釈を付けることができます。  メタデータを使用すると、タグと同じように、各レコード セットに名前と値のペアを関連付けることができます。  これは、各レコード セットの用途を記録しておきたい場合などに便利です。  タグと異なる点として、メタデータは、Azure の課金内容に関するフィルター ビューを提供するためには使用できず、Azure Resource Manager のポリシーで指定することもできません。

## <a name="limits"></a>制限

Azure DNS を使用する際は、次の制限が既定で適用されます。

[!INCLUDE [dns-limits](../../includes/dns-limits.md)]

## <a name="next-steps"></a>次のステップ

* Azure DNS の使用を開始する場合は、[DNS ゾーンの作成方法](dns-getstarted-create-dnszone-portal.md)と [DNS レコードの作成方法](dns-getstarted-create-recordset-portal.md)について確認してください。
* 既存の DNS ゾーンを移行する場合は、[DNS ゾーン ファイルをインポートする](dns-import-export.md)方法を確認してください。




<!--HONumber=Nov16_HO3-->


